(self.webpackChunkold=self.webpackChunkold||[]).push([[179],{538:(Ra,Nc,Rn)=>{"use strict";var vi={};Rn.r(vi),Rn.d(vi,{DEG_TO_RAD:()=>p_,LRUCache:()=>uk,MAX_NUM:()=>$l,MIN_NUM:()=>Gl,TextMetrics:()=>pk,append:()=>eh,arabicToRoman:()=>o6,bindEvents:()=>y_,createPromise:()=>th,defined:()=>te,definitionId:()=>xp,deg:()=>ur,elementOffset:()=>ok,elementPadding:()=>ak,elementScale:()=>ck,elementSize:()=>sh,elementStyles:()=>wp,encodeBase64:()=>tk,eventCoordinates:()=>nk,eventElement:()=>sk,hashKey:()=>dk,isTransparent:()=>oa,last:()=>en,limitValue:()=>bp,measureText:()=>Cp,mergeSort:()=>l6,normalizeText:()=>x_,now:()=>nh,objectKey:()=>hk,promiseAll:()=>ik,rad:()=>Ii,round:()=>Ke,unbindEvents:()=>v_,valueOrDefault:()=>m_});var Yt={};Rn.r(Yt),Rn.d(Yt,{easeOutElastic:()=>vW,linear:()=>yW,swing:()=>mW});var Na={};Rn.r(Na),Rn.d(Na,{ArcNode:()=>eR,CircleNode:()=>tR,ClipNode:()=>XP,DefinitionNode:()=>ZP,GradientStopNode:()=>WP,GroupNode:()=>nR,ImageNode:()=>sR,LinearGradientNode:()=>KP,MultiPathNode:()=>iR,Node:()=>wr,PathNode:()=>Cr,RadialGradientNode:()=>YP,RectNode:()=>oR,RootNode:()=>Zb,Surface:()=>aR,TextNode:()=>rR,exportGroup:()=>x2});var _d={};Rn.r(_d),Rn.d(_d,{ArcNode:()=>dR,CircleNode:()=>fR,GroupNode:()=>sw,ImageNode:()=>pR,MultiPathNode:()=>gR,Node:()=>nw,PathNode:()=>Sr,RectNode:()=>mR,RootNode:()=>lR,Surface:()=>rw,TextNode:()=>yR});var lt={};function Ve(s){return"function"==typeof s}function bd(s){const t=s(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Rn.r(lt),Rn.d(lt,{Animation:()=>ss,AnimationFactory:()=>ci,Arc:()=>LY,BaseNode:()=>Lh,Circle:()=>yo,Element:()=>Ri,Gradient:()=>j_,GradientStop:()=>H_,Group:()=>Ze,HasObservers:()=>ts,Image:()=>g2,Layout:()=>wR,LinearGradient:()=>jp,MultiPath:()=>Ni,OptionsStore:()=>k_,Path:()=>ee,PathParser:()=>KY,QuadNode:()=>uR,RadialGradient:()=>Up,Rect:()=>VY,ShapesQuadTree:()=>ow,Surface:()=>Bh,SurfaceFactory:()=>uw,Text:()=>cI,align:()=>zY,canvas:()=>_d,exportImage:()=>_2,exportSVG:()=>b2,fit:()=>qY,parsePath:()=>N_,stack:()=>jY,svg:()=>Na,util:()=>vi,vAlign:()=>HY,vStack:()=>UY,vWrap:()=>WY,wrap:()=>GY});const Oc=bd(s=>function(t){s(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Fs(s,e){if(s){const t=s.indexOf(e);0<=t&&s.splice(t,1)}}class Bt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Ve(n))try{n()}catch(o){e=o instanceof Oc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Gi(o)}catch(r){e=e??[],r instanceof Oc?e=[...e,...r.errors]:e.push(r)}}if(e)throw new Oc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gi(e);else{if(e instanceof Bt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fs(t,e)}remove(e){const{_finalizers:t}=this;t&&Fs(t,e),e instanceof Bt&&e._removeParent(this)}}Bt.EMPTY=(()=>{const s=new Bt;return s.closed=!0,s})();const Oa=Bt.EMPTY;function La(s){return s instanceof Bt||s&&"closed"in s&&Ve(s.remove)&&Ve(s.add)&&Ve(s.unsubscribe)}function Gi(s){Ve(s)?s():s.unsubscribe()}const rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vr={setTimeout(s,e,...t){const{delegate:n}=Vr;return n?.setTimeout?n.setTimeout(s,e,...t):setTimeout(s,e,...t)},clearTimeout(s){const{delegate:e}=Vr;return(e?.clearTimeout||clearTimeout)(s)},delegate:void 0};function Un(s){Vr.setTimeout(()=>{const{onUnhandledError:e}=rn;if(!e)throw s;e(s)})}function Lc(){}const zm=zr("C",void 0,void 0);function zr(s,e,t){return{kind:s,value:e,error:t}}let xi=null;function Wi(s){if(rn.useDeprecatedSynchronousErrorHandling){const e=!xi;if(e&&(xi={errorThrown:!1,error:null}),s(),e){const{errorThrown:t,error:n}=xi;if(xi=null,t)throw n}}else s()}class Ba extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,La(e)&&e.add(this)):this.destination=Hm}static create(e,t,n){return new _i(e,t,n)}next(e){this.isStopped?Bc(function Fc(s){return zr("N",s,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bc(function yn(s){return zr("E",void 0,s)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bc(zm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qi=Function.prototype.bind;function Ho(s,e){return qi.call(s,e)}class jo{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){Hr(n)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){Hr(n)}else Hr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Hr(t)}}}class _i extends Ba{constructor(e,t,n){let i;if(super(),Ve(e)||!e)i={next:e??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ho(e.next,o),error:e.error&&Ho(e.error,o),complete:e.complete&&Ho(e.complete,o)}):i=e}this.destination=new jo(i)}}function Hr(s){rn.useDeprecatedSynchronousErrorHandling?function Fa(s){rn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=s)}(s):Un(s)}function Bc(s,e){const{onStoppedNotification:t}=rn;t&&Vr.setTimeout(()=>t(s,e))}const Hm={closed:!0,next:Lc,error:function Va(s){throw s},complete:Lc},za="function"==typeof Symbol&&Symbol.observable||"@@observable";function jr(s){return s}let Vt=(()=>{class s{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new s;return n.source=this,n.operator=t,n}subscribe(t,n,i){const o=function Vc(s){return s&&s instanceof Ba||function Um(s){return s&&Ve(s.next)&&Ve(s.error)&&Ve(s.complete)}(s)&&La(s)}(t)?t:new _i(t,n,i);return Wi(()=>{const{operator:r,source:a}=this;o.add(r?r.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=Uo(n))((i,o)=>{const r=new _i({next:a=>{try{t(a)}catch(l){o(l),r.unsubscribe()}},error:o,complete:i});this.subscribe(r)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[za](){return this}pipe(...t){return function wd(s){return 0===s.length?jr:1===s.length?s[0]:function(t){return s.reduce((n,i)=>i(n),t)}}(t)(this)}toPromise(t){return new(t=Uo(t))((n,i)=>{let o;this.subscribe(r=>o=r,r=>i(r),()=>n(o))})}}return s.create=e=>new s(e),s})();function Uo(s){var e;return null!==(e=s??rn.Promise)&&void 0!==e?e:Promise}const $m=bd(s=>function(){s(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ur=(()=>{class s extends Vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new Xt(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new $m}next(t){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:i,observers:o}=this;return n||i?Oa:(this.currentObservers=null,o.push(t),new Bt(()=>{this.currentObservers=null,Fs(o,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:i,isStopped:o}=this;n?t.error(i):o&&t.complete()}asObservable(){const t=new Vt;return t.source=this,t}}return s.create=(e,t)=>new Xt(e,t),s})();class Xt extends Ur{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Oa}}function Xe(s){return e=>{if(function Ki(s){return Ve(s?.lift)}(e))return e.lift(function(t){try{return s(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(s,e,t,n,i){return new Ha(s,e,t,n,i)}class Ha extends Ba{constructor(e,t,n,i,o,r){super(e),this.onFinalize=o,this.shouldUnsubscribe=r,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Yi(s,e){return Xe((t,n)=>{let i=0;t.subscribe(ft(n,o=>{n.next(s.call(e,o,i++))}))})}function bi(s){return this instanceof bi?(this.v=s,this):new bi(s)}function Dd(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=t.apply(s,e||[]),o=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(d){n[d]&&(i[d]=function(f){return new Promise(function(p,g){o.push([d,f,p,g])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof bi?Promise.resolve(d.value.v).then(c,u):h(o[0][2],d)}(n[d](f))}catch(p){h(o[0][3],p)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Hc(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=s[Symbol.asyncIterator];return e?e.call(s):(s=function Sd(s){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&s[e],n=0;if(t)return t.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&n>=s.length&&(s=void 0),{value:s&&s[n++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=s[o]&&function(r){return new Promise(function(a,l){!function i(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}(a,l,(r=s[o](r)).done,r.value)})}}}const Uc=s=>s&&"number"==typeof s.length&&"function"!=typeof s;function $c(s){return Ve(s?.then)}function Gc(s){return Ve(s[za])}function $a(s){return Symbol.asyncIterator&&Ve(s?.[Symbol.asyncIterator])}function Ed(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Td=function Zm(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wc(s){return Ve(s?.[Td])}function Ad(s){return Dd(this,arguments,function*(){const t=s.getReader();try{for(;;){const{value:n,done:i}=yield bi(t.read());if(i)return yield bi(void 0);yield yield bi(n)}}finally{t.releaseLock()}})}function Md(s){return Ve(s?.getReader)}function Vs(s){if(s instanceof Vt)return s;if(null!=s){if(Gc(s))return function Ga(s){return new Vt(e=>{const t=s[za]();if(Ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(s);if(Uc(s))return function Qm(s){return new Vt(e=>{for(let t=0;t<s.length&&!e.closed;t++)e.next(s[t]);e.complete()})}(s);if($c(s))return function Jm(s){return new Vt(e=>{s.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Un)})}(s);if($a(s))return Wa(s);if(Wc(s))return function kd(s){return new Vt(e=>{for(const t of s)if(e.next(t),e.closed)return;e.complete()})}(s);if(Md(s))return function ey(s){return Wa(Ad(s))}(s)}throw Ed(s)}function Wa(s){return new Vt(e=>{(function Id(s,e){var t,n,i,o;return function Ua(s,e,t,n){return new(t||(t=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(h){r(h)}}function l(u){try{c(n.throw(u))}catch(h){r(h)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(r){r(o)})}(u.value).then(a,l)}c((n=n.apply(s,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Hc(s);!(n=yield t.next()).done;)if(e.next(n.value),e.closed)return}catch(r){i={error:r}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(s,e).catch(t=>e.error(t))})}function zs(s,e,t,n=0,i=!1){const o=e.schedule(function(){t(),i?s.add(this.schedule(null,n)):this.unsubscribe()},n);if(s.add(o),!i)return o}function qa(s,e,t=1/0){return Ve(e)?qa((n,i)=>Yi((o,r)=>e(n,o,i,r))(Vs(s(n,i))),t):("number"==typeof e&&(t=e),Xe((n,i)=>function Pd(s,e,t,n,i,o,r,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=g=>c<n?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let y=!1;Vs(t(g,u++)).subscribe(ft(e,x=>{i?.(x),o?f(x):e.next(x)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<n;){const x=l.shift();r?zs(e,r,()=>p(x)):p(x)}d()}catch(x){e.error(x)}}))};return s.subscribe(ft(e,f,()=>{h=!0,d()})),()=>{a?.()}}(n,i,s,t)))}const qc=new Vt(s=>s.complete());function Wo(s){return s&&Ve(s.schedule)}function Qi(s){return s[s.length-1]}function Ya(s){return Wo(Qi(s))?s.pop():void 0}function Od(s,e=0){return Xe((t,n)=>{t.subscribe(ft(n,i=>zs(n,s,()=>n.next(i),e),()=>zs(n,s,()=>n.complete(),e),i=>zs(n,s,()=>n.error(i),e)))})}function $r(s,e=0){return Xe((t,n)=>{n.add(s.schedule(()=>t.subscribe(n),e))})}function Ko(s,e){if(!s)throw new Error("Iterable cannot be null");return new Vt(t=>{zs(t,e,()=>{const n=s[Symbol.asyncIterator]();zs(t,e,()=>{n.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Yo(s,e){return e?function js(s,e){if(null!=s){if(Gc(s))return function Nn(s,e){return Vs(s).pipe($r(e),Od(e))}(s,e);if(Uc(s))return function wi(s,e){return new Vt(t=>{let n=0;return e.schedule(function(){n===s.length?t.complete():(t.next(s[n++]),t.closed||this.schedule())})})}(s,e);if($c(s))return function qo(s,e){return Vs(s).pipe($r(e),Od(e))}(s,e);if($a(s))return Ko(s,e);if(Wc(s))return function Hs(s,e){return new Vt(t=>{let n;return zs(t,e,()=>{n=s[Td](),zs(t,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(r){return void t.error(r)}o?t.complete():t.next(i)},0,!0)}),()=>Ve(n?.return)&&n.return()})}(s,e);if(Md(s))return function fs(s,e){return Ko(Ad(s),e)}(s,e)}throw Ed(s)}(s,e):Vs(s)}function Xa(...s){const e=Ya(s),t=function ty(s,e){return"number"==typeof Qi(s)?s.pop():e}(s,1/0),n=s;return n.length?1===n.length?Vs(n[0]):function Rd(s=1/0){return qa(jr,s)}(t)(Yo(n,e)):qc}function vn(s,e,...t){if(!0===e)return void s();if(!1===e)return;const n=new _i({next:()=>{n.unsubscribe(),s()}});return e(...t).subscribe(n)}function Fe(s){for(let e in s)if(s[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function Gr(s,e){for(const t in e)e.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(s[t]=e[t])}function ze(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ze).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const e=s.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Wr(s,e){return null==s||""===s?null===e?"":e:null==e||""===e?s:s+" "+e}const Kc=Fe({__forward_ref__:Fe});function Xo(s){return s.__forward_ref__=Xo,s.toString=function(){return ze(this())},s}function Q(s){return Yc(s)?s():s}function Yc(s){return"function"==typeof s&&s.hasOwnProperty(Kc)&&s.__forward_ref__===Xo}class F extends Error{constructor(e,t){super(function qr(s,e){return`NG0${Math.abs(s)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ae(s){return"string"==typeof s?s:null==s?"":String(s)}function D(s,e){throw new F(-201,!1)}function Gn(s,e){null==s&&function Ue(s,e,t,n){throw new Error(`ASSERTION ERROR: ${s}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,s,null,"!=")}function le(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ld(s){return YC(s,Fd)||YC(s,ZC)}function YC(s,e){return s.hasOwnProperty(e)?s[e]:null}function XC(s){return s&&(s.hasOwnProperty(sy)||s.hasOwnProperty(LB))?s[sy]:null}const Fd=Fe({\u0275prov:Fe}),sy=Fe({\u0275inj:Fe}),ZC=Fe({ngInjectableDef:Fe}),LB=Fe({ngInjectorDef:Fe});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let iy;function ps(s){const e=iy;return iy=s,e}function QC(s,e,t){const n=Ld(s);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&ce.Optional?null:void 0!==e?e:void D(ze(s))}function Zo(s){return{toString:s}.toString()}var $s=(()=>(($s=$s||{})[$s.OnPush=0]="OnPush",$s[$s.Default=1]="Default",$s))(),Gs=(()=>{return(s=Gs||(Gs={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Gs;var s})();const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qa={},He=[],Bd=Fe({\u0275cmp:Fe}),oy=Fe({\u0275dir:Fe}),ry=Fe({\u0275pipe:Fe}),JC=Fe({\u0275mod:Fe}),Ji=Fe({\u0275fac:Fe}),Xc=Fe({__NG_ELEMENT_ID__:Fe});let BB=0;function M(s){return Zo(()=>{const t=!0===s.standalone,n={},i={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===$s.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||He,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Gs.Emulated,id:"c"+BB++,styles:s.styles||He,_:null,setInput:null,schemas:s.schemas||null,tView:null},o=s.dependencies,r=s.features;return i.inputs=nS(s.inputs,n),i.outputs=nS(s.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(eS).filter(tS):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(_n).filter(tS):null,i})}function eS(s){return qe(s)||xn(s)}function tS(s){return null!==s}function gs(s){return Zo(()=>({type:s.type,bootstrap:s.bootstrap||He,declarations:s.declarations||He,imports:s.imports||He,exports:s.exports||He,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function nS(s,e){if(null==s)return Qa;const t={};for(const n in s)if(s.hasOwnProperty(n)){let i=s[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=n,e&&(e[i]=o)}return t}const Tt=M;function qe(s){return s[Bd]||null}function xn(s){return s[oy]||null}function _n(s){return s[ry]||null}function On(s){return Array.isArray(s)&&"object"==typeof s[1]}function qs(s){return Array.isArray(s)&&!0===s[1]}function cy(s){return 0!=(8&s.flags)}function jd(s){return 2==(2&s.flags)}function Ud(s){return 1==(1&s.flags)}function Ks(s){return null!==s.template}function $B(s){return 0!=(256&s[2])}function Qr(s,e){return s.hasOwnProperty(Ji)?s[Ji]:null}class oS{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Qo(){return rS}function rS(s){return s.type.prototype.ngOnChanges&&(s.setInput=KB),qB}function qB(){const s=lS(this),e=s?.current;if(e){const t=s.previous;if(t===Qa)s.previous=e;else for(let n in e)t[n]=e[n];s.current=null,this.ngOnChanges(e)}}function KB(s,e,t,n){const i=lS(s)||function YB(s,e){return s[aS]=e}(s,{previous:Qa,current:null}),o=i.current||(i.current={}),r=i.previous,a=this.declaredInputs[t],l=r[a];o[a]=new oS(l&&l.currentValue,e,r===Qa),s[n]=e}Qo.ngInherit=!0;const aS="__ngSimpleChanges__";function lS(s){return s[aS]||null}function Rt(s){for(;Array.isArray(s);)s=s[0];return s}function $d(s,e){return Rt(e[s])}function vs(s,e){return Rt(e[s.index])}function py(s,e){return s.data[e]}function Yn(s,e){const t=e[s];return On(t)?t:t[0]}function Gd(s){return 64==(64&s[2])}function Jo(s,e){return null==e?null:s[e]}function cS(s){s[18]=0}function gy(s,e){s[5]+=e;let t=s,n=s[3];for(;null!==n&&(1===e&&1===t[5]||-1===e&&0===t[5]);)n[5]+=e,t=n,n=n[3]}const he={lFrame:xS(null),bindingsEnabled:!0};function hS(){return he.bindingsEnabled}function R(){return he.lFrame.lView}function Ae(){return he.lFrame.tView}function Ht(){let s=dS();for(;null!==s&&64===s.type;)s=s.parent;return s}function dS(){return he.lFrame.currentTNode}function Ci(s,e){const t=he.lFrame;t.currentTNode=s,t.isParent=e}function my(){return he.lFrame.isParent}function yy(){he.lFrame.isParent=!1}function sl(){return he.lFrame.bindingIndex++}function dV(s,e){const t=he.lFrame;t.bindingIndex=t.bindingRootIndex=s,vy(e)}function vy(s){he.lFrame.currentDirectiveIndex=s}function mS(){return he.lFrame.currentQueryIndex}function _y(s){he.lFrame.currentQueryIndex=s}function pV(s){const e=s[1];return 2===e.type?e.declTNode:1===e.type?s[6]:null}function yS(s,e,t){if(t&ce.SkipSelf){let i=e,o=s;for(;!(i=i.parent,null!==i||t&ce.Host||(i=pV(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,s=o}const n=he.lFrame=vS();return n.currentTNode=e,n.lView=s,!0}function by(s){const e=vS(),t=s[1];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=s,e.tView=t,e.contextLView=s,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vS(){const s=he.lFrame,e=null===s?null:s.child;return null===e?xS(s):e}function xS(s){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=e),e}function _S(){const s=he.lFrame;return he.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const bS=_S;function wy(){const s=_S();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wn(){return he.lFrame.selectedIndex}function er(s){he.lFrame.selectedIndex=s}function Ct(){const s=he.lFrame;return py(s.tView,s.selectedIndex)}function Wd(s,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const o=s.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;r&&(s.contentHooks||(s.contentHooks=[])).push(-t,r),a&&((s.contentHooks||(s.contentHooks=[])).push(t,a),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(t,a)),l&&(s.viewHooks||(s.viewHooks=[])).push(-t,l),c&&((s.viewHooks||(s.viewHooks=[])).push(t,c),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(t,c)),null!=u&&(s.destroyHooks||(s.destroyHooks=[])).push(t,u)}}function qd(s,e,t){wS(s,e,3,t)}function Kd(s,e,t,n){(3&s[2])===t&&wS(s,e,t,n)}function Cy(s,e){let t=s[2];(3&t)===e&&(t&=2047,t+=1,s[2]=t)}function wS(s,e,t,n){const o=n??-1,r=e.length-1;let a=0;for(let l=void 0!==n?65535&s[18]:0;l<r;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(s[18]+=65536),(a<o||-1==o)&&(CV(s,t,e,l),s[18]=(4294901760&s[18])+l+2),l++}function CV(s,e,t,n){const i=t[n]<0,o=t[n+1],a=s[i?-t[n]:t[n]];if(i){if(s[2]>>11<s[18]>>16&&(3&s[2])===e){s[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class su{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Yd(s,e,t){let n=0;for(;n<t.length;){const i=t[n];if("number"==typeof i){if(0!==i)break;n++;const o=t[n++],r=t[n++],a=t[n++];s.setAttribute(e,r,a,o)}else{const o=i,r=t[++n];SS(o)?s.setProperty(e,o,r):s.setAttribute(e,o,r),n++}}return n}function CS(s){return 3===s||4===s||6===s}function SS(s){return 64===s.charCodeAt(0)}function Xd(s,e){if(null!==e&&0!==e.length)if(null===s||0===s.length)s=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?t=i:0===t||DS(s,t,i,null,-1===t||2===t?e[++n]:null)}}return s}function DS(s,e,t,n,i){let o=0,r=s.length;if(-1===e)r=-1;else for(;o<s.length;){const a=s[o++];if("number"==typeof a){if(a===e){r=-1;break}if(a>e){r=o-1;break}}}for(;o<s.length;){const a=s[o];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==i&&(s[o+1]=i));if(n===s[o+1])return void(s[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==r&&(s.splice(r,0,e),o=r+1),s.splice(o++,0,t),null!==n&&s.splice(o++,0,n),null!==i&&s.splice(o++,0,i)}function ES(s){return-1!==s}function il(s){return 32767&s}function ol(s,e){let t=function AV(s){return s>>16}(s),n=e;for(;t>0;)n=n[15],t--;return n}let Dy=!0;function Zd(s){const e=Dy;return Dy=s,e}let MV=0;const Si={};function ou(s,e){const t=Ty(s,e);if(-1!==t)return t;const n=e[1];n.firstCreatePass&&(s.injectorIndex=e.length,Ey(n.data,s),Ey(e,null),Ey(n.blueprint,null));const i=Qd(s,e),o=s.injectorIndex;if(ES(i)){const r=il(i),a=ol(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[r+c]|l[r+c]}return e[o+8]=i,o}function Ey(s,e){s.push(0,0,0,0,0,0,0,0,e)}function Ty(s,e){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===e[s.injectorIndex+8]?-1:s.injectorIndex}function Qd(s,e){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let t=0,n=null,i=e;for(;null!==i;){if(n=OS(i),null===n)return-1;if(t++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return-1}function Jd(s,e,t){!function kV(s,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(Xc)&&(n=t[Xc]),null==n&&(n=t[Xc]=MV++);const i=255&n;e.data[s+(i>>5)]|=1<<i}(s,e,t)}function MS(s,e,t){if(t&ce.Optional||void 0!==s)return s;D()}function kS(s,e,t,n){if(t&ce.Optional&&void 0===n&&(n=null),0==(t&(ce.Self|ce.Host))){const i=s[9],o=ps(void 0);try{return i?i.get(e,n,t&ce.Optional):QC(e,n,t&ce.Optional)}finally{ps(o)}}return MS(n,0,t)}function IS(s,e,t,n=ce.Default,i){if(null!==s){if(1024&e[2]){const r=function OV(s,e,t,n,i){let o=s,r=e;for(;null!==o&&null!==r&&1024&r[2]&&!(256&r[2]);){const a=PS(o,r,t,n|ce.Self,Si);if(a!==Si)return a;let l=o.parent;if(!l){const c=r[21];if(c){const u=c.get(t,Si,n);if(u!==Si)return u}l=OS(r),r=r[15]}o=l}return i}(s,e,t,n,Si);if(r!==Si)return r}const o=PS(s,e,t,n,Si);if(o!==Si)return o}return kS(e,t,n,i)}function PS(s,e,t,n,i){const o=function RV(s){if("string"==typeof s)return s.charCodeAt(0)||0;const e=s.hasOwnProperty(Xc)?s[Xc]:void 0;return"number"==typeof e?e>=0?255&e:NV:e}(t);if("function"==typeof o){if(!yS(e,s,n))return n&ce.Host?MS(i,0,n):kS(e,t,n,i);try{const r=o(n);if(null!=r||n&ce.Optional)return r;D()}finally{bS()}}else if("number"==typeof o){let r=null,a=Ty(s,e),l=-1,c=n&ce.Host?e[16][6]:null;for((-1===a||n&ce.SkipSelf)&&(l=-1===a?Qd(s,e):e[a+8],-1!==l&&NS(n,!1)?(r=e[1],a=il(l),e=ol(l,e)):a=-1);-1!==a;){const u=e[1];if(RS(o,a,u.data)){const h=PV(a,e,t,r,n,c);if(h!==Si)return h}l=e[a+8],-1!==l&&NS(n,e[1].data[a+8]===c)&&RS(o,a,e)?(r=u,a=il(l),e=ol(l,e)):a=-1}}return i}function PV(s,e,t,n,i,o){const r=e[1],a=r.data[s+8],u=ef(a,r,t,null==n?jd(a)&&Dy:n!=r&&0!=(3&a.type),i&ce.Host&&o===a);return null!==u?ru(e,r,u,a):Si}function ef(s,e,t,n,i){const o=s.providerIndexes,r=e.data,a=1048575&o,l=s.directiveStart,u=o>>20,d=i?a+u:s.directiveEnd;for(let f=n?a:a+u;f<d;f++){const p=r[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=r[l];if(f&&Ks(f)&&f.type===t)return l}return null}function ru(s,e,t,n){let i=s[t];const o=e.data;if(function SV(s){return s instanceof su}(i)){const r=i;r.resolving&&function m(s,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${s}`:"";throw new F(-200,`Circular dependency in DI detected for ${s}${t}`)}(function Pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ae(s)}(o[t]));const a=Zd(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?ps(r.injectImpl):null;yS(s,n,ce.Default);try{i=s[t]=r.factory(void 0,o,s,n),e.firstCreatePass&&t>=n.directiveStart&&function wV(s,e,t){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){const r=rS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(s,r),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s,r)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-s,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s,o))}(t,o[t],e)}finally{null!==l&&ps(l),Zd(a),r.resolving=!1,bS()}}return i}function RS(s,e,t){return!!(t[e+(s>>5)]&1<<s)}function NS(s,e){return!(s&ce.Self||s&ce.Host&&e)}class rl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return IS(this._tNode,this._lView,e,n,t)}}function NV(){return new rl(Ht(),R())}function My(s){return Yc(s)?()=>{const e=My(Q(s));return e&&e()}:Qr(s)}function OS(s){const e=s[1],t=e.type;return 2===t?e.declTNode:1===t?s[6]:null}const ll="__parameters__";function ul(s,e,t){return Zo(()=>{const n=function Iy(s){return function(...t){if(s){const n=s(...t);for(const i in n)this[i]=n[i]}}}(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;const r=new i(...o);return a.annotation=r,a;function a(l,c,u){const h=l.hasOwnProperty(ll)?l[ll]:Object.defineProperty(l,ll,{value:[]})[ll];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(r),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=s,i.annotationCls=i,i})}class me{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xn(s,e){void 0===e&&(e=s);for(let t=0;t<s.length;t++){let n=s[t];Array.isArray(n)?(e===s&&(e=s.slice(0,t)),Xn(n,e)):e!==s&&e.push(n)}return e}function no(s,e){s.forEach(t=>Array.isArray(t)?no(t,e):e(t))}function FS(s,e,t){e>=s.length?s.push(t):s.splice(e,0,t)}function tf(s,e){return e>=s.length-1?s.pop():s.splice(e,1)[0]}function cu(s,e){const t=[];for(let n=0;n<s;n++)t.push(e);return t}function Zn(s,e,t){let n=hl(s,e);return n>=0?s[1|n]=t:(n=~n,function VV(s,e,t,n){let i=s.length;if(i==e)s.push(t,n);else if(1===i)s.push(n,s[0]),s[0]=t;else{for(i--,s.push(s[i-1],s[i]);i>e;)s[i]=s[i-2],i--;s[e]=t,s[e+1]=n}}(s,n,e,t)),n}function Ry(s,e){const t=hl(s,e);if(t>=0)return s[1|t]}function hl(s,e){return function zS(s,e,t){let n=0,i=s.length>>t;for(;i!==n;){const o=n+(i-n>>1),r=s[o<<t];if(e===r)return o<<t;r>e?i=o:n=o+1}return~(i<<t)}(s,e,1)}const uu={},Oy="__NG_DI_FLAG__",sf="ngTempTokenPath",qV=/\n/gm,HS="__source";let hu;function dl(s){const e=hu;return hu=s,e}function YV(s,e=ce.Default){if(void 0===hu)throw new F(-203,!1);return null===hu?QC(s,void 0,e):hu.get(s,e&ce.Optional?null:void 0,e)}function Y(s,e=ce.Default){return(function FB(){return iy}()||YV)(Q(s),e)}function Ly(s){const e=[];for(let t=0;t<s.length;t++){const n=Q(s[t]);if(Array.isArray(n)){if(0===n.length)throw new F(900,!1);let i,o=ce.Default;for(let r=0;r<n.length;r++){const a=n[r],l=ZV(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Y(i,o))}else e.push(Y(n))}return e}function du(s,e){return s[Oy]=e,s.prototype[Oy]=e,s}function ZV(s){return s[Oy]}const of=du(ul("Optional"),8),rf=du(ul("SkipSelf"),4);let By,cf,uf;function pl(s){return function Vy(){if(void 0===cf&&(cf=null,tt.trustedTypes))try{cf=tt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return cf}()?.createHTML(s)||s}function ZS(s){return function zy(){if(void 0===uf&&(uf=null,tt.trustedTypes))try{uf=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return uf}()?.createHTML(s)||s}class eD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function nr(s){return s instanceof eD?s.changingThisBreaksApplicationSecurity:s}class vz{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(pl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class xz{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const n=this.inertDocument.createElement("body");t.appendChild(n)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=pl(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=pl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const r=t.item(i).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const bz=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Hy(s){return(s=String(s)).match(bz)?s:"unsafe:"+s}function so(s){const e={};for(const t of s.split(","))e[t]=!0;return e}function mu(...s){const e={};for(const t of s)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const nD=so("area,br,col,hr,img,wbr"),sD=so("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iD=so("rp,rt"),jy=mu(nD,mu(sD,so("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mu(iD,so("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mu(iD,sD)),Uy=so("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oD=mu(Uy,so("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),so("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wz=so("script,style,template");class Cz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!jy.hasOwnProperty(t))return this.sanitizedSomething=!0,!wz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const o=n.item(i),r=o.name,a=r.toLowerCase();if(!oD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Uy[a]&&(l=Hy(l)),this.buf.push(" ",r,'="',rD(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();jy.hasOwnProperty(t)&&!nD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(rD(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Sz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dz=/([^\#-~ |!])/g;function rD(s){return s.replace(/&/g,"&amp;").replace(Sz,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Dz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hf;function $y(s){return"content"in s&&function Tz(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Nt=(()=>((Nt=Nt||{})[Nt.NONE=0]="NONE",Nt[Nt.HTML=1]="HTML",Nt[Nt.STYLE=2]="STYLE",Nt[Nt.SCRIPT=3]="SCRIPT",Nt[Nt.URL=4]="URL",Nt[Nt.RESOURCE_URL=5]="RESOURCE_URL",Nt))();function aD(s){const e=function yu(){const s=R();return s&&s[12]}();return e?ZS(e.sanitize(Nt.HTML,s)||""):function gu(s,e){const t=function yz(s){return s instanceof eD&&s.getTypeName()||null}(s);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(s,"HTML")?ZS(nr(s)):function Ez(s,e){let t=null;try{hf=hf||function tD(s){const e=new xz(s);return function _z(){try{return!!(new window.DOMParser).parseFromString(pl(""),"text/html")}catch{return!1}}()?new vz(e):e}(s);let n=e?String(e):"";t=hf.getInertBodyElement(n);let i=5,o=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=t.innerHTML,t=hf.getInertBodyElement(n)}while(n!==o);return pl((new Cz).sanitizeChildren($y(t)||t))}finally{if(t){const n=$y(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}(function XS(){return void 0!==By?By:typeof document<"u"?document:void 0}(),ae(s))}const uD=new me("ENVIRONMENT_INITIALIZER"),hD=new me("INJECTOR",-1),dD=new me("INJECTOR_DEF_TYPES");class fD{get(e,t=uu){if(t===uu){const n=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw n.name="NullInjectorError",n}return t}}function Nz(...s){return{\u0275providers:pD(0,s)}}function pD(s,...e){const t=[],n=new Set;let i;return no(e,o=>{const r=o;Gy(r,t,[],n)&&(i||(i=[]),i.push(r))}),void 0!==i&&gD(i,t),t}function gD(s,e){for(let t=0;t<s.length;t++){const{providers:i}=s[t];no(i,o=>{e.push(o)})}}function Gy(s,e,t,n){if(!(s=Q(s)))return!1;let i=null,o=XC(s);const r=!o&&qe(s);if(o||r){if(r&&!r.standalone)return!1;i=s}else{const l=s.ngModule;if(o=XC(l),!o)return!1;i=l}const a=n.has(i);if(r){if(a)return!1;if(n.add(i),r.dependencies){const l="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const c of l)Gy(c,e,t,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;n.add(i);try{no(o.imports,u=>{Gy(u,e,t,n)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&gD(c,e)}if(!a){const c=Qr(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:He},{provide:dD,useValue:i,multi:!0},{provide:uD,useValue:()=>Y(i),multi:!0})}const l=o.providers;null==l||a||no(l,u=>{e.push(u)})}}return i!==s&&void 0!==s.providers}const Oz=Fe({provide:String,useValue:Fe});function Wy(s){return null!==s&&"object"==typeof s&&Oz in s}function Jr(s){return"function"==typeof s}const qy=new me("Set Injector scope."),df={},Fz={};let Ky;function ff(){return void 0===Ky&&(Ky=new fD),Ky}class gl{}class vD extends gl{constructor(e,t,n,i){super(),this.parent=t,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xy(e,r=>this.processProvider(r)),this.records.set(hD,ml(void 0,this)),i.has("environment")&&this.records.set(gl,ml(void 0,this));const o=this.records.get(qy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dD.multi,He,ce.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=dl(this),n=ps(void 0);try{return e()}finally{dl(t),ps(n)}}get(e,t=uu,n=ce.Default){this.assertNotDestroyed();const i=dl(this),o=ps(void 0);try{if(!(n&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function jz(s){return"function"==typeof s||"object"==typeof s&&s instanceof me}(e)&&Ld(e);a=l&&this.injectableDefInScope(l)?ml(Yy(e),df):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&ce.Self?ff():this.parent).get(e,t=n&ce.Optional&&t===uu?null:t)}catch(r){if("NullInjectorError"===r.name){if((r[sf]=r[sf]||[]).unshift(ze(e)),i)throw r;return function QV(s,e,t,n){const i=s[sf];throw e[HS]&&i.unshift(e[HS]),s.message=function JV(s,e,t,n=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if("object"==typeof e){let o=[];for(let r in e)if(e.hasOwnProperty(r)){let a=e[r];o.push(r+":"+("string"==typeof a?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${i}]: ${s.replace(qV,"\n  ")}`}("\n"+s.message,i,t,n),s.ngTokenPath=i,s[sf]=null,s}(r,e,"R3InjectorError",this.source)}throw r}finally{ps(o),dl(i)}}resolveInjectorInitializers(){const e=dl(this),t=ps(void 0);try{const n=this.get(uD.multi,He,ce.Self);for(const i of n)i()}finally{dl(e),ps(t)}}toString(){const e=[],t=this.records;for(const n of t.keys())e.push(ze(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Jr(e=Q(e))?e:Q(e&&e.provide);const n=function Vz(s){return Wy(s)?ml(void 0,s.useValue):ml(xD(s),df)}(e);if(Jr(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ml(void 0,df,!0),i.factory=()=>Ly(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,n)}hydrate(e,t){return t.value===df&&(t.value=Fz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Hz(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Yy(s){const e=Ld(s),t=null!==e?e.factory:Qr(s);if(null!==t)return t;if(s instanceof me)throw new F(204,!1);if(s instanceof Function)return function Bz(s){const e=s.length;if(e>0)throw cu(e,"?"),new F(204,!1);const t=function NB(s){const e=s&&(s[Fd]||s[ZC]);if(e){const t=function OB(s){if(s.hasOwnProperty("name"))return s.name;const e=(""+s).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(s);return null!==t?()=>t.factory(s):()=>new s}(s);throw new F(204,!1)}function xD(s,e,t){let n;if(Jr(s)){const i=Q(s);return Qr(i)||Yy(i)}if(Wy(s))n=()=>Q(s.useValue);else if(function yD(s){return!(!s||!s.useFactory)}(s))n=()=>s.useFactory(...Ly(s.deps||[]));else if(function mD(s){return!(!s||!s.useExisting)}(s))n=()=>Y(Q(s.useExisting));else{const i=Q(s&&(s.useClass||s.provide));if(!function zz(s){return!!s.deps}(s))return Qr(i)||Yy(i);n=()=>new i(...Ly(s.deps))}return n}function ml(s,e,t=!1){return{factory:s,value:e,multi:t?[]:void 0}}function Uz(s){return!!s.\u0275providers}function Xy(s,e){for(const t of s)Array.isArray(t)?Xy(t,e):Uz(t)?Xy(t.\u0275providers,e):e(t)}class _D{}class Wz{resolveComponentFactory(e){throw function Gz(s){const e=Error(`No component factory found for ${ze(s)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=s,e}(e)}}let vu=(()=>{class s{}return s.NULL=new Wz,s})();function qz(){return yl(Ht(),R())}function yl(s,e){return new xs(vs(s,e))}let xs=(()=>{class s{constructor(t){this.nativeElement=t}}return s.__NG_ELEMENT_ID__=qz,s})();function Kz(s){return s instanceof xs?s.nativeElement:s}class xu{}let vl=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Yz(){const s=R(),t=Yn(Ht().index,s);return(On(t)?t:s)[11]}(),s})(),Xz=(()=>{class s{}return s.\u0275prov=le({token:s,providedIn:"root",factory:()=>null}),s})();class Zy{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Zz=new Zy("14.2.3"),Qy={};function sv(s){return s.ngOriginalError}class xl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sv(e);for(;t&&sv(t);)t=sv(t);return t||null}}const iv=new Map;let c3=0;const rv="__ngContext__";function fn(s,e){On(e)?(s[rv]=e[20],function h3(s){iv.set(s[20],s)}(e)):s[rv]=e}var Ln=(()=>((Ln=Ln||{})[Ln.Important=1]="Important",Ln[Ln.DashCase=2]="DashCase",Ln))();function lv(s,e){return undefined(s,e)}function bu(s){const e=s[3];return qs(e)?e[3]:e}function cv(s){return OD(s[13])}function uv(s){return OD(s[4])}function OD(s){for(;null!==s&&!qs(s);)s=s[4];return s}function bl(s,e,t,n,i){if(null!=n){let o,r=!1;qs(n)?o=n:On(n)&&(r=!0,n=n[0]);const a=Rt(n);0===s&&null!==t?null==i?HD(e,t,a):ea(e,t,a,i||null,!0):1===s&&null!==t?ea(e,t,a,i||null,!0):2===s?function KD(s,e,t){const n=pf(s,e);n&&function B3(s,e,t,n){s.removeChild(e,t,n)}(s,n,e,t)}(e,a,r):3===s&&e.destroyNode(a),null!=o&&function H3(s,e,t,n,i){const o=t[7];o!==Rt(t)&&bl(e,s,n,o,i);for(let a=10;a<t.length;a++){const l=t[a];wu(l[1],l,s,e,n,o)}}(e,s,o,t,i)}}function dv(s,e,t){return s.createElement(e,t)}function FD(s,e){const t=s[9],n=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,gy(i,-1)),t.splice(n,1)}function fv(s,e){if(s.length<=10)return;const t=10+e,n=s[t];if(n){const i=n[17];null!==i&&i!==s&&FD(i,n),e>0&&(s[t-1][4]=n[4]);const o=tf(s,10+e);!function k3(s,e){wu(s,e,e[11],2,null,null),e[0]=null,e[6]=null}(n[1],n);const r=o[19];null!==r&&r.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-65}return n}function BD(s,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&wu(s,e,t,3,null,null),function R3(s){let e=s[13];if(!e)return pv(s[1],s);for(;e;){let t=null;if(On(e))t=e[13];else{const n=e[10];n&&(t=n)}if(!t){for(;e&&!e[4]&&e!==s;)On(e)&&pv(e[1],e),e=e[3];null===e&&(e=s),On(e)&&pv(e[1],e),t=e&&e[4]}e=t}}(e)}}function pv(s,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function F3(s,e){let t;if(null!=s&&null!=(t=s.destroyHooks))for(let n=0;n<t.length;n+=2){const i=e[t[n]];if(!(i instanceof su)){const o=t[n+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){const a=i[o[r]],l=o[r+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(s,e),function L3(s,e){const t=s.cleanup,n=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const r=t[o+1],a="function"==typeof r?r(e):Rt(e[r]),l=n[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?n[i=c]():n[i=-c].unsubscribe(),o+=2}else{const r=n[i=t[o+1]];t[o].call(r)}if(null!==n){for(let o=i+1;o<n.length;o++)(0,n[o])();e[7]=null}}(s,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&qs(e[3])){t!==e[3]&&FD(t,e);const n=e[19];null!==n&&n.detachView(s)}!function d3(s){iv.delete(s[20])}(e)}}function VD(s,e,t){return function zD(s,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[0];if(2&n.flags){const i=s.data[n.directiveStart].encapsulation;if(i===Gs.None||i===Gs.Emulated)return null}return vs(n,t)}(s,e.parent,t)}function ea(s,e,t,n,i){s.insertBefore(e,t,n,i)}function HD(s,e,t){s.appendChild(e,t)}function jD(s,e,t,n,i){null!==n?ea(s,e,t,n,i):HD(s,e,t)}function pf(s,e){return s.parentNode(e)}function UD(s,e,t){return GD(s,e,t)}let GD=function $D(s,e,t){return 40&s.type?vs(s,t):null};function gf(s,e,t,n){const i=VD(s,n,e),o=e[11],a=UD(n.parent||e[6],n,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)jD(o,i,t[l],a,!1);else jD(o,i,t,a,!1)}function mf(s,e){if(null!==e){const t=e.type;if(3&t)return vs(e,s);if(4&t)return mv(-1,s[e.index]);if(8&t){const n=e.child;if(null!==n)return mf(s,n);{const i=s[e.index];return qs(i)?mv(-1,i):Rt(i)}}if(32&t)return lv(e,s)()||Rt(s[e.index]);{const n=qD(s,e);return null!==n?Array.isArray(n)?n[0]:mf(bu(s[16]),n):mf(s,e.next)}}return null}function qD(s,e){return null!==e?s[16][6].projection[e.projection]:null}function mv(s,e){const t=10+s+1;if(t<e.length){const n=e[t],i=n[1].firstChild;if(null!==i)return mf(n,i)}return e[7]}function yv(s,e,t,n,i,o,r){for(;null!=t;){const a=n[t.index],l=t.type;if(r&&0===e&&(a&&fn(Rt(a),n),t.flags|=4),64!=(64&t.flags))if(8&l)yv(s,e,t.child,n,i,o,!1),bl(e,s,i,a,o);else if(32&l){const c=lv(t,n);let u;for(;u=c();)bl(e,s,i,u,o);bl(e,s,i,a,o)}else 16&l?YD(s,e,n,t,i,o):bl(e,s,i,a,o);t=r?t.projectionNext:t.next}}function wu(s,e,t,n,i,o){yv(t,n,s.firstChild,e,i,o,!1)}function YD(s,e,t,n,i,o){const r=t[16],l=r[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)bl(e,s,i,l[c],o);else yv(s,e,l,r[3],i,o,!0)}function XD(s,e,t){s.setAttribute(e,"style",t)}function vv(s,e,t){""===t?s.removeAttribute(e,"class"):s.setAttribute(e,"class",t)}function ZD(s,e,t){let n=s.length;for(;;){const i=s.indexOf(e,t);if(-1===i)return i;if(0===i||s.charCodeAt(i-1)<=32){const o=e.length;if(i+o===n||s.charCodeAt(i+o)<=32)return i}t=i+1}}const QD="ng-template";function U3(s,e,t){let n=0;for(;n<s.length;){let i=s[n++];if(t&&"class"===i){if(i=s[n],-1!==ZD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;n<s.length&&"string"==typeof(i=s[n++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function JD(s){return 4===s.type&&s.value!==QD}function $3(s,e,t){return e===(4!==s.type||t?s.value:QD)}function G3(s,e,t){let n=4;const i=s.attrs||[],o=function K3(s){for(let e=0;e<s.length;e++)if(CS(s[e]))return e;return s.length}(i);let r=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!r)if(4&n){if(n=2|1&n,""!==l&&!$3(s,l,t)||""===l&&1===e.length){if(Ys(n))return!1;r=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==s.attrs){if(!U3(s.attrs,c,t)){if(Ys(n))return!1;r=!0}continue}const h=W3(8&n?"class":l,i,JD(s),t);if(-1===h){if(Ys(n))return!1;r=!0;continue}if(""!==c){let d;d=h>o?"":i[h+1].toLowerCase();const f=8&n?d:null;if(f&&-1!==ZD(f,c,0)||2&n&&c!==d){if(Ys(n))return!1;r=!0}}}}else{if(!r&&!Ys(n)&&!Ys(l))return!1;if(r&&Ys(l))continue;r=!1,n=l|1&n}}return Ys(n)||r}function Ys(s){return 0==(1&s)}function W3(s,e,t,n){if(null===e)return-1;let i=0;if(n||!t){let o=!1;for(;i<e.length;){const r=e[i];if(r===s)return i;if(3===r||6===r)o=!0;else{if(1===r||2===r){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=o?1:2}return-1}return function Y3(s,e){let t=s.indexOf(4);if(t>-1)for(t++;t<s.length;){const n=s[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,s)}function e1(s,e,t=!1){for(let n=0;n<e.length;n++)if(G3(s,e[n],t))return!0;return!1}function X3(s,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(s.length===n.length){for(let i=0;i<s.length;i++)if(s[i]!==n[i])continue e;return!0}}return!1}function t1(s,e){return s?":not("+e.trim()+")":e}function Z3(s){let e=s[0],t=1,n=2,i="",o=!1;for(;t<s.length;){let r=s[t];if("string"==typeof r)if(2&n){const a=s[++t];i+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?i+="."+r:4&n&&(i+=" "+r);else""!==i&&!Ys(r)&&(e+=t1(o,i),i=""),n=r,o=o||!Ys(n);t++}return""!==i&&(e+=t1(o,i)),e}const fe={};function nt(s){n1(Ae(),R(),wn()+s,!1)}function n1(s,e,t,n){if(!n)if(3==(3&e[2])){const o=s.preOrderCheckHooks;null!==o&&qd(e,o,t)}else{const o=s.preOrderHooks;null!==o&&Kd(e,o,0,t)}er(t)}function r1(s,e=null,t=null,n){const i=a1(s,e,t,n);return i.resolveInjectorInitializers(),i}function a1(s,e=null,t=null,n,i=new Set){const o=[t||He,Nz(s)];return n=n||("object"==typeof s?void 0:ze(s)),new vD(o,e||ff(),n||null,i)}let sr=(()=>{class s{static create(t,n){if(Array.isArray(t))return r1({name:""},n,t,"");{const i=t.name??"";return r1({name:i},t.parent,t.providers,i)}}}return s.THROW_IF_NOT_FOUND=uu,s.NULL=new fD,s.\u0275prov=le({token:s,providedIn:"any",factory:()=>Y(hD)}),s.__NG_ELEMENT_ID__=-1,s})();function b(s,e=ce.Default){const t=R();return null===t?Y(s,e):IS(Ht(),t,Q(s),e)}function vf(){throw new Error("invalid")}function xf(s,e){return s<<17|e<<2}function Xs(s){return s>>17&32767}function Cv(s){return 2|s}function oo(s){return(131068&s)>>2}function Sv(s,e){return-131069&s|e<<2}function Dv(s){return 1|s}function S1(s,e){const t=s.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const i=t[n],o=t[n+1];if(-1!==o){const r=s.data[o];_y(i),r.contentQueries(2,e[o],o)}}}function wf(s,e,t,n,i,o,r,a,l,c,u){const h=e.blueprint.slice();return h[0]=i,h[2]=76|n,(null!==u||s&&1024&s[2])&&(h[2]|=1024),cS(h),h[3]=h[15]=s,h[8]=t,h[10]=r||s&&s[10],h[11]=a||s&&s[11],h[12]=l||s&&s[12]||null,h[9]=c||s&&s[9]||null,h[6]=o,h[20]=function u3(){return c3++}(),h[21]=u,h[16]=2==e.type?s[16]:h,h}function Cl(s,e,t,n,i){let o=s.data[e];if(null===o)o=function Rv(s,e,t,n,i){const o=dS(),r=my(),l=s.data[e]=function RH(s,e,t,n,i,o){return{type:t,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,t,e,n,i);return null===s.firstChild&&(s.firstChild=l),null!==o&&(r?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(s,e,t,n,i),function hV(){return he.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=n,o.attrs=i;const r=function nu(){const s=he.lFrame,e=s.currentTNode;return s.isParent?e:e.parent}();o.injectorIndex=null===r?-1:r.injectorIndex}return Ci(o,!0),o}function Sl(s,e,t,n){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(n),s.blueprint.push(n),s.data.push(null);return i}function Nv(s,e,t){by(e);try{const n=s.viewQuery;null!==n&&jv(1,n,t);const i=s.template;null!==i&&D1(s,e,i,1,t),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&S1(s,e),s.staticViewQueries&&jv(2,s.viewQuery,t);const o=s.components;null!==o&&function kH(s,e){for(let t=0;t<e.length;t++)YH(s,e[t])}(e,o)}catch(n){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),n}finally{e[2]&=-5,wy()}}function Cf(s,e,t,n){const i=e[2];if(128!=(128&i)){by(e);try{cS(e),function pS(s){return he.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==t&&D1(s,e,t,2,n);const r=3==(3&i);if(r){const c=s.preOrderCheckHooks;null!==c&&qd(e,c,null)}else{const c=s.preOrderHooks;null!==c&&Kd(e,c,0,null),Cy(e,0)}if(function qH(s){for(let e=cv(s);null!==e;e=uv(e)){if(!e[2])continue;const t=e[9];for(let n=0;n<t.length;n++){const i=t[n],o=i[3];0==(512&i[2])&&gy(o,1),i[2]|=512}}}(e),function WH(s){for(let e=cv(s);null!==e;e=uv(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Gd(n)&&Cf(i,n,i.template,n[8])}}(e),null!==s.contentQueries&&S1(s,e),r){const c=s.contentCheckHooks;null!==c&&qd(e,c)}else{const c=s.contentHooks;null!==c&&Kd(e,c,1),Cy(e,1)}!function AH(s,e){const t=s.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const i=t[n];if(i<0)er(~i);else{const o=i,r=t[++n],a=t[++n];dV(r,o),a(2,e[o])}}}finally{er(-1)}}(s,e);const a=s.components;null!==a&&function MH(s,e){for(let t=0;t<e.length;t++)KH(s,e[t])}(e,a);const l=s.viewQuery;if(null!==l&&jv(2,l,n),r){const c=s.viewCheckHooks;null!==c&&qd(e,c)}else{const c=s.viewHooks;null!==c&&Kd(e,c,2),Cy(e,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,gy(e[3],-1))}finally{wy()}}}function D1(s,e,t,n,i){const o=wn(),r=2&n;try{er(-1),r&&e.length>22&&n1(s,e,22,!1),t(n,i)}finally{er(o)}}function E1(s,e,t){if(cy(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const r=s.data[o];r.contentQueries&&r.contentQueries(1,t[o],o)}}}function Ov(s,e,t){!hS()||(function BH(s,e,t,n){const i=t.directiveStart,o=t.directiveEnd;s.firstCreatePass||ou(t,e),fn(n,e);const r=t.initialInputs;for(let a=i;a<o;a++){const l=s.data[a],c=Ks(l);c&&UH(e,t,l);const u=ru(e,s,a,t);fn(u,e),null!==r&&$H(0,a-i,u,l,0,r),c&&(Yn(t.index,e)[8]=u)}}(s,e,t,vs(t,e)),128==(128&t.flags)&&function VH(s,e,t){const n=t.directiveStart,i=t.directiveEnd,o=t.index,r=function fV(){return he.lFrame.currentDirectiveIndex}();try{er(o);for(let a=n;a<i;a++){const l=s.data[a],c=e[a];vy(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&R1(l,c)}}finally{er(-1),vy(r)}}(s,e,t))}function Lv(s,e,t=vs){const n=e.localNames;if(null!==n){let i=e.index+1;for(let o=0;o<n.length;o+=2){const r=n[o+1],a=-1===r?t(e,s):s[r];s[i++]=a}}}function T1(s){const e=s.tView;return null===e||e.incompleteFirstPass?s.tView=Fv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):e}function Fv(s,e,t,n,i,o,r,a,l,c){const u=22+n,h=u+i,d=function IH(s,e){const t=[];for(let n=0;n<e;n++)t.push(n<s?null:fe);return t}(u,h),f="function"==typeof c?c():c;return d[1]={type:s,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function A1(s,e,t,n){const i=B1(e);null===t?i.push(n):(i.push(t),s.firstCreatePass&&V1(s).push(n,i.length-1))}function M1(s,e,t){for(let n in s)if(s.hasOwnProperty(n)){const i=s[n];(t=null===t?{}:t).hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}return t}function k1(s,e){const n=e.directiveEnd,i=s.data,o=e.attrs,r=[];let a=null,l=null;for(let c=e.directiveStart;c<n;c++){const u=i[c],h=u.inputs,d=null===o||JD(e)?null:GH(h,o);r.push(d),a=M1(h,c,a),l=M1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=a,e.outputs=l}function I1(s,e){const t=Yn(e,s);16&t[2]||(t[2]|=32)}function Bv(s,e,t,n){let i=!1;if(hS()){const o=function zH(s,e,t){const n=s.directiveRegistry;let i=null;if(n)for(let o=0;o<n.length;o++){const r=n[o];e1(t,r.selectors,!1)&&(i||(i=[]),Jd(ou(t,e),s,r.type),Ks(r)?(N1(s,t),i.unshift(r)):i.push(r))}return i}(s,e,t),r=null===n?null:{"":-1};if(null!==o){i=!0,O1(t,s.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=Sl(s,e,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];t.mergedAttrs=Xd(t.mergedAttrs,h.hostAttrs),L1(s,t,e,c,h),jH(c,h,r),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t.index),l=!0),c++}k1(s,t)}r&&function HH(s,e,t){if(e){const n=s.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new F(-301,!1);n.push(e[i],o)}}}(t,n,r)}return t.mergedAttrs=Xd(t.mergedAttrs,t.attrs),i}function P1(s,e,t,n,i,o){const r=o.hostBindings;if(r){let a=s.hostBindingOpCodes;null===a&&(a=s.hostBindingOpCodes=[]);const l=~e.index;(function FH(s){let e=s.length;for(;e>0;){const t=s[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(n,i,r)}}function R1(s,e){null!==s.hostBindings&&s.hostBindings(1,e)}function N1(s,e){e.flags|=2,(s.components||(s.components=[])).push(e.index)}function jH(s,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=s;Ks(e)&&(t[""]=s)}}function O1(s,e,t){s.flags|=1,s.directiveStart=e,s.directiveEnd=e+t,s.providerIndexes=e}function L1(s,e,t,n,i){s.data[n]=i;const o=i.factory||(i.factory=Qr(i.type)),r=new su(o,Ks(i),b);s.blueprint[n]=r,t[n]=r,P1(s,e,0,n,Sl(s,t,i.hostVars,fe),i)}function UH(s,e,t){const n=vs(e,s),i=T1(t),o=s[10],r=Sf(s,wf(s,i,null,t.onPush?32:16,n,e,o,o.createRenderer(n,t),null,null,null));s[e.index]=r}function Di(s,e,t,n,i,o){const r=vs(s,e);!function Vv(s,e,t,n,i,o,r){if(null==o)s.removeAttribute(e,i,t);else{const a=null==r?ae(o):r(o,n||"",i);s.setAttribute(e,i,a,t)}}(e[11],r,o,s.value,t,n,i)}function $H(s,e,t,n,i,o){const r=o[e];if(null!==r){const a=n.setInput;for(let l=0;l<r.length;){const c=r[l++],u=r[l++],h=r[l++];null!==a?n.setInput(t,h,c,u):t[u]=h}}}function GH(s,e){let t=null,n=0;for(;n<e.length;){const i=e[n];if(0!==i)if(5!==i){if("number"==typeof i)break;s.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,s[i],e[n+1])),n+=2}else n+=2;else n+=4}return t}function F1(s,e,t,n){return new Array(s,!0,!1,e,null,0,n,t,null,null)}function KH(s,e){const t=Yn(e,s);if(Gd(t)){const n=t[1];48&t[2]?Cf(n,t,n.template,t[8]):t[5]>0&&zv(t)}}function zv(s){for(let n=cv(s);null!==n;n=uv(n))for(let i=10;i<n.length;i++){const o=n[i];if(Gd(o))if(512&o[2]){const r=o[1];Cf(r,o,r.template,o[8])}else o[5]>0&&zv(o)}const t=s[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=Yn(t[n],s);Gd(i)&&i[5]>0&&zv(i)}}function YH(s,e){const t=Yn(e,s),n=t[1];(function XH(s,e){for(let t=e.length;t<s.blueprint.length;t++)e.push(s.blueprint[t])})(n,t),Nv(n,t,t[8])}function Sf(s,e){return s[13]?s[14][4]=e:s[13]=e,s[14]=e,e}function Hv(s){for(;s;){s[2]|=32;const e=bu(s);if($B(s)&&!e)return s;s=e}return null}function Df(s,e,t,n=!0){const i=e[10];i.begin&&i.begin();try{Cf(s,e,s.template,t)}catch(r){throw n&&H1(e,r),r}finally{i.end&&i.end()}}function jv(s,e,t){_y(0),e(s,t)}function B1(s){return s[7]||(s[7]=[])}function V1(s){return s.cleanup||(s.cleanup=[])}function H1(s,e){const t=s[9],n=t?t.get(xl,null):null;n&&n.handleError(e)}function Uv(s,e,t,n,i){for(let o=0;o<t.length;){const r=t[o++],a=t[o++],l=e[r],c=s.data[r];null!==c.setInput?c.setInput(l,i,n,a):l[a]=i}}function Ef(s,e,t){let n=t?s.styles:null,i=t?s.classes:null,o=0;if(null!==e)for(let r=0;r<e.length;r++){const a=e[r];"number"==typeof a?o=a:1==o?i=Wr(i,a):2==o&&(n=Wr(n,a+": "+e[++r]+";"))}t?s.styles=n:s.stylesWithoutHost=n,t?s.classes=i:s.classesWithoutHost=i}function Tf(s,e,t,n,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&n.push(Rt(o)),qs(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Tf(l[1],l,c,n)}const r=t.type;if(8&r)Tf(s,e,t.child,n);else if(32&r){const a=lv(t,e);let l;for(;l=a();)n.push(l)}else if(16&r){const a=qD(e,t);if(Array.isArray(a))n.push(...a);else{const l=bu(e[16]);Tf(l[1],l,a,n,!0)}}t=i?t.projectionNext:t.next}return n}class Cu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Tf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(qs(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(fv(e,n),tf(t,n))}this._attachedToViewContainer=!1}BD(this._lView[1],this._lView)}onDestroy(e){A1(this._lView[1],this._lView,null,e)}markForCheck(){Hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Df(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function P3(s,e){wu(s,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class ZH extends Cu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Df(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class $v extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=qe(e);return new Su(t,this.ngModule)}}function j1(s){const e=[];for(let t in s)s.hasOwnProperty(t)&&e.push({propName:s[t],templateName:t});return e}class JH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){const i=this.injector.get(e,Qy,n);return i!==Qy||t===Qy?i:this.parentInjector.get(e,t,n)}}class Su extends _D{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Q3(s){return s.map(Z3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return j1(this.componentDef.inputs)}get outputs(){return j1(this.componentDef.outputs)}create(e,t,n,i){let o=(i=i||this.ngModule)instanceof gl?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const r=o?new JH(e,o):e,a=r.get(xu,null);if(null===a)throw new F(407,!1);const l=r.get(Xz,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function PH(s,e,t){return s.selectRootElement(e,t===Gs.ShadowDom)}(c,n,this.componentDef.encapsulation):dv(a.createRenderer(null,this.componentDef),u,function QH(s){const e=s.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?288:272,f=Fv(0,null,null,1,0,null,null,null,null,null),p=wf(null,f,null,d,null,null,a,c,l,r,null);let g,y;by(p);try{const x=function nj(s,e,t,n,i,o){const r=t[1];t[22]=s;const l=Cl(r,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Ef(l,c,!0),null!==s&&(Yd(i,s,c),null!==l.classes&&vv(i,s,l.classes),null!==l.styles&&XD(i,s,l.styles)));const u=n.createRenderer(s,e),h=wf(t,T1(e),null,e.onPush?32:16,t[22],l,n,u,o||null,null,null);return r.firstCreatePass&&(Jd(ou(l,t),r,e.type),N1(r,l),O1(l,t.length,1)),Sf(t,h),t[22]=h}(h,this.componentDef,p,a,c);if(h)if(n)Yd(c,h,["ng-version",Zz.full]);else{const{attrs:w,classes:C}=function J3(s){const e=[],t=[];let n=1,i=2;for(;n<s.length;){let o=s[n];if("string"==typeof o)2===i?""!==o&&e.push(o,s[++n]):8===i&&t.push(o);else{if(!Ys(i))break;i=o}n++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&Yd(c,h,w),C&&C.length>0&&vv(c,h,C.join(" "))}if(y=py(f,22),void 0!==t){const w=y.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const A=t[C];w.push(null!=A?Array.from(A):null)}}g=function sj(s,e,t,n){const i=t[1],o=function LH(s,e,t){const n=Ht();s.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),L1(s,n,e,Sl(s,e,1,null),t),k1(s,n));const i=ru(e,s,n.directiveStart,n);fn(i,e);const o=vs(n,e);return o&&fn(o,e),i}(i,t,e);if(s[8]=t[8]=o,null!==n)for(const a of n)a(o,e);if(e.contentQueries){const a=Ht();e.contentQueries(1,o,a.directiveStart)}const r=Ht();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(er(r.index),P1(t[1],r,0,r.directiveStart,r.directiveEnd,e),R1(e,o)),o}(x,this.componentDef,p,[ij]),Nv(f,p,null)}finally{wy()}return new tj(this.componentType,g,yl(y,p),p,y)}}class tj extends class $z{}{constructor(e,t,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new ZH(i),this.componentType=e}setInput(e,t){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[e])){const o=this._rootLView;Uv(o[1],o,i,e,t),I1(o,this._tNode.index)}}get injector(){return new rl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ij(){const s=Ht();Wd(R()[1],s)}function k(s){let e=function U1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),t=!0;const n=[s];for(;e;){let i;if(Ks(s))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){n.push(i);const r=s;r.inputs=Gv(s.inputs),r.declaredInputs=Gv(s.declaredInputs),r.outputs=Gv(s.outputs);const a=i.hostBindings;a&&lj(s,a);const l=i.viewQuery,c=i.contentQueries;if(l&&rj(s,l),c&&aj(s,c),Gr(s.inputs,i.inputs),Gr(s.declaredInputs,i.declaredInputs),Gr(s.outputs,i.outputs),Ks(i)&&i.data.animation){const u=s.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let r=0;r<o.length;r++){const a=o[r];a&&a.ngInherit&&a(s),a===k&&(t=!1)}}e=Object.getPrototypeOf(e)}!function oj(s){let e=0,t=null;for(let n=s.length-1;n>=0;n--){const i=s[n];i.hostVars=e+=i.hostVars,i.hostAttrs=Xd(i.hostAttrs,t=Xd(t,i.hostAttrs))}}(n)}function Gv(s){return s===Qa?{}:s===He?[]:s}function rj(s,e){const t=s.viewQuery;s.viewQuery=t?(n,i)=>{e(n,i),t(n,i)}:e}function aj(s,e){const t=s.contentQueries;s.contentQueries=t?(n,i,o)=>{e(n,i,o),t(n,i,o)}:e}function lj(s,e){const t=s.hostBindings;s.hostBindings=t?(n,i)=>{e(n,i),t(n,i)}:e}let Af=null;function ta(){if(!Af){const s=tt.Symbol;if(s&&s.iterator)Af=s.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Af=n)}}}return Af}function Du(s){return!!Wv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ta()in s)}function Wv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function pn(s,e,t){return!Object.is(s[e],t)&&(s[e]=t,!0)}function qv(s,e,t,n){const i=R();return pn(i,sl(),e)&&(Ae(),Di(Ct(),i,s,e,t,n)),qv}function Ot(s,e,t,n,i,o,r,a){const l=R(),c=Ae(),u=s+22,h=c.firstCreatePass?function mj(s,e,t,n,i,o,r,a,l){const c=e.consts,u=Cl(e,s,4,r||null,Jo(c,a));Bv(e,t,u,Jo(c,l)),Wd(e,u);const h=u.tViews=Fv(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,n,i,o,r):c.data[u];Ci(h,!1);const d=l[11].createComment("");gf(c,l,d,h),fn(d,l),Sf(l,l[u]=F1(d,l,d,h)),Ud(h)&&Ov(c,l,h),null!=r&&Lv(l,h,a)}function Me(s,e,t){const n=R();return pn(n,sl(),e)&&function Qn(s,e,t,n,i,o,r,a){const l=vs(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[n])?(Uv(s,t,u,n,i),jd(e)&&I1(t,e.index)):3&e.type&&(n=function NH(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(n),i=null!=r?r(i,e.value||"",n):i,o.setProperty(l,n,i))}(Ae(),Ct(),n,s,e,n[11],t,!1),Me}function Kv(s,e,t,n,i){const r=i?"class":"style";Uv(s,t,e.inputs[r],r,n)}function At(s,e,t,n){const i=R(),o=Ae(),r=22+s,a=i[11],l=i[r]=dv(a,e,function bV(){return he.lFrame.currentNamespace}()),c=o.firstCreatePass?function xj(s,e,t,n,i,o,r){const a=e.consts,c=Cl(e,s,2,i,Jo(a,o));return Bv(e,t,c,Jo(a,r)),null!==c.attrs&&Ef(c,c.attrs,!1),null!==c.mergedAttrs&&Ef(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(r,o,i,0,e,t,n):o.data[r];Ci(c,!0);const u=c.mergedAttrs;null!==u&&Yd(a,l,u);const h=c.classes;null!==h&&vv(a,l,h);const d=c.styles;return null!==d&&XD(a,l,d),64!=(64&c.flags)&&gf(o,i,l,c),0===function sV(){return he.lFrame.elementDepthCount}()&&fn(l,i),function iV(){he.lFrame.elementDepthCount++}(),Ud(c)&&(Ov(o,i,c),E1(o,c,i)),null!==n&&Lv(i,c),At}function Ut(){let s=Ht();my()?yy():(s=s.parent,Ci(s,!1));const e=s;!function oV(){he.lFrame.elementDepthCount--}();const t=Ae();return t.firstCreatePass&&(Wd(t,s),cy(s)&&t.queries.elementEnd(s)),null!=e.classesWithoutHost&&function EV(s){return 0!=(16&s.flags)}(e)&&Kv(t,e,R(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function TV(s){return 0!=(32&s.flags)}(e)&&Kv(t,e,R(),e.stylesWithoutHost,!1),Ut}function Ti(s,e,t,n){return At(s,e,t,n),Ut(),Ti}function Tu(s,e,t){const n=R(),i=Ae(),o=s+22,r=i.firstCreatePass?function _j(s,e,t,n,i){const o=e.consts,r=Jo(o,n),a=Cl(e,s,8,"ng-container",r);return null!==r&&Ef(a,r,!0),Bv(e,t,a,Jo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,n,e,t):i.data[o];Ci(r,!0);const a=n[o]=n[11].createComment("");return gf(i,n,a,r),fn(a,n),Ud(r)&&(Ov(i,n,r),E1(i,r,n)),null!=t&&Lv(n,r),Tu}function Au(){let s=Ht();const e=Ae();return my()?yy():(s=s.parent,Ci(s,!1)),e.firstCreatePass&&(Wd(e,s),cy(s)&&e.queries.elementEnd(s)),Au}function Yv(s){return!!s&&"function"==typeof s.then}const wj=function eE(s){return!!s&&"function"==typeof s.subscribe};function ao(s,e,t,n){const i=R(),o=Ae(),r=Ht();return function nE(s,e,t,n,i,o,r,a){const l=Ud(n),u=s.firstCreatePass&&V1(s),h=e[8],d=B1(e);let f=!0;if(3&n.type||a){const y=vs(n,e),x=a?a(y):y,w=d.length,C=a?L=>a(Rt(L[n.index])):n.index;let A=null;if(!a&&l&&(A=function Cj(s,e,t,n){const i=s.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const r=i[o];if(r===t&&i[o+1]===n){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof r&&(o+=2)}return null}(s,e,i,n.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,f=!1;else{o=iE(n,e,h,o,!1);const L=t.listen(x,i,o);d.push(o,L),u&&u.push(i,C,w,w+1)}}else o=iE(n,e,h,o,!1);const p=n.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let x=0;x<y;x+=2){const U=e[g[x]][g[x+1]].subscribe(o),J=d.length;d.push(o,U),u&&u.push(i,n.index,J,-(J+1))}}}(o,i,i[11],r,s,e,0,n),ao}function sE(s,e,t,n){try{return!1!==t(n)}catch(i){return H1(s,i),!1}}function iE(s,e,t,n,i){return function o(r){if(r===Function)return n;Hv(2&s.flags?Yn(s.index,e):e);let l=sE(e,0,n,r),c=o.__ngNextListenerFn__;for(;c;)l=sE(e,0,c,r)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function Zs(s=1){return function gV(s){return(he.lFrame.contextLView=function mV(s,e){for(;s>0;)e=e[15],s--;return e}(s,he.lFrame.contextLView))[8]}(s)}function Sj(s,e){let t=null;const n=function q3(s){const e=s.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(s);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===n?e1(s,o,!0):X3(n,o))return i}else t=i}return t}function mE(s,e,t,n,i){const o=s[t+1],r=null===e;let a=n?Xs(o):oo(o),l=!1;for(;0!==a&&(!1===l||r);){const u=s[a+1];Tj(s[a],e)&&(l=!0,s[a+1]=n?Dv(u):Cv(u)),a=n?Xs(u):oo(u)}l&&(s[t+1]=n?Cv(o):Dv(o))}function Tj(s,e){return null===s||null==e||(Array.isArray(s)?s[1]:s)===e||!(!Array.isArray(s)||"string"!=typeof e)&&hl(s,e)>=0}function Zv(s,e,t){return function Qs(s,e,t,n){const i=R(),o=Ae(),r=function to(s){const e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+s,t}(2);o.firstUpdatePass&&function DE(s,e,t,n){const i=s.data;if(null===i[t+1]){const o=i[wn()],r=function SE(s,e){return e>=s.expandoStartIndex}(s,t);(function ME(s,e){return 0!=(s.flags&(e?16:32))})(o,n)&&null===e&&!r&&(e=!1),e=function Lj(s,e,t,n){const i=function xy(s){const e=he.lFrame.currentDirectiveIndex;return-1===e?null:s[e]}(s);let o=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(t=Mu(t=Qv(null,s,e,t,n),e.attrs,n),o=null);else{const r=e.directiveStylingLast;if(-1===r||s[r]!==i)if(t=Qv(i,s,e,t,n),null===o){let l=function Fj(s,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==oo(n))return s[Xs(n)]}(s,e,n);void 0!==l&&Array.isArray(l)&&(l=Qv(null,s,e,l[1],n),l=Mu(l,e.attrs,n),function Bj(s,e,t,n){s[Xs(t?e.classBindings:e.styleBindings)]=n}(s,e,n,l))}else o=function Vj(s,e,t){let n;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)n=Mu(n,s[o].hostAttrs,t);return Mu(n,e.attrs,t)}(s,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,n),function Dj(s,e,t,n,i,o){let r=o?e.classBindings:e.styleBindings,a=Xs(r),l=oo(r);s[n]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||hl(h,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const d=Xs(s[a+1]);s[n+1]=xf(d,a),0!==d&&(s[d+1]=Sv(s[d+1],n)),s[a+1]=function vH(s,e){return 131071&s|e<<17}(s[a+1],n)}else s[n+1]=xf(a,0),0!==a&&(s[a+1]=Sv(s[a+1],n)),a=n;else s[n+1]=xf(l,0),0===a?a=n:s[l+1]=Sv(s[l+1],n),l=n;c&&(s[n+1]=Cv(s[n+1])),mE(s,u,n,!0),mE(s,u,n,!1),function Ej(s,e,t,n,i){const o=i?s.residualClasses:s.residualStyles;null!=o&&"string"==typeof e&&hl(o,e)>=0&&(t[n+1]=Dv(t[n+1]))}(e,u,s,n,o),r=xf(a,l),o?e.classBindings=r:e.styleBindings=r}(i,o,e,t,r,n)}}(o,s,r,n),e!==fe&&pn(i,r,e)&&function TE(s,e,t,n,i,o,r,a){if(!(3&e.type))return;const l=s.data,c=l[a+1];kf(function m1(s){return 1==(1&s)}(c)?AE(l,e,t,i,oo(c),r):void 0)||(kf(o)||function g1(s){return 2==(2&s)}(c)&&(o=AE(l,null,t,i,a,r)),function j3(s,e,t,n,i){if(e)i?s.addClass(t,n):s.removeClass(t,n);else{let o=-1===n.indexOf("-")?void 0:Ln.DashCase;null==i?s.removeStyle(t,n,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),s.setStyle(t,n,i,o))}}(n,r,$d(wn(),t),i,o))}(o,o.data[wn()],i,i[11],s,i[r+1]=function jj(s,e){return null==s||("string"==typeof e?s+=e:"object"==typeof s&&(s=ze(nr(s)))),s}(e,t),n,r)}(s,e,t,!1),Zv}function Qv(s,e,t,n,i){let o=null;const r=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<r&&(o=e[a],n=Mu(n,o.hostAttrs,i),o!==s);)a++;return null!==s&&(t.directiveStylingLast=a),n}function Mu(s,e,t){const n=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const r=e[o];"number"==typeof r?i=r:i===n&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Zn(s,r,!!t||e[++o]))}return void 0===s?null:s}function AE(s,e,t,n,i,o){const r=null===e;let a;for(;i>0;){const l=s[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[i+1];d===fe&&(d=h?He:void 0);let f=h?Ry(d,n):u===n?d:void 0;if(c&&!kf(f)&&(f=Ry(l,n)),kf(f)&&(a=f,r))return a;const p=s[i+1];i=r?Xs(p):oo(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Ry(l,n))}return a}function kf(s){return void 0!==s}function ku(s,e=""){const t=R(),n=Ae(),i=s+22,o=n.firstCreatePass?Cl(n,i,1,e,null):n.data[i],r=t[i]=function hv(s,e){return s.createText(e)}(t[11],e);gf(n,t,r,o),Ci(o,!1)}function Jv(s){return Iu("",s,""),Jv}function Iu(s,e,t){const n=R(),i=function El(s,e,t,n){return pn(s,sl(),t)?e+ae(t)+n:fe}(n,s,e,t);return i!==fe&&function ro(s,e,t){const n=$d(e,s);!function LD(s,e,t){s.setValue(e,t)}(s[11],n,t)}(n,wn(),i),Iu}const Ll="en-US";let ZE=Ll;function nx(s,e,t,n,i){if(s=Q(s),Array.isArray(s))for(let o=0;o<s.length;o++)nx(s[o],e,t,n,i);else{const o=Ae(),r=R();let a=Jr(s)?s:Q(s.provide),l=xD(s);const c=Ht(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Jr(s)||!s.multi){const f=new su(l,i,b),p=ix(a,e,i?u:u+d,h);-1===p?(Jd(ou(c,r),o,a),sx(o,s,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),r.push(f)):(t[p]=f,r[p]=f)}else{const f=ix(a,e,u+d,h),p=ix(a,e,u,u+d),g=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!g){Jd(ou(c,r),o,a);const x=function r4(s,e,t,n,i){const o=new su(s,t,b);return o.multi=[],o.index=e,o.componentProviders=0,wT(o,i,n&&!t),o}(i?o4:i4,t.length,i,n,l);!i&&y&&(t[p].providerFactory=x),sx(o,s,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(x),r.push(x)}else sx(o,s,f>-1?f:p,wT(t[i?p:f],l,!i&&n));!i&&n&&y&&t[p].componentProviders++}}}function sx(s,e,t,n){const i=Jr(e),o=function Lz(s){return!!s.useClass}(e);if(i||o){const l=(o?Q(e.useClass):e).prototype.ngOnDestroy;if(l){const c=s.destroyHooks||(s.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[n,l]):c[u+1].push(n,l)}else c.push(t,l)}}}function wT(s,e,t){return t&&s.componentProviders++,s.multi.push(e)-1}function ix(s,e,t,n){for(let i=t;i<n;i++)if(e[i]===s)return i;return-1}function i4(s,e,t,n){return ox(this.multi,[])}function o4(s,e,t,n){const i=this.multi;let o;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=ru(t,t[1],this.providerFactory.index,n);o=a.slice(0,r),ox(i,o);for(let l=r;l<a.length;l++)o.push(a[l])}else o=[],ox(i,o);return o}function ox(s,e){for(let t=0;t<s.length;t++)e.push((0,s[t])());return e}function ut(s,e=[]){return t=>{t.providersResolver=(n,i)=>function s4(s,e,t){const n=Ae();if(n.firstCreatePass){const i=Ks(s);nx(t,n.data,n.blueprint,i,!0),nx(e,n.data,n.blueprint,i,!1)}}(n,i?i(s):s,e)}}class Fl{}class CT extends Fl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $v(this);const n=function qn(s,e){const t=s[JC]||null;if(!t&&!0===e)throw new Error(`Type ${ze(s)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function io(s){return s instanceof Function?s():s}(n.bootstrap),this._r3Injector=a1(e,t,[{provide:Fl,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rx extends class a4{}{constructor(e){super(),this.moduleType=e}create(e){return new CT(this.moduleType,e)}}function IT(s,e,t,n){return function PT(s,e,t,n,i,o){const r=e+t;return pn(s,r,i)?function Ei(s,e,t){return s[e]=t}(s,r+1,o?n.call(o,i):n(i)):function Fu(s,e){const t=s[e];return t===fe?void 0:t}(s,r+1)}(R(),function bn(){const s=he.lFrame;let e=s.bindingRootIndex;return-1===e&&(e=s.bindingRootIndex=s.tView.bindingStartIndex),e}(),s,e,t,n)}function lx(s){return e=>{setTimeout(s,void 0,e)}}const de=class L4 extends Ur{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i=e,o=t||(()=>null),r=n;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),r=l.complete?.bind(l)}this.__isAsync&&(o=lx(o),i&&(i=lx(i)),r&&(r=lx(r)));const a=super.subscribe({next:i,error:o,complete:r});return e instanceof Bt&&e.add(a),a}};function F4(){return this._results[ta()]()}class cx{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ta(),n=cx.prototype;n[t]||(n[t]=F4)}get changes(){return this._changes||(this._changes=new de)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const i=Xn(e);(this._changesDetected=!function FV(s,e,t){if(s.length!==e.length)return!1;for(let n=0;n<s.length;n++){let i=s[n],o=e[n];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(n._results,i,t))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dn=(()=>{class s{}return s.__NG_ELEMENT_ID__=z4,s})();const B4=Dn,V4=class extends B4{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e,t){const n=this._declarationTContainer.tViews,i=wf(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(n)),Nv(n,i,e),new Cu(i)}};function z4(){return Of(Ht(),R())}function Of(s,e){return 4&s.type?new V4(e,s,yl(s,e)):null}let ki=(()=>{class s{}return s.__NG_ELEMENT_ID__=H4,s})();function H4(){return VT(Ht(),R())}const j4=ki,FT=class extends j4{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new rl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qd(this._hostTNode,this._hostLView);if(ES(e)){const t=ol(e,this._hostLView),n=il(e);return new rl(t[1].data[n+8],t)}return new rl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BT(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){let i,o;"number"==typeof n?i=n:null!=n&&(i=n.index,o=n.injector);const r=e.createEmbeddedView(t||{},o);return this.insert(r,i),r}createComponent(e,t,n,i,o){const r=e&&!function lu(s){return"function"==typeof s}(e);let a;if(r)a=t;else{const h=t||{};a=h.index,n=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}const l=r?e:new Su(qe(e)),c=n||this.parentInjector;if(!o&&null==l.ngModule){const d=(r?c:this.parentInjector).get(gl,null);d&&(o=d)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const n=e._lView,i=n[1];if(function nV(s){return qs(s[3])}(n)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=n[3],d=new FT(h,h[6],h[3]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),r=this._lContainer;!function N3(s,e,t,n){const i=10+n,o=t.length;n>0&&(t[i-1][4]=e),n<o-10?(e[4]=t[i],FS(t,10+n,e)):(t.push(e),e[4]=null),e[3]=t;const r=e[17];null!==r&&t!==r&&function O3(s,e){const t=s[9];e[16]!==e[3][3][16]&&(s[2]=!0),null===t?s[9]=[e]:t.push(e)}(r,e);const a=e[19];null!==a&&a.insertView(s),e[2]|=64}(i,n,r,o);const a=mv(o,r),l=n[11],c=pf(l,r[7]);return null!==c&&function I3(s,e,t,n,i,o){n[0]=i,n[6]=e,wu(s,n,t,1,i,o)}(i,r[6],l,n,c,a),e.attachToViewContainerRef(),FS(ux(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BT(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=fv(this._lContainer,t);n&&(tf(ux(this._lContainer),t),BD(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=fv(this._lContainer,t);return n&&null!=tf(ux(this._lContainer),t)?new Cu(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function BT(s){return s[8]}function ux(s){return s[8]||(s[8]=[])}function VT(s,e){let t;const n=e[s.index];if(qs(n))t=n;else{let i;if(8&s.type)i=Rt(n);else{const o=e[11];i=o.createComment("");const r=vs(s,e);ea(o,pf(o,r),i,function V3(s,e){return s.nextSibling(e)}(o,r),!1)}e[s.index]=t=F1(n,e,i,s),Sf(e,t)}return new FT(t,s,e)}class hx{constructor(e){this.queryList=e,this.matches=null}clone(){return new hx(this.queryList)}setDirty(){this.queryList.setDirty()}}class dx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<n;o++){const r=t.getByIndex(o);i.push(this.queries[r.indexInDeclarationView].clone())}return new dx(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==$T(e,t).matches&&this.queries[t].setDirty()}}class zT{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class fx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new fx(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class px{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new px(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(e,t,G4(t,o)),this.matchTNodeWithReadOption(e,t,ef(t,e,o,!1,!1))}else n===Dn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ef(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===xs||i===ki||i===Dn&&4&t.type)this.addMatch(t.index,-2);else{const o=ef(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function G4(s,e){const t=s.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function q4(s,e,t,n){return-1===t?function W4(s,e){return 11&s.type?yl(s,e):4&s.type?Of(s,e):null}(e,s):-2===t?function K4(s,e,t){return t===xs?yl(e,s):t===Dn?Of(e,s):t===ki?VT(e,s):void 0}(s,e,n):ru(s,s[1],t,e)}function HT(s,e,t,n){const i=e[19].queries[n];if(null===i.matches){const o=s.data,r=t.matches,a=[];for(let l=0;l<r.length;l+=2){const c=r[l];a.push(c<0?null:q4(e,o[c],r[l+1],t.metadata.read))}i.matches=a}return i.matches}function gx(s,e,t,n){const i=s.queries.getByIndex(t),o=i.matches;if(null!==o){const r=HT(s,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)n.push(r[a/2]);else{const c=o[a+1],u=e[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&gx(d[1],d,c,n)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];gx(f[1],f,c,n)}}}}}return n}function ht(s){const e=R(),t=Ae(),n=mS();_y(n+1);const i=$T(t,n);if(s.dirty&&function tV(s){return 4==(4&s[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)s.reset([]);else{const o=i.crossesNgTemplate?gx(t,e,n,[]):HT(t,e,i,n);s.reset(o,Kz),s.notifyOnChanges()}return!0}return!1}function ei(s,e,t){const n=Ae();n.firstCreatePass&&(UT(n,new zT(s,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),jT(n,R(),e)}function Fn(s,e,t,n){const i=Ae();if(i.firstCreatePass){const o=Ht();UT(i,new zT(e,t,n),o.index),function X4(s,e){const t=s.contentQueries||(s.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(s.queries.length-1,e)}(i,s),2==(2&t)&&(i.staticContentQueries=!0)}jT(i,R(),t)}function dt(){return function Y4(s,e){return s[19].queries[e].queryList}(R(),mS())}function jT(s,e,t){const n=new cx(4==(4&t));A1(s,e,n,n.destroy),null===e[19]&&(e[19]=new dx),e[19].queries.push(new hx(n))}function UT(s,e,t){null===s.queries&&(s.queries=new fx),s.queries.track(new px(e,t))}function $T(s,e){return s.queries.getByIndex(e)}function mx(s,e){return Of(s,e)}function Ff(...s){}const cA=new me("Application Initializer");let Bf=(()=>{class s{constructor(t){this.appInits=t,this.resolve=Ff,this.reject=Ff,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Yv(o))t.push(o);else if(wj(o)){const r=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(r)}}Promise.all(t).then(()=>{n()}).catch(i=>{this.reject(i)}),0===t.length&&n(),this.initialized=!0}}return s.\u0275fac=function(t){return new(t||s)(Y(cA,8))},s.\u0275prov=le({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zu=new me("AppId",{providedIn:"root",factory:function uA(){return`${bx()}${bx()}${bx()}`}});function bx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hA=new me("Platform Initializer"),dA=new me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m8=new me("appBootstrapListener"),fA=new me("AnimationModuleType"),Bn=new me("LocaleId",{providedIn:"root",factory:()=>function XV(s,e=ce.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),Y(s,e)}(Bn,ce.Optional|ce.SkipSelf)||function y8(){return typeof $localize<"u"&&$localize.locale||Ll}()}),w8=(()=>Promise.resolve(0))();function wx(s){typeof Zone>"u"?w8.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class $e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function C8(){let s=tt.requestAnimationFrame,e=tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&e){const t=s[Zone.__symbol__("OriginalDelegate")];t&&(s=t);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function E8(s){const e=()=>{!function D8(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Sx(s),s.isCheckStableRunning=!0,Cx(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Sx(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,o,r,a)=>{try{return mA(s),t.invokeTask(i,o,r,a)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||s.shouldCoalesceRunChangeDetection)&&e(),yA(s)}},onInvoke:(t,n,i,o,r,a,l)=>{try{return mA(s),t.invoke(i,o,r,a,l)}finally{s.shouldCoalesceRunChangeDetection&&e(),yA(s)}},onHasTask:(t,n,i,o)=>{t.hasTask(i,o),n===i&&("microTask"==o.change?(s._hasPendingMicrotasks=o.microTask,Sx(s),Cx(s)):"macroTask"==o.change&&(s.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,i,o)=>(t.handleError(i,o),s.runOutsideAngular(()=>s.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new F(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,e,S8,Ff,Ff);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const S8={};function Cx(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Sx(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function mA(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yA(s){s._nesting--,Cx(s)}class T8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new de,this.onMicrotaskEmpty=new de,this.onStable=new de,this.onError=new de}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}const vA=new me(""),Vf=new me("");let Tx,Dx=(()=>{class s{constructor(t,n,i){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tx||(function A8(s){Tx=s}(i),i.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),wx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wx(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,i){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,n,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,i){return[]}}return s.\u0275fac=function(t){return new(t||s)(Y($e),Y(Ex),Y(Vf))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),Ex=(()=>{class s{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return Tx?.findTestabilityInTree(this,t,n)??null}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),rr=null;const xA=new me("AllowMultipleToken"),Ax=new me("PlatformDestroyListeners");function bA(s,e,t=[]){const n=`Platform: ${e}`,i=new me(n);return(o=[])=>{let r=Mx();if(!r||r.injector.get(xA,!1)){const a=[...t,...o,{provide:i,useValue:!0}];s?s(a):function I8(s){if(rr&&!rr.get(xA,!1))throw new F(400,!1);rr=s;const e=s.get(CA);(function _A(s){const e=s.get(hA,null);e&&e.forEach(t=>t())})(s)}(function wA(s=[],e){return sr.create({name:e,providers:[{provide:qy,useValue:"platform"},{provide:Ax,useValue:new Set([()=>rr=null])},...s]})}(a,n))}return function R8(s){const e=Mx();if(!e)throw new F(401,!1);return e}()}}function Mx(){return rr?.get(CA)??null}let CA=(()=>{class s{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const i=function DA(s,e){let t;return t="noop"===s?new T8:("zone.js"===s?void 0:s)||new $e(e),t}(n?.ngZone,function SA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(n)),o=[{provide:$e,useValue:i}];return i.run(()=>{const r=sr.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(r),l=a.injector.get(xl,null);if(!l)throw new F(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{zf(this._modules,a),c.unsubscribe()})}),function EA(s,e,t){try{const n=t();return Yv(n)?n.catch(i=>{throw e.runOutsideAngular(()=>s.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>s.handleError(n)),n}}(l,i,()=>{const c=a.injector.get(Bf);return c.runInitializers(),c.donePromise.then(()=>(function QE(s){Gn(s,"Expected localeId to be defined"),"string"==typeof s&&(ZE=s.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Bn,Ll)||Ll),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,n=[]){const i=TA({},n);return function M8(s,e,t){const n=new rx(t);return Promise.resolve(n)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const n=t.injector.get(Hu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new F(403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(Ax,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(t){return new(t||s)(Y(sr))},s.\u0275prov=le({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function TA(s,e){return Array.isArray(e)?e.reduce(TA,s):{...s,...e}}let Hu=(()=>{class s{constructor(t,n,i){this._zone=t,this._injector=n,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Vt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),r=new Vt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),wx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Xa(o,r.pipe(function Za(s={}){const{connector:e=(()=>new Ur),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=s;return o=>{let r,a,l,c=0,u=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},f=()=>{d(),r=l=void 0,u=h=!1},p=()=>{const g=r;f(),g?.unsubscribe()};return Xe((g,y)=>{c++,!h&&!u&&d();const x=l=l??e();y.add(()=>{c--,0===c&&!h&&!u&&(a=vn(p,i))}),x.subscribe(y),!r&&c>0&&(r=new _i({next:w=>x.next(w),error:w=>{h=!0,d(),a=vn(f,t,w),x.error(w)},complete:()=>{u=!0,d(),a=vn(f,n),x.complete()}}),Vs(g).subscribe(r))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const i=t instanceof _D;if(!this._injector.get(Bf).done)throw!i&&function Zc(s){const e=qe(s)||xn(s)||_n(s);return null!==e&&e.standalone}(t),new F(405,false);let r;r=i?t:this._injector.get(vu).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const a=function k8(s){return s.isBoundToModule}(r)?void 0:this._injector.get(Fl),c=r.create(sr.NULL,[],n||r.selector,a),u=c.location.nativeElement,h=c.injector.get(vA,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),zf(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;zf(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(m8,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(t){return new(t||s)(Y($e),Y(gl),Y(xl))},s.\u0275prov=le({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function zf(s,e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}let MA=!0,kA=!1;function kx(){return kA=!0,MA}let Hf=(()=>{class s{}return s.__NG_ELEMENT_ID__=L8,s})();function L8(s){return function F8(s,e,t){if(jd(s)&&!t){const n=Yn(s.index,e);return new Cu(n,n)}return 47&s.type?new Cu(e[16],e):null}(Ht(),R(),16==(16&s))}class NA{constructor(){}supports(e){return Du(e)}create(e){return new U8(e)}}const j8=(s,e)=>e;class U8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||j8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){const r=!n||t&&t.currentIndex<LA(n,i,o)?t:n,a=LA(r,i,o),l=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){const f=d<o.length?o[d]:o[d]=0,p=f+d;u<=p&&p<c&&(o[d]=f+1)}o[r.previousIndex]=u-c}}a!==l&&e(r,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Du(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,r,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],r=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,o,r,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,r,a),n=!0),t=t._next}else i=0,function fj(s,e){if(Array.isArray(s))for(let t=0;t<s.length;t++)e(s[t]);else{const t=s[ta()]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{r=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,a,r,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,r,i),n=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new $8(t,n),o,i),e}_verifyReinsertion(e,t,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new OA),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class OA{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new G8,this.map.set(t,n)),n.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LA(s,e,t){const n=s.previousIndex;if(null===n)return n;let i=0;return t&&n<t.length&&(i=t[n]),n+e+i}class FA{constructor(){}supports(e){return e instanceof Map||Wv(e)}create(){return new W8}}class W8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Wv(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,r=i._next;return o&&(o._next=r),r&&(r._prev=o),i._next=null,i._prev=null,i}const n=new q8(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class q8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BA(){return new $f([new NA])}let $f=(()=>{class s{constructor(t){this.factories=t}static create(t,n){if(null!=n){const i=n.factories.slice();t=t.concat(i)}return new s(t)}static extend(t){return{provide:s,useFactory:n=>s.create(t,n||BA()),deps:[[s,new rf,new of]]}}find(t){const n=this.factories.find(i=>i.supports(t));if(null!=n)return n;throw new F(901,!1)}}return s.\u0275prov=le({token:s,providedIn:"root",factory:BA}),s})();function VA(){return new ju([new FA])}let ju=(()=>{class s{constructor(t){this.factories=t}static create(t,n){if(n){const i=n.factories.slice();t=t.concat(i)}return new s(t)}static extend(t){return{provide:s,useFactory:n=>s.create(t,n||VA()),deps:[[s,new rf,new of]]}}find(t){const n=this.factories.find(i=>i.supports(t));if(n)return n;throw new F(901,!1)}}return s.\u0275prov=le({token:s,providedIn:"root",factory:VA}),s})();const X8=bA(null,"core",[]);let Z8=(()=>{class s{constructor(t){}}return s.\u0275fac=function(t){return new(t||s)(Y(Hu))},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({}),s})(),Gf=null;function Uu(){return Gf}const ni=new me("DocumentToken");let $x=(()=>{class s{constructor(t,n,i,o){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Du(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ze(n.item)}`);this._toggleClass(n.item,!0)}),t.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!0)):Object.keys(t).forEach(n=>this._toggleClass(n,!!t[n])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!1)):Object.keys(t).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(t,n){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return s.\u0275fac=function(t){return new(t||s)(b($f),b(ju),b(xs),b(vl))},s.\u0275dir=Tt({type:s,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),s})();class H5{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tp=(()=>{class s{constructor(t,n,i){this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((i,o,r)=>{if(null==i.previousIndex)n.createEmbeddedView(this._template,new H5(i.item,this._ngForOf,-1,-1),null===r?void 0:r);else if(null==r)n.remove(null===o?void 0:o);else if(null!==o){const a=n.get(o);n.move(a,r),ZA(a,i)}});for(let i=0,o=n.length;i<o;i++){const a=n.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ZA(n.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,n){return!0}}return s.\u0275fac=function(t){return new(t||s)(b(ki),b(Dn),b($f))},s.\u0275dir=Tt({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),s})();function ZA(s,e){s.context.$implicit=e.item}let np=(()=>{class s{constructor(t,n){this._viewContainer=t,this._context=new U5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}}return s.\u0275fac=function(t){return new(t||s)(b(ki),b(Dn))},s.\u0275dir=Tt({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),s})();class U5{constructor(){this.$implicit=null,this.ngIf=null}}function QA(s,e){if(e&&!e.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${ze(e)}'.`)}let sp=(()=>{class s{constructor(t,n,i){this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[i,o]=t.split("."),r=-1===i.indexOf("-")?void 0:Ln.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${n}${o}`:n,r):this._renderer.removeStyle(this._ngEl.nativeElement,i,r)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return s.\u0275fac=function(t){return new(t||s)(b(xs),b(ju),b(vl))},s.\u0275dir=Tt({type:s,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),s})(),ip=(()=>{class s{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:r}=this;this._viewRef=n.createEmbeddedView(i,o,r?{injector:r}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return s.\u0275fac=function(t){return new(t||s)(b(ki))},s.\u0275dir=Tt({type:s,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qo]}),s})(),Wu=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({}),s})();class Zx extends class L$ extends class e5{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J8(s){Gf||(Gf=s)}(new Zx)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function F$(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function B$(s){rp=rp||document.createElement("a"),rp.setAttribute("href",s);const e=rp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function V5(s,e){e=encodeURIComponent(e);for(const t of s.split(";")){const n=t.indexOf("="),[i,o]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let rp,Ku=null;const rM=new me("TRANSITION_ID"),z$=[{provide:cA,useFactory:function V$(s,e,t){return()=>{t.get(Bf).donePromise.then(()=>{const n=Uu(),i=e.querySelectorAll(`style[ng-transition="${s}"]`);for(let o=0;o<i.length;o++)n.remove(i[o])})}},deps:[rM,ni,sr],multi:!0}];let j$=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const ap=new me("EventManagerPlugins");let lp=(()=>{class s{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,n,i){return this._findPluginFor(n).addEventListener(t,n,i)}addGlobalEventListener(t,n,i){return this._findPluginFor(n).addGlobalEventListener(t,n,i)}getZone(){return this._zone}_findPluginFor(t){const n=this._eventNameToPlugin.get(t);if(n)return n;const i=this._plugins;for(let o=0;o<i.length;o++){const r=i[o];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error(`No event manager plugin found for event ${t}`)}}return s.\u0275fac=function(t){return new(t||s)(Y(ap),Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();class aM{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Uu().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let lM=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(t){const n=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),n.add(i))}),this.onStylesAdded(n)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),Yu=(()=>{class s extends lM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,n,i){t.forEach(o=>{const r=this._doc.createElement("style");r.textContent=o,i.push(n.appendChild(r))})}addHost(t){const n=[];this._addStylesToHost(this._stylesSet,t,n),this._hostNodes.set(t,n)}removeHost(t){const n=this._hostNodes.get(t);n&&n.forEach(cM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((n,i)=>{this._addStylesToHost(t,i,n)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cM))}}return s.\u0275fac=function(t){return new(t||s)(Y(ni))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();function cM(s){Uu().remove(s)}const Qx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jx=/%COMP%/g;function cp(s,e,t){for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?cp(s,i,t):(i=i.replace(Jx,s),t.push(i))}return t}function dM(s){return e=>{if("__ngUnwrap__"===e)return s;!1===s(e)&&(e.preventDefault(),e.returnValue=!1)}}let up=(()=>{class s{constructor(t,n,i){this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new e_(t)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;switch(n.encapsulation){case Gs.Emulated:{let i=this.rendererByCompId.get(n.id);return i||(i=new K$(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,i)),i.applyToHost(t),i}case 1:case Gs.ShadowDom:return new Y$(this.eventManager,this.sharedStylesHost,t,n);default:if(!this.rendererByCompId.has(n.id)){const i=cp(n.id,n.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(t){return new(t||s)(Y(lp),Y(Yu),Y(zu))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();class e_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qx[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pM(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(pM(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const o=Qx[i];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Qx[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(t,n,i&Ln.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dM(n)):this.eventManager.addEventListener(e,t,dM(n))}}function pM(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class K$ extends e_{constructor(e,t,n,i){super(e),this.component=n;const o=cp(i+"-"+n.id,n.styles,[]);t.addStyles(o),this.contentAttr=function G$(s){return"_ngcontent-%COMP%".replace(Jx,s)}(i+"-"+n.id),this.hostAttr=function W$(s){return"_nghost-%COMP%".replace(Jx,s)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Y$ extends e_{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=cp(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const a=document.createElement("style");a.textContent=o[r],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let X$=(()=>{class s extends aM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,i){return t.addEventListener(n,i,!1),()=>this.removeEventListener(t,n,i)}removeEventListener(t,n,i){return t.removeEventListener(n,i)}}return s.\u0275fac=function(t){return new(t||s)(Y(ni))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const gM=["alt","control","meta","shift"],Z$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q$={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let J$=(()=>{class s extends aM{constructor(t){super(t)}supports(t){return null!=s.parseEventName(t)}addEventListener(t,n,i){const o=s.parseEventName(n),r=s.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uu().onAndCancel(t,o.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=s._normalizeKey(n.pop());let r="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),r="code."),gM.forEach(c=>{const u=n.indexOf(c);u>-1&&(n.splice(u,1),r+=c+".")}),r+=o,0!=n.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=r,l}static matchEventFullKeyCode(t,n){let i=Z$[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gM.forEach(r=>{r!==i&&(0,Q$[r])(t)&&(o+=r+".")}),o+=i,o===n)}static eventCallback(t,n,i){return o=>{s.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return s.\u0275fac=function(t){return new(t||s)(Y(ni))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const yM=[{provide:dA,useValue:"browser"},{provide:hA,useValue:function eG(){Zx.makeCurrent()},multi:!0},{provide:ni,useFactory:function nG(){return function cz(s){By=s}(document),document},deps:[]}],sG=bA(X8,"browser",yM),vM=new me(""),xM=[{provide:Vf,useClass:class H${addToWindow(e){tt.getAngularTestability=(n,i=!0)=>{const o=e.findTestabilityInTree(n,i);if(null==o)throw new Error("Could not find testability for element.");return o},tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),tt.getAllAngularRootElements=()=>e.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(n=>{const i=tt.getAllAngularTestabilities();let o=i.length,r=!1;const a=function(l){r=r||l,o--,0==o&&n(r)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,n){return null==t?null:e.getTestability(t)??(n?Uu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:vA,useClass:Dx,deps:[$e,Ex,Vf]},{provide:Dx,useClass:Dx,deps:[$e,Ex,Vf]}],_M=[{provide:qy,useValue:"root"},{provide:xl,useFactory:function tG(){return new xl},deps:[]},{provide:ap,useClass:X$,multi:!0,deps:[ni,$e,dA]},{provide:ap,useClass:J$,multi:!0,deps:[ni]},{provide:up,useClass:up,deps:[lp,Yu,zu]},{provide:xu,useExisting:up},{provide:lM,useExisting:Yu},{provide:Yu,useClass:Yu,deps:[ni]},{provide:lp,useClass:lp,deps:[ap,$e]},{provide:class v${},useClass:j$,deps:[]},[]];let bM=(()=>{class s{constructor(t){}static withServerTransition(t){return{ngModule:s,providers:[{provide:zu,useValue:t.appId},{provide:rM,useExisting:zu},z$]}}}return s.\u0275fac=function(t){return new(t||s)(Y(vM,12))},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({providers:[..._M,...xM],imports:[Wu,Z8]}),s})();typeof window<"u"&&window;class fG extends Bt{constructor(e,t){super()}schedule(e,t=0){return this}}const hp={setInterval(s,e,...t){const{delegate:n}=hp;return n?.setInterval?n.setInterval(s,e,...t):setInterval(s,e,...t)},clearInterval(s){const{delegate:e}=hp;return(e?.clearInterval||clearInterval)(s)},delegate:void 0},SM={now:()=>(SM.delegate||Date).now(),delegate:void 0};class Xu{constructor(e,t=Xu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}Xu.now=SM.now;const DM=new class gG extends Xu{constructor(e,t=Xu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class pG extends fG{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return hp.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&hp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fs(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),mG=DM;function Zu(s,e=DM){return function yG(s){return Xe((e,t)=>{let n=!1,i=null,o=null,r=!1;const a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const c=i;i=null,t.next(c)}r&&t.complete()},l=()=>{o=null,r&&t.complete()};e.subscribe(ft(t,c=>{n=!0,i=c,o||Vs(s(c)).subscribe(o=ft(t,a,l))},()=>{r=!0,(!n||!o||o.closed)&&t.complete()}))})}(()=>function xG(s=0,e,t=mG){let n=-1;return null!=e&&(Wo(e)?t=e:n=e),new Vt(i=>{let o=function vG(s){return s instanceof Date&&!isNaN(s)}(s)?+s-t.now():s;o<0&&(o=0);let r=0;return t.schedule(function(){i.closed||(i.next(r++),0<=n?this.schedule(void 0,n):i.complete())},o)})}(s,e))}const{isArray:_G}=Array;function EM(s){return Yi(e=>function bG(s,e){return _G(e)?s(...e):s(e)}(s,e))}const wG=["addListener","removeListener"],CG=["addEventListener","removeEventListener"],SG=["on","off"];function zl(s,e,t,n){if(Ve(t)&&(n=t,t=void 0),n)return zl(s,e,t).pipe(EM(n));const[i,o]=function TG(s){return Ve(s.addEventListener)&&Ve(s.removeEventListener)}(s)?CG.map(r=>a=>s[r](e,a,t)):function DG(s){return Ve(s.addListener)&&Ve(s.removeListener)}(s)?wG.map(TM(s,e)):function EG(s){return Ve(s.on)&&Ve(s.off)}(s)?SG.map(TM(s,e)):[];if(!i&&Uc(s))return qa(r=>zl(r,e,t))(Vs(s));if(!i)throw new TypeError("Invalid event target");return new Vt(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function TM(s,e){return t=>n=>s[t](e,n)}const Cs=()=>typeof document<"u",AM=s=>s&&s.observers.length>0;class PM{constructor(e){this.resizeBatchService=e,this.resize=new de,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){!Cs()||0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e!==this.lastWidth||t!==this.lastHeight?(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0):void 0}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const dp=s=>{const e=document.createElement("div");return e.style.cssText=s,e},o_="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class OG extends PM{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===((s,e)=>getComputedStyle(s,null).getPropertyValue("position"))(e)&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=o_,e.setAttribute("dir","ltr"),this.expand=dp(o_),this.expandChild=dp("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=dp(o_);const t=dp("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Xa(zl(this.shrink,"scroll"),zl(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const LG=typeof ResizeObserver<"u";class NM extends PM{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}static supported(){return LG}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let OM=(()=>{class s{constructor(t){this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(t,n){this.scheduled.push({instance:t,method:n}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=Yo(this.resolvedPromise).subscribe(this.flush)})}isScheduled(t){return Boolean(this.scheduled.find(n=>n.instance===t))}cancel(t){const n=this.scheduled,i=n.length;for(let o=0;o<i;o++)if(n[o].instance===t)return n.splice(o,1),void(n.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(t=>{t.method.call(t.instance)}),this.scheduled=[],this.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),Hl=(()=>{class s{constructor(t,n,i){this.rateLimit=10,this.resize=new de;const o=NM.supported()?NM:OG;this.resizeService=new o(t,n,i),this.subscription=this.resizeService.resize.pipe(Zu(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(t){this.resizeService.acceptSize(t)}}return s.\u0275fac=function(t){return new(t||s)(b(OM),b(xs),b($e))},s.\u0275cmp=M({type:s,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),s})(),fp=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({providers:[OM]}),s})();class r_ extends Ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function FM(s,e,t){const n=Ve(s)||e||t?{next:s,error:e,complete:t}:s;return n?Xe((i,o)=>{var r;null===(r=n.subscribe)||void 0===r||r.call(n);let a=!0;i.subscribe(ft(o,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),o.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),o.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),o.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):jr}let BG=(()=>{class s{constructor(){this.changes=new r_({rtl:void 0})}notify(t){this.changes.next({rtl:t})}get(t){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const VG=new me("Kendo UI Right-to-Left token"),pp=new me("Localization key prefix");let uo=(()=>{class s{constructor(t,n,i){this.prefix=t,this.messageService=n,this._rtl=i,this.changes=new r_({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe(Yi(({rtl:o})=>void 0!==o?o:this._rtl),FM(o=>this._rtl=o)).subscribe(o=>{this.dictionary={},this.changes.next({rtl:o})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(t){const n=this.key(t);return this.dictionary[n]}register(t,n,i=!1){const o=this.key(t);let r=n;if(!i){if(this.dictionary.hasOwnProperty(o))return;r=this.defaultValue(o,n)}this.dictionary[o]=r}notifyChanges(){this.changes.next({rtl:this.rtl})}key(t){return this.prefix+"."+t}defaultValue(t,n){if(!this.messageService)return n;const i=this.messageService.get(t);return void 0===i?n:i}}return s.\u0275fac=function(t){return new(t||s)(Y(pp),Y(BG,8),Y(VG,8))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const lr="arc",gt="#000",Re="bottom",ue="center",oi="circle",cr="date",VM="12px sans-serif",jM=/\{\d+:?/,gp="height",l_="inside",we="left",mt=Number.MAX_VALUE,kt=-Number.MAX_VALUE,c_="none",u_="object",mp="outside",ke="right",$M="roundedRect",h_="string",Ee="top",Jn="value",Te="#fff",yp="width",q="x",K="y";function Qt(s){return Array.isArray(s)}function Tn(s,e){const t=Qt(e)?e:[e];for(let n=0;n<t.length;n++){const i=t[n];-1===s.className.indexOf(i)&&(s.className+=" "+i)}}const WG=/\s+/g;function te(s){return void 0!==s}function Ss(s){let e=.5;s.options.stroke&&te(s.options.stroke.width)&&s.options.stroke.width%2==0&&(e=0);for(let t=0;t<s.segments.length;t++)s.segments[t].anchor().round(0).translate(e,e);return s}function WM(s,e){return-s.x*e.y+s.y*e.x<0}function pe(s){return"number"==typeof s&&!isNaN(s)}function ho(s){return typeof s===h_}function qM(s){return pe(s)||ho(s)&&isFinite(s)}function ot(s){return"function"==typeof s}function YM(s,e){for(let t in e){let o,n=e[t],i=typeof n;if(o="object"===i&&null!==n?n.constructor:null,o&&o!==Array)if(n instanceof Date)s[t]=new Date(n.getTime());else if(ot(n.clone))s[t]=n.clone();else{let r=s[t];s[t]="object"==typeof r&&r||{},YM(s[t],n)}else"undefined"!==i&&(s[t]=n)}return s}function S(s){const e=arguments.length;for(let t=1;t<e;t++)YM(s,arguments[t]);return s}function ri(s){return"object"==typeof s}function jl(s){return pe(s)?s+"px":s}const XG=/width|height|top|left|bottom|right/i;function ZG(s){return XG.test(s)}function rt(s,e){const t=ho(e)?[e]:e;if(Qt(t)){const n={},i=window.getComputedStyle(s);for(let o=0;o<t.length;o++){let r=t[o];n[r]=ZG(r)?parseFloat(i[r]):i[r]}return n}if(ri(e))for(let n in e)s.style[n]=jl(e[n])}function Be(s,e=0){const t={top:0,right:0,bottom:0,left:0};return"number"==typeof s?t.top=t[ke]=t[Re]=t[we]=s:(t.top=s.top||e,t[ke]=s[ke]||e,t[Re]=s[Re]||e,t[we]=s[we]||e),t}let XM={compile:function(s){return s}};const ZM=class QG{static register(e){XM=e}static compile(e){return XM.compile(e)}};function Jt(s={}){let e;return s.template?s.template=e=ZM.compile(s.template):ot(s.content)&&(e=s.content),e}const JG=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Qu={};function fo(s){if(Qu[s])return Qu[s];const e=[];return s.replace(JG,function(t,n,i,o){e.push(te(n)?n:i||o)}),Qu[s]=function(t){let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n},Qu[s]}function es(s,e){const t=s.length,n=[];for(let i=0;i<t;i++)e(s[i])&&n.push(s[i]);return n}function Ju(s,e){if(s.className){const t=e.split(" ");for(let n=0;n<t.length;n++)if(-1!==s.className.indexOf(t[n]))return!0}}Qu.undefined=function(s){return s};class QM{constructor(){this._map={}}get(e){return this._map[this._key(e)]}set(e,t){this._map[this._key(e)]=t}_key(e){return e instanceof Date?e.getTime():e}}function ye(s,e){if(e)return-1!==e.indexOf(s)}function Ke(s,e){const t=function e6(s){return s?Math.pow(10,s):1}(e);return Math.round(s*t)/t}function Ds(s,e,t){return Ke(s+(e-s)*t,3)}const JM="trigger",d_=class t6{constructor(e,t){this.observer=e,this.handlerMap=S({},this.handlerMap,t)}trigger(e,t){const{observer:n,handlerMap:i}=this;let o;return i[e]?o=this.callObserver(i[e],t):n[JM]&&(o=this.callObserver(JM,e,t)),o}callObserver(e,...t){return this.observer[e].apply(this.observer,t)}requiresHandlers(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(let t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}};function ek(s,e){const t=s.length,n=[];for(let i=0;i<t;i++){let o=e(s[i]);te(o)&&n.push(o)}return n}let vp=null;const Ul={get browser(){return typeof window>"u"||vp||(vp=function n6(s){const e={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let t={};for(let n in e)if(e.hasOwnProperty(n)){const i=s.match(e[n]);if(i){t[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}}return t}(window.navigator.userAgent)),vp}},s6=Ul.browser||{};function f_(s){let e=0;return s.wheelDelta?(e=-s.wheelDelta/120,s6.webkit&&(e/=2*Math.max(window.devicePixelRatio,.625))):s.detail&&(e=s.detail/3),e=e>0?Math.ceil(e):Math.floor(e),e}function eh(s,e){return s.push.apply(s,e),s}const i6={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function o6(s){const e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let t="";for(;s>0;)s<e[0]?e.shift():(t+=i6[e[0]],s-=e[0]);return t}function th(){let s,e;const t=new Promise((n,i)=>{s=o=>(t._state="resolved",n(o),t),e=o=>(t._state="rejected",i(o),t)});return t._state="pending",t.resolve=s,t.reject=e,t.state=()=>t._state,t}let r6=1;function xp(){return"kdef"+r6++}const p_=Math.PI/180,$l=Number.MAX_VALUE,Gl=-Number.MAX_VALUE;function ur(s){return s/p_}const Es=String.fromCharCode,_p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function tk(s){let e="",t=0;const n=function a6(s){let e="";for(let t=0;t<s.length;t++){let n=s.charCodeAt(t);if(55296<=n&&n<=56319){const i=n,o=s.charCodeAt(++t);isNaN(o)||(n=1024*(i-55296)+(o-56320)+65536)}n<128?e+=Es(n):n<2048?(e+=Es(192|n>>>6),e+=Es(128|63&n)):n<65536?(e+=Es(224|n>>>12),e+=Es(128|n>>>6&63),e+=Es(128|63&n)):n<1114111&&(e+=Es(240|n>>>18),e+=Es(128|n>>>12&63),e+=Es(128|n>>>6&63),e+=Es(128|63&n))}return e}(s);for(;t<n.length;){let i=n.charCodeAt(t++),o=n.charCodeAt(t++),r=n.charCodeAt(t++),a=i>>2,l=(3&i)<<4|o>>4,c=(15&o)<<2|r>>6,u=63&r;isNaN(o)?c=u=64:isNaN(r)&&(u=64),e=e+_p.charAt(a)+_p.charAt(l)+_p.charAt(c)+_p.charAt(u)}return e}function nk(s){return te((s.x||{}).location)?{x:s.x.location,y:s.y.location}:{x:s.pageX||s.clientX||0,y:s.pageY||s.clientY||0}}function sk(s={}){return s.touch?s.touch.initialTouch:s.target}function oa(s){return""===s||null===s||"none"===s||"transparent"===s||!te(s)}function en(s){if(s)return s[s.length-1]}function bp(s,e,t){return Math.max(Math.min(s,t),e)}function l6(s,e){return s.length<2?s.slice():function n(i){if(i.length<=1)return i;var o=Math.floor(i.length/2),r=i.slice(0,o),a=i.slice(o);return function t(n,i){for(var o=[],r=0,a=0,l=0;r<n.length&&a<i.length;)e(n[r],i[a])<=0?o[l++]=n[r++]:o[l++]=i[a++];return r<n.length&&o.push.apply(o,n.slice(r)),a<i.length&&o.push.apply(o,i.slice(a)),o}(r=n(r),a=n(a))}(s)}const nh=Date.now||function(){return(new Date).getTime()};function ik(s){return Promise.all(s)}function Ii(s){return s*p_}function m_(s,e){return te(s)?s:e}function y_(s,e){for(let t in e){const n=t.trim().split(" ");for(let i=0;i<n.length;i++)s.addEventListener(n[i],e[t],!1)}}function ok(s){const e=s.getBoundingClientRect(),t=document.documentElement;return{top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}function wp(s,e){const t={},n=window.getComputedStyle(s)||{},i=Array.isArray(e)?e:[e];for(let o=0;o<i.length;o++){let r=i[o];t[r]=n[r]}return t}function rk(s){return isNaN(s)?s:s+"px"}function sh(s,e){if(!e){const t=wp(s,["width","height"]);return{width:parseInt(t.width,10),height:parseInt(t.height,10)}}{const{width:t,height:n}=e;te(t)&&(s.style.width=rk(t)),te(n)&&(s.style.height=rk(n))}}function v_(s,e={}){for(let t in e){const n=t.trim().split(" ");for(let i=0;i<n.length;i++)s.removeEventListener(n[i],e[t],!1)}}function ak(s){const{paddingLeft:e,paddingTop:t}=wp(s,["paddingLeft","paddingTop"]);return{top:parseFloat(t),left:parseFloat(e)}}class W{}class ai extends W{constructor(e=0,t=0,n=0,i=0,o=0,r=0){super(),this.a=e,this.b=t,this.c=n,this.d=i,this.e=o,this.f=r}multiplyCopy(e){return new ai(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}invert(){const{a:e,b:t,c:n,d:i,e:o,f:r}=this,a=e*i-t*n;return 0===a?null:new ai(i/a,-t/a,-n/a,e/a,(n*r-i*o)/a,(t*o-e*r)/a)}clone(){return new ai(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=Ke(this.a,e),this.b=Ke(this.b,e),this.c=Ke(this.c,e),this.d=Ke(this.d,e),this.e=Ke(this.e,e),this.f=Ke(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(te(e))for(let n=0;n<t.length;n++)t[n]=Ke(t[n],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(e,t){return new ai(1,0,0,1,e,t)}static unit(){return new ai(1,0,0,1,0,0)}static rotate(e,t,n){const i=new ai;return i.a=Math.cos(Ii(e)),i.b=Math.sin(Ii(e)),i.c=-i.b,i.d=i.a,i.e=t-t*i.a+n*i.b||0,i.f=n-n*i.a-t*i.b||0,i}static scale(e,t){return new ai(e,0,0,t,0,0)}}ai.IDENTITY=ai.unit();const zn=ai,c6=/matrix\((.*)\)/;function lk(s){const e=getComputedStyle(s).transform;return"none"===e?zn.unit():function u6(s){const e=s.match(c6);if(null===e||2!==e.length)return zn.unit();const t=e[1].split(",").map(n=>parseFloat(n));return new zn(...t)}(e)}function ck(s){if(!s)return zn.unit();let e=lk(s),t=s.parentElement;for(;t;){const n=lk(t);e=e.multiplyCopy(n),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}const uk=class h6 extends W{constructor(e){super(),this._size=e,this._length=0,this._map={}}put(e,t){const n=this._map,i={key:e,value:t};n[e]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(e){const t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}},d6=/\r?\n|\r|\t/g;function x_(s){return String(s).replace(d6," ")}function hk(s){const e=[];for(let t in s)e.push(t+s[t]);return e.sort().join("")}function dk(s){let e=2166136261;for(let t=0;t<s.length;++t)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=s.charCodeAt(t);return e>>>0}const p6={baselineMarkerSize:1};let __;typeof document<"u"&&(__=document.createElement("div"),__.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class b_ extends W{constructor(e){super(),this._cache=new uk(1e3),this.options=Object.assign({},p6,e)}measure(e,t,n={}){if(typeof e>"u"||null===e)return{width:0,height:0,baseline:0};const o=dk(e+hk(t)),r=this._cache.get(o);if(r)return r;const a={width:0,height:0,baseline:0},l=n.box||__,c=this._baselineMarker().cloneNode(!1);for(let h in t){let d=t[h];typeof d<"u"&&(l.style[h]=d)}const u=!1!==n.normalizeText?x_(e):String(e);return l.textContent=u,l.appendChild(c),document.body.appendChild(l),u.length&&(a.width=l.offsetWidth-this.options.baselineMarkerSize,a.height=l.offsetHeight,a.baseline=c.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(o,a),l.parentNode.removeChild(l),a}_baselineMarker(){const e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}b_.current=new b_;const pk=b_;function Cp(s,e,t){return pk.current.measure(s,e,t)}function gk(s){const e=window.console;typeof e<"u"&&e.log&&e.log(s)}const{append:ra,bindEvents:ih,defined:P,deg:hr,elementOffset:Wl,elementSize:po,eventCoordinates:g6,eventElement:li,hashKey:m6,last:yt,limitValue:Z,objectKey:y6,rad:It,round:B,unbindEvents:oh,valueOrDefault:re}=vi;class rh{static fetchFonts(e,t,n={depth:0}){!e||n.depth>5||!document.fonts||Object.keys(e).forEach(function(o){const r=e[o];"dataSource"===o||"$"===o[0]||!r||("font"===o?t.push(r):"object"==typeof r&&(n.depth++,rh.fetchFonts(r,t,n),n.depth--))})}static loadFonts(e,t){let n=[];if(e.length>0&&document.fonts){try{n=e.map(function(i){return document.fonts.load(i)})}catch(i){gk(i)}Promise.all(n).then(t,t)}else t()}static preloadFonts(e,t){const n=[];rh.fetchFonts(e,n),rh.loadFonts(n,t)}}const v6=rh;function O(s,e){const t=s.prototype;t.options=t.options?S({},t.options,e):e}function w_(s){let e=mt,t=kt;for(let n=0,i=s.length;n<i;n++){const o=s[n];null!==o&&isFinite(o)&&(e=Math.min(e,o),t=Math.max(t,o))}return{min:e===mt?void 0:e,max:t===kt?void 0:t}}function mk(s,e){for(let t=0;t<s.length;t++){const n=s[t];if(e(n,t,s))return n}}const Sp=zn,x6=/matrix\((.*)\)/;function yk(s){const e=getComputedStyle(s).transform;return"none"===e?Sp.unit():function _6(s){const e=s.match(x6);if(null===e||2!==e.length)return Sp.unit();const t=e[1].split(",").map(n=>parseFloat(n));return new Sp(...t)}(e)}const C_={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},vk=Ul.browser;let xk=s=>{const e=Object.keys(C_);e.push("transparent");const t=new RegExp("^("+e.join("|")+")(\\W|$)","i");return xk=n=>t.exec(n),t.exec(s)};class Dp extends W{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(e){return this.toBytes().toHex(e)}toBytes(){return this}toCss(e){return"#"+this.toHex(e)}toCssRgba(){const e=this.toBytes();return`rgba(${e.r}, ${e.g}, ${e.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return vk.msie&&vk.version<9?this.toCss():this.toCssRgba()}equals(e){return e===this||null!=e&&this.toCssRgba()===Tp(e).toCssRgba()}diff(e){if(null===e)return NaN;const t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}clone(){let e=this.toBytes();return e===this&&(e=new go(e.r,e.g,e.b,e.a)),e}}class dr extends Dp{constructor(e,t,n,i){super(),this.r=e,this.g=t,this.b=n,this.a=i}toHSV(){const{r:e,g:t,b:n}=this,i=Math.min(e,t,n),o=Math.max(e,t,n),r=o-i,a=o;let l,c;return 0===r?new S_(0,0,a,this.a):(0!==o?(c=r/o,l=e===o?(t-n)/r:t===o?2+(n-e)/r:4+(e-t)/r,l*=60,l<0&&(l+=360)):(c=0,l=-1),new S_(l,c,a,this.a))}toHSL(){const{r:e,g:t,b:n}=this,i=Math.max(e,t,n),o=Math.min(e,t,n);let r,a,l=(i+o)/2;if(i===o)r=a=0;else{const c=i-o;switch(a=l>.5?c/(2-i-o):c/(i+o),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}}return new _k(60*r,100*a,100*l,this.a)}toBytes(){return new go(255*this.r,255*this.g,255*this.b,this.a)}}class go extends dr{constructor(e,t,n,i){super(Math.round(e),Math.round(t),Math.round(n),i)}toRGB(){return new dr(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(e){let t=Ep(this.r,2)+Ep(this.g,2)+Ep(this.b,2);return e&&e.alpha&&(t+=Ep(Math.round(255*this.a),2)),t}toBytes(){return this}}function Ep(s,e,t="0"){let n=s.toString(16);for(;e>n.length;)n=t+n;return n}class S_ extends Dp{constructor(e,t,n,i){super(),this.h=e,this.s=t,this.v=n,this.a=i}toRGB(){let i,o,r,{h:e,s:t,v:n}=this;if(0===t)i=o=r=n;else{e/=60;const a=Math.floor(e),l=e-a,c=n*(1-t),u=n*(1-t*l),h=n*(1-t*(1-l));switch(a){case 0:i=n,o=h,r=c;break;case 1:i=u,o=n,r=c;break;case 2:i=c,o=n,r=h;break;case 3:i=c,o=u,r=n;break;case 4:i=h,o=c,r=n;break;default:i=n,o=c,r=u}}return new dr(i,o,r,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class _k extends Dp{constructor(e,t,n,i){super(),this.h=e,this.s=t,this.l=n,this.a=i}toRGB(){let i,o,r,e=this.h/360,t=this.s/100,n=this.l/100;if(0===t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=D_(l,a,e+1/3),o=D_(l,a,e),r=D_(l,a,e-1/3)}return new dr(i,o,r,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function D_(s,e,t){let n=t;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+6*(e-s)*n:n<.5?e:n<2/3?s+(e-s)*(2/3-n)*6:s}function bk(s){return parseFloat(parseFloat(parseInt(s,16)/255).toFixed(3))}function Tp(s,e){let t,n;if(null==s||"none"===s)return null;if(s instanceof Dp)return s;let i=s.toLowerCase();if(t=xk(i))return i="transparent"===t[1]?new dr(1,1,1,0):Tp(C_[t[1]],e),i.match=[t[1]],i;if((t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?n=new go(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?n=new go(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?n=new go(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),bk(t[4]+t[4])):(t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?n=new go(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),bk(t[4])):(t=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(i))?n=new go(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1):(t=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(i))?n=new go(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])):(t=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(i))?n=new dr(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,1):(t=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(i))&&(n=new dr(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,parseFloat(t[4]))),n)n.match=t;else if(!e)throw new Error("Cannot parse color: "+i);return n}const Pi=(()=>{class s extends W{constructor(t){if(super(),1===arguments.length){const n=s.formats,i=this.resolveColor(t);for(let o=0;o<n.length;o++){const a=n[o].process,l=n[o].re.exec(i);if(l){const c=a(l);this.r=c[0],this.g=c[1],this.b=c[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const t=this.padDigit,n=this.r.toString(16),i=this.g.toString(16),o=this.b.toString(16);return"#"+t(n)+t(i)+t(o)}resolveColor(t){let n=t||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),n=s.namedColors[n]||n,n}normalizeByte(t){return t<0||isNaN(t)?0:t>255?255:t}padDigit(t){return 1===t.length?"0"+t:t}brightness(t){const n=Math.round;return this.r=n(this.normalizeByte(this.r*t)),this.g=n(this.normalizeByte(this.g*t)),this.b=n(this.normalizeByte(this.b*t)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(t,n,i,o){return new go(t,n,i,o??1)}static fromRGB(t,n,i,o){return new dr(t,n,i,o??1)}static fromHSV(t,n,i,o){return new S_(t,n,i,o??1)}static fromHSL(t,n,i,o){return new _k(t,n,i,o??1)}}return s.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],s.namedColors=C_,s})(),E_=function C6(s){return new Pi(s).isDark()?Te:gt},wk={};class S6{constructor(e){this._index={},this._values=e?e.slice(0):[];for(let t=0;t<this._values.length;t++)this._index[this._values[t]]=t}values(){return this._values.filter(e=>e!==wk)}has(e){return void 0!==this._index[e]}add(e){this.has(e)||(this._index[e]=this._values.length,this._values.push(e))}delete(e){const t=this._index[e];void 0!==t&&(this._values[t]=wk,delete this._index[e])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class D6{constructor(e){this._set=new Set(e)}values(){return Array.from(this._set)}has(e){return this._set.has(e)}add(e){this._set.add(e)}delete(e){this._set.delete(e)}clear(){this._set.clear()}get size(){return this._set.size}}function Ck(s){return(()=>{let s=!1;return"function"==typeof Set&&(s=new Set([1]).has(1)),s})()?new D6(s):new S6(s)}function Sk(s){throw s}function ah(s,e){let t=B(e-s,9);if(0===t){if(0===e)return.1;t=Math.abs(e)}const n=Math.pow(10,Math.floor(Math.log(t)/Math.log(10))),i=B(t/n,10);let o=1;return o=i<1.904762?.2:i<4.761904?.5:i<9.523809?1:2,B(n*o,10)}class Ap extends W{constructor(e,t){super(),this.x=e||0,this.y=t||0}clone(){return new Ap(this.x,this.y)}equals(e){return e&&this.x===e.x&&this.y===e.y}rotate(e,t){const n=It(t),i=Math.cos(n),o=Math.sin(n),{x:r,y:a}=e,{x:l,y:c}=this;return this.x=B(r+(l-r)*i+(c-a)*o,3),this.y=B(a+(c-a)*i-(l-r)*o,3),this}multiply(e){return this.x*=e,this.y*=e,this}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}static onCircle(e,t,n){const i=It(t);return new Ap(e.x-n*Math.cos(i),e.y-n*Math.sin(i))}}const ne=Ap,ts=class T6 extends W{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}trigger(e,t){const n=this._observers;if(n&&!this._suspended)for(let i=0;i<n.length;i++){let o=n[i];o[e]&&o[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function A6(s){return function(e){return this[s]!==e&&(this[s]=e,this.geometryChange()),this}}function M6(s){return function(){return this[s]}}const Mp=(s,e)=>{const t=class extends s{};return function k6(s,e){for(let t=0;t<e.length;t++){let n=e[t],i=n.charAt(0).toUpperCase()+n.substring(1,n.length);s["set"+i]=A6(n),s["get"+i]=M6(n)}}(t.prototype,e),t};function aa(s){return s&&"function"==typeof s.matrix?s.matrix():s}class ns extends(Mp(ts,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new ns(this.x,this.y)}rotate(e,t){const n=ns.create(t)||ns.ZERO;return this.transform(zn.rotate(e,n.x,n.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=aa(e),{x:n,y:i}=this;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}round(e){return this.x=Ke(this.x,e),this.y=Ke(this.y,e),this.geometryChange(),this}toArray(e){const t=te(e);return[t?Ke(this.x,e):this.x,t?Ke(this.y,e):this.y]}toString(e,t=" "){let{x:n,y:i}=this;return te(e)&&(n=Ke(n,e),i=Ke(i,e)),n+t+i}static create(e,t){if(te(e))return e instanceof ns?e:1===arguments.length&&2===e.length?new ns(e[0],e[1]):new ns(e,t)}static min(){let e=$l,t=$l;for(let n=0;n<arguments.length;n++){let i=arguments[n];e=Math.min(i.x,e),t=Math.min(i.y,t)}return new ns(e,t)}static max(){let e=Gl,t=Gl;for(let n=0;n<arguments.length;n++){const i=arguments[n];e=Math.max(i.x,e),t=Math.max(i.y,t)}return new ns(e,t)}static minPoint(){return new ns(Gl,Gl)}static maxPoint(){return new ns($l,$l)}static get ZERO(){return new ns(0,0)}}const N=ns;class la extends(Mp(ts,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new la(this.width,this.height)}toArray(e){const t=te(e);return[t?Ke(this.width,e):this.width,t?Ke(this.height,e):this.height]}static create(e,t){if(te(e))return e instanceof la?e:1===arguments.length&&2===e.length?new la(e[0],e[1]):new la(e,t)}static get ZERO(){return new la(0,0)}}const ca=la;class fr extends ts{constructor(e=new N,t=new ca,n=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(n)}clone(){return new fr(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",N.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",ca.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),i=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return fr.fromPoints(t,n,i,o)}transformCopy(e){return fr.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}_isOnPath(e,t){const n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}static fromPoints(){const e=N.min.apply(null,arguments),t=N.max.apply(null,arguments),n=new ca(t.x-e.x,t.y-e.y);return new fr(e,n)}static union(e,t){return fr.fromPoints(N.min(e.topLeft(),t.topLeft()),N.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=i.right&&i.left<=n.right&&n.top<=i.bottom&&i.top<=n.bottom)return fr.fromPoints(new N(Math.max(n.left,i.left),Math.max(n.top,i.top)),new N(Math.min(n.right,i.right),Math.min(n.bottom,i.bottom)))}}const De=fr;class kp extends W{constructor(e,t,n,i){super(),this.x1=e||0,this.y1=t||0,this.x2=n||0,this.y2=i||0}equals(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}move(e,t){const n=this.height(),i=this.width();return P(e)&&(this.x1=e,this.x2=this.x1+i),P(t)&&(this.y1=t,this.y2=this.y1+n),this}wrap(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this}wrapPoint(e){const t=Qt(e),n=t?e[0]:e.x,i=t?e[1]:e.y;return this.wrap(new kp(n,i,n,i)),this}snapTo(e,t){return(t===q||!t)&&(this.x1=e.x1,this.x2=e.x2),(t===K||!t)&&(this.y1=e.y1,this.y2=e.y2),this}alignTo(e,t){const n=this.height(),i=this.width(),o=t===Ee||t===Re?K:q,r=o===K?n:i;if(t===ue){const a=e.center(),l=this.center();this.x1+=a.x-l.x,this.y1+=a.y-l.y}else this[o+1]=t===Ee||t===we?e[o+1]-r:e[o+2];return this.x2=this.x1+i,this.y2=this.y1+n,this}shrink(e,t){return this.x2-=e,this.y2-=t,this}expand(e,t){return this.shrink(-e,-t),this}pad(e){const t=Be(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this}unpad(e){const t=Be(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)}clone(){return new kp(this.x1,this.y1,this.x2,this.y2)}center(){return new ne(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2}points(){return[new ne(this.x1,this.y1),new ne(this.x2,this.y1),new ne(this.x2,this.y2),new ne(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)}rotate(e){let t=this.width(),n=this.height();const{x:i,y:o}=this.center(),r=Ip(0,0,i,o,e),a=Ip(t,0,i,o,e),l=Ip(t,n,i,o,e),c=Ip(0,n,i,o,e);return t=Math.max(r.x,a.x,l.x,c.x)-Math.min(r.x,a.x,l.x,c.x),n=Math.max(r.y,a.y,l.y,c.y)-Math.min(r.y,a.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+n,this}toRect(){return new De([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(e,t,n){const i=t+1,o=t+2,r=t===q?yp:gp,a=this[r]();ye(n,[we,Ee])?(this[i]=e[i],this[o]=this[i]+a):ye(n,[ke,Re])?(this[o]=e[o],this[i]=this[o]-a):n===ue&&(this[i]=e[i]+(e[r]()-a)/2,this[o]=this[i]+a)}}function Ip(s,e,t,n,i){const o=It(i);return new ne(t+(s-t)*Math.cos(o)+(e-n)*Math.sin(o),n-(s-t)*Math.sin(o)+(e-n)*Math.cos(o))}const V=kp;class T_ extends W{constructor(e,t,n,i,o){super(),this.center=e,this.innerRadius=t,this.radius=n,this.startAngle=i,this.angle=o}clone(){return new T_(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(e,t){return t?this.innerRadius=e:this.radius=e,this}point(e,t){const n=It(e),i=Math.cos(n),o=Math.sin(n),r=t?this.innerRadius:this.radius,a=B(this.center.x-i*r,3),l=B(this.center.y-o*r,3);return new ne(a,l)}adjacentBox(e,t,n){const i=this.clone().expand(e),o=i.middle(),r=i.point(o),a=t/2,l=n/2,c=Math.sin(It(o)),u=Math.cos(It(o));let h=r.x-a,d=r.y-l;return Math.abs(c)<.9&&(h+=a*-u/Math.abs(u)),Math.abs(u)<.9&&(d+=l*-c/Math.abs(c)),new V(h,d,h+t,d+n)}containsPoint(e){const t=this.center,n=this.innerRadius,i=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=e.x-t.x,l=e.y-t.y,c=new ne(a,l),u=this.point(o),h=new ne(u.x-t.x,u.y-t.y),d=this.point(r),f=new ne(d.x-t.x,d.y-t.y),p=B(a*a+l*l,3);return(h.equals(c)||WM(h,c))&&!WM(f,c)&&p>=n*n&&p<=i*i}getBBox(){const e=new V(mt,mt,kt,kt),t=B(this.startAngle%360),n=B((t+this.angle)%360),i=this.innerRadius,o=[0,90,180,270,t,n].sort(I6),r=o.indexOf(t),a=o.indexOf(n);let l;l=t===n?o:r<a?o.slice(r,a+1):[].concat(o.slice(0,a+1),o.slice(r,o.length));for(let c=0;c<l.length;c++){let u=this.point(l[c]);e.wrapPoint(u),e.wrapPoint(u,i)}return i||e.wrapPoint(this.center),e}expand(e){return this.radius+=e,this}}function I6(s,e){return s-e}const Pp=T_;function Ek(s,e,t=10){return 0===Ke(Math.abs(s-e),t)}function A_(s,e,t){return s<e||Ek(s,e,t)}function Tk(s,e,t,n){let i=0,o=0;return n&&(i=Math.atan2(n.c*t,n.a*e),0!==n.b&&(o=Math.atan2(n.d*t,n.b*e))),{x:i,y:o}}class M_ extends ts{constructor(e=zn.unit()){super(),this._matrix=e}clone(){return new M_(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(zn.translate(e,t)),this._optionsChange(),this}scale(e,t=e,n=null){let i=n;return i&&(i=N.create(i),this._matrix=this._matrix.multiplyCopy(zn.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(zn.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(zn.translate(-i.x,-i.y))),this._optionsChange(),this}rotate(e,t){const n=N.create(t)||N.ZERO;return this._matrix=this._matrix.multiplyCopy(zn.rotate(e,n.x,n.y)),this._optionsChange(),this}multiply(e){const t=aa(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const Ak=M_;function Ne(s){return null===s?null:s instanceof Ak?s:new Ak(s)}const Rp=Math.pow,N6=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class Np extends(Mp(ts,N6)){constructor(e=new N,t={}){super(),this.setCenter(e),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation}clone(){return new Np(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(e){return this._observerField("center",N.create(e)),this.geometryChange(),this}getCenter(){return this.center}pointAt(e){const t=this.center,n=Ii(e);return new N(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}curvePoints(){const e=this.startAngle,t=this.anticlockwise?-1:1,n=[this.pointAt(e)],i=this._arcInterval(),o=i.endAngle-i.startAngle,r=Math.ceil(o/45),a=o/r;let c,l=e;this.xRotation&&(c=Ne().rotate(this.xRotation,this.center));for(let u=1;u<=r;u++){const h=l+t*a,d=this._intervalCurvePoints(l,h,c);n.push(d.cp1,d.cp2,d.p2),l=h}return n}bbox(e){const t=this._arcInterval(),n=t.startAngle,i=t.endAngle,o=Tk(0,this.radiusX,this.radiusY,e),r=ur(o.x),a=ur(o.y),l=this.pointAt(i).transformCopy(e);let c=kk(r,n),u=kk(a,n),h=this.pointAt(n).transformCopy(e),d=N.min(h,l),f=N.max(h,l);for(;c<i||u<i;){let p,g;c<i&&(p=this.pointAt(c).transformCopy(e),c+=90),u<i&&(g=this.pointAt(u).transformCopy(e),u+=90),h=new N(p.x,g.y),d=N.min(d,h),f=N.max(f,h)}return De.fromPoints(d,f)}_arcInterval(){let{startAngle:e,endAngle:t,anticlockwise:n}=this;if(n){let i=e;e=t,t=i}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}_intervalCurvePoints(e,t,n){const i=this.pointAt(e),o=this.pointAt(t),r=this._derivativeAt(e),a=this._derivativeAt(t),l=(Ii(t)-Ii(e))/3,c=new N(i.x+l*r.x,i.y+l*r.y),u=new N(o.x-l*a.x,o.y-l*a.y);return n&&(i.transform(n),o.transform(n),c.transform(n),u.transform(n)),{p1:i,cp1:c,cp2:u,p2:o}}_derivativeAt(e){const t=Ii(e);return new N(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}containsPoint(e){const t=this._arcInterval(),n=t.endAngle-t.startAngle,{center:i,radiusX:o,radiusY:r}=this,a=i.distanceTo(e),l=Math.atan2(e.y-i.y,e.x-i.x),c=o*r/Math.sqrt(Rp(o,2)*Rp(Math.sin(l),2)+Rp(r,2)*Rp(Math.cos(l),2)),u=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),d=function P6(s,e,t,n){const i=e.x-s.x,o=n.x-t.x,r=e.y-s.y,a=n.y-t.y,l=s.x-t.x,c=s.y-t.y,u=i*a-o*r,h=(i*c-r*l)/u,d=(o*c-a*l)/u;if(h>=0&&h<=1&&d>=0&&d<=1)return new N(s.x+d*i,s.y+d*r)}(i,e.round(10),u,h);let f;if(n<180)f=d&&A_(i.distanceTo(d),a)&&A_(a,c);else{let p=Mk(i.x,i.y,o,r,e.x,e.y);360!==p&&(p=(360+p)%360);let g=t.startAngle<=p&&p<=t.endAngle;f=g&&A_(a,c)||!g&&(!d||d.equals(e))}return f}_isOnPath(e,t){const n=this._arcInterval(),i=this.center;let o=Mk(i.x,i.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==o&&(o=(360+o)%360),n.startAngle<=o&&o<=n.endAngle&&this.pointAt(o).distanceTo(e)<=t}static fromPoints(e,t,n,i,o,r,a){const l=function O6(s){let{x1:e,y1:t,x2:n,y2:i,rx:o,ry:r,largeArc:a,swipe:l,rotation:c=0}=s;const u=Ii(c),h=Math.cos(u),d=Math.sin(u),f=h*(e-n)/2+d*(t-i)/2,p=-d*(e-n)/2+h*(t-i)/2,g=a!==l?1:-1,y=Math.pow(f,2),x=Math.pow(p,2);let w=Math.pow(o,2),C=Math.pow(r,2),A=y/w+x/C;A>1&&(A=Math.sqrt(y/w+x/C),o*=A,w=Math.pow(o,2),r*=A,C=Math.pow(r,2));let L=g*Math.sqrt((w*C-w*x-C*y)/(w*x+C*y));isNaN(L)&&(L=0);const U=L*(o*p)/r,J=r*f*-L/o,xe=h*U-d*J+(e+n)/2,Je=d*U+h*J+(t+i)/2,Ce=(f-U)/o,Kt=(p-J)/r,Pt=-(f+U)/o,sn=-(p+J)/r,yi=(Kt>=0?1:-1)*ur(Math.acos(Ce/Math.sqrt(Ce*Ce+Kt*Kt))),Ui=Ke((Ce*Pt+Kt*sn)/(Math.sqrt(Ce*Ce+Kt*Kt)*Math.sqrt(Pt*Pt+sn*sn)),10);let z=(Ce*sn-Kt*Pt>=0?1:-1)*ur(Math.acos(Ui));!l&&z>0&&(z-=360),l&&z<0&&(z+=360);let X=yi+z;const ie=X>=0?1:-1;return X=Math.abs(X)%360*ie,{center:new N(xe,Je),startAngle:yi,endAngle:X,radiusX:o,radiusY:r,xRotation:c}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:n,ry:i,largeArc:o,swipe:r,rotation:a});return new Np(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===r})}}function Mk(s,e,t,n,i,o){const r=Ke((i-s)/t,3),a=Ke((o-e)/n,3);return Ke(ur(Math.atan2(a,r)))}function kk(s,e){let t=s;for(;t<e;)t+=90;return t}const pr=Np,L6=[].push,F6=[].pop,B6=[].splice,V6=[].shift,Ik=[].slice,z6=[].unshift,Pk=class H6 extends ts{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=L6.apply(this,e);return this._add(e),t}slice(){return Ik.call(this)}pop(){const e=this.length,t=F6.apply(this);return e&&this._remove([t]),t}splice(e,t){const n=Ik.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}shift(){const e=this.length,t=V6.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=z6.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let n=0;n<t;n++)if(this[n]===e)return n;return-1}_splice(e,t,n){const i=B6.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}},Rk=class j6 extends Pk{_change(){this.geometryChange()}},U6={}.toString;class lh extends ts{constructor(e,t=""){super(),this.prefix=t;for(let n in e){let i=e[n];i=this._wrap(i,n),this[n]=i}}get(e){const t=e.split(".");let n=this;for(;t.length&&n;)n=n[t.shift()];return n}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const n=e.indexOf(".")>=0;let i=this,o=e;if(n){const r=o.split(".");let a=this.prefix;for(;r.length>1;){o=r.shift(),a+=o+".";let l=i[o];l||(l=new lh({},a),l.addObserver(this),i[o]=l),i=l}o=r[0]}i._clear(o),i[o]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const n=U6.call(e);let i=e;return null!==i&&te(i)&&"[object Object]"===n&&(!(e instanceof lh)&&!(e instanceof W)&&(i=new lh(i,this.prefix+t+".")),i.addObserver(this)),i}}const k_=lh,Ri=class $6 extends ts{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:n}=e;n&&(e.transform=Ne(n)),t&&!t.id&&(t.id=xp()),this.options=new k_(e),this.options.addObserver(this)}transform(e){if(!te(e))return this.options.get("transform");this.options.set("transform",Ne(e))}parentTransform(){let t,e=this;for(;e.parent;){e=e.parent;let n=e.transform();n&&(t=n.matrix().multiplyCopy(t||zn.unit()))}if(t)return Ne(t)}currentTransform(e=this.parentTransform()){const n=aa(this.transform());let o,i=aa(e);if(o=n&&i?i.multiplyCopy(n):n||i,o)return Ne(o)}visible(e){return te(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return te(e)?(e&&!e.id&&(e.id=xp()),t.set("clip",e),this):t.get("clip")}opacity(e){return te(e)?(this.options.set("opacity",e),this):m_(this.options.get("opacity"),1)}clippedBBox(e){const t=this._clippedBBox(e);if(t){const n=this.clip();return n?De.intersect(t,n.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const n=this.currentTransform(t);let i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}_hasFill(){const e=this.options.fill;return e&&!oa(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!oa(e.color)}_clippedBBox(e){return this.bbox(e)}};function Nk(s,e,t){const n=ur(Math.atan2(e.y-s.y,e.x-s.x));return t.transformCopy(Ne().rotate(-n,s)).x<s.x}function Op(s,e,t){const n=1-s;return Math.pow(n,3)*t[0][e]+3*Math.pow(n,2)*s*t[1][e]+3*Math.pow(s,2)*n*t[2][e]+Math.pow(s,3)*t[3][e]}function Ok(s,e){return[3*s[1][e]-s[0][e]-3*s[2][e]+s[3][e],3*(s[0][e]-2*s[1][e]+s[2][e]),3*(-s[0][e]+s[1][e]),s[0][e]]}class gr extends W{constructor(e=0,t=0){super(),this.real=e,this.img=t}add(e){return new gr(Ke(this.real+e.real,10),Ke(this.img+e.img,10))}addConstant(e){return new gr(this.real+e,this.img)}negate(){return new gr(-this.real,-this.img)}multiply(e){return new gr(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}multiplyConstant(e){return new gr(this.real*e,this.img*e)}nthRoot(e){const t=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),i=Math.pow(n,1/e);return new gr(i*Math.cos(t/e),i*Math.sin(t/e))}equals(e){return this.real===e.real&&this.img===e.img}isReal(){return 0===this.img}}const ch=gr;function Lk(s){return s<0?-1:1}function Fk(s,e,t,n){if(0===s)return function G6(s,e,t){const n=Math.sqrt(Math.pow(e,2)-4*s*t);return[(-e+n)/(2*s),(-e-n)/(2*s)]}(e,t,n);const i=(3*s*t-Math.pow(e,2))/(3*Math.pow(s,2)),o=(2*Math.pow(e,3)-9*s*e*t+27*Math.pow(s,2)*n)/(27*Math.pow(s,3)),r=Math.pow(i/3,3)+Math.pow(o/2,2),a=new ch(0,1),l=-e/(3*s);let c,u,h,d,f,p,g;r<0?(c=new ch(-o/2,Math.sqrt(-r)).nthRoot(3),u=new ch(-o/2,-Math.sqrt(-r)).nthRoot(3)):(c=-o/2+Math.sqrt(r),c=new ch(Lk(c)*Math.pow(Math.abs(c),1/3)),u=-o/2-Math.sqrt(r),u=new ch(Lk(u)*Math.pow(Math.abs(u),1/3))),h=c.add(u),p=c.add(u).multiplyConstant(-.5),g=c.add(u.negate()).multiplyConstant(Math.sqrt(3)/2),d=p.add(a.multiply(g)),f=p.add(a.negate().multiply(g));const y=[];return h.isReal()&&y.push(Ke(h.real+l,10)),d.isReal()&&y.push(Ke(d.real+l,10)),f.isReal()&&y.push(Ke(f.real+l,10)),y}function Lp(s,e,t,n,i){const o=Ok(s,n),r=Fk(o[0],o[1],o[2],o[3]-e[n]);let a;for(let l=0;l<r.length;l++)if(0<=r[l]&&r[l]<=1&&(a=Op(r[l],t,s),Math.abs(a-e[t])<=i))return!0}function Bk(s,e,t){let n;if(s.x!==e.x){const i=Math.min(s.x,e.x),o=Math.max(s.x,e.x),r=Math.min(s.y,e.y),a=Math.max(s.y,e.y),l=i<=t.x&&t.x<o;n=r===a?t.y<=r&&l:l&&(a-r)*((s.x-e.x)*(s.y-e.y)>0?t.x-i:o-t.x)/(o-i)+r-t.y>=0}return n?1:0}function q6(s){const e="_"+s;return function(t){return te(t)?(this._observerField(e,N.create(t)),this.geometryChange(),this):this[e]}}const Fp=(s,e)=>{const t=class extends s{};return function K6(s,e){for(let t=0;t<e.length;t++)s[e[t]]=q6(e[t])}(t.prototype,e),t},Y6=["anchor","controlIn","controlOut"];class X6 extends(Fp(ts,Y6)){constructor(e,t,n){super(),this.anchor(e||new N),this.controlIn(t),this.controlOut(n)}bboxTo(e,t){const n=this.anchor().transformCopy(t),i=e.anchor().transformCopy(t);let o;return o=this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),i):this._lineBoundingBox(n,i),o}_lineBoundingBox(e,t){return De.fromPoints(e,t)}_curveBoundingBox(e,t,n,i){const o=[e,t,n,i],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),l=Vk([r.min,r.max,e.x,i.x]),c=Vk([a.min,a.max,e.y,i.y]);return De.fromPoints(new N(l.min,c.min),new N(l.max,c.max))}_curveExtremesFor(e,t){const n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:Op(n.min,t,e),max:Op(n.max,t,e)}}_curveExtremes(e,t,n,i){const o=e-3*t+3*n-i,r=-2*(e-2*t+n),a=e-t,l=Math.sqrt(r*r-4*o*a);let c=0,u=1;0===o?0!==r&&(c=u=-a/r):isNaN(l)||(c=(-r+l)/(2*o),u=(-r-l)/(2*o));let h=Math.max(Math.min(c,u),0);(h<0||h>1)&&(h=0);let d=Math.min(Math.max(c,u),1);return(d>1||d<0)&&(d=1),{min:h,max:d}}_intersectionsTo(e,t){let n;return n=this.controlOut()&&e.controlIn()?function W6(s,e,t){const n=Ok(s,"x"),i=Fk(n[0],n[1],n[2],n[3]-e.x);let o,r,a=0;for(let l=0;l<i.length;l++)o=Op(i[l],"y",s),r=Ek(o,e.y)||o>e.y,r&&((0===i[l]||1===i[l])&&t.bottomRight().x>e.x||0<i[l]&&i[l]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):Bk(this.anchor(),e.anchor(),t),n}_isOnCurveTo(e,t,n,i){if(this.bboxTo(e).expand(n,n).containsPoint(t)){const r=this.anchor(),a=this.controlOut(),l=e.controlIn(),c=e.anchor();if("start"===i&&r.distanceTo(t)<=n)return!Nk(r,a,t);if("end"===i&&c.distanceTo(t)<=n)return!Nk(c,l,t);const u=[r,a,l,c];if(Lp(u,t,"x","y",n)||Lp(u,t,"y","x",n))return!0;const h=Ne().rotate(45,t),d=[r.transformCopy(h),a.transformCopy(h),l.transformCopy(h),c.transformCopy(h)];return Lp(d,t,"x","y",n)||Lp(d,t,"y","x",n)}}_isOnLineTo(e,t,n){const i=this.anchor(),o=e.anchor(),r=ur(Math.atan2(o.y-i.y,o.x-i.x));return new De([i.x,i.y-n/2],[i.distanceTo(o),n]).containsPoint(t.transformCopy(Ne().rotate(-r,i)))}_isOnPathTo(e,t,n,i){let o;return o=this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,i):this._isOnLineTo(e,t,n),o}}function Vk(s){let e=s.length,t=$l,n=Gl;for(let i=0;i<e;i++)n=Math.max(n,s[i]),t=Math.min(t,s[i]);return{min:t,max:n}}const an=X6,Ts="x",As="y";function jk(s,e){for(;e[s+1]&&(e[s].equals(e[s+1])||e[s+1].equals(e[s+2]));)e.splice(s+1,1)}function Uk(s,e){const t=(e.y-s.y)/(e.x-s.x);return[s.y-t*s.x,t]}function I_(s,e,t){let a,n=Ts,i=As,o=!1,r=!1;if(function J6(s,e,t){const i=qk(Uk(s,e),t.x);return s.x===e.x&&e.x===t.x||Ke(i,1)===Ke(t.y,1)}(s,e,t))a=uh(s,e,Ts,As);else{const u={x:Gk(s,e,t,Ts),y:Gk(s,e,t,As)};if(u.x&&u.y)a=uh(s,t,Ts,As),o=!0;else if(function Q6(s,e,t){let n=!1;if(s.x===e.x)n=!0;else if(e.x===t.x)(e.y<t.y&&s.y<=e.y||t.y<e.y&&e.y<=s.y)&&(n=!0);else{const o=qk(Uk(s,e),t.x);s.y<=e.y&&t.y<=o||e.y<=s.y&&t.y>=o||(n=!0)}return n}(s,e,t)&&(n=As,i=Ts),u[n])a=0;else{let h;h=t[i]<s[i]&&s[i]<=e[i]||s[i]<t[i]&&e[i]<=s[i]?Kk((t[i]-s[i])*(e[n]-s[n])):-Kk((t[n]-s[n])*(e[i]-s[i])),a=.01*h,r=!0}}const l=R_(a,s,e,n,i);if(r){const u=n;n=i,i=u}const c=P_(a,e,t,n,i);return o&&($k(s,e,l,a),$k(e,t,c,a)),[l,c]}function $k(s,e,t,n){s.y<e.y?e.y<t.y?(t.x=s.x+(e.y-s.y)/n,t.y=e.y):t.y<s.y&&(t.x=e.x-(e.y-s.y)/n,t.y=s.y):t.y<e.y?(t.x=s.x-(s.y-e.y)/n,t.y=e.y):s.y<t.y&&(t.x=e.x+(s.y-e.y)/n,t.y=s.y)}function uh(s,e,t,n){const i=e[t]-s[t];let r;return r=0===i?0:(e[n]-s[n])/i,r}function Gk(s,e,t,n){return t[n]>e[n]&&e[n]>s[n]||t[n]<e[n]&&e[n]<s[n]}function P_(s,e,t,n,i){const o=e[n],a=.333*(t[n]-o);return Wk(o+a,e[i]+a*s,n,i)}function R_(s,e,t,n,i){const r=t[n],a=.333*(r-e[n]);return Wk(r-a,t[i]-a*s,n,i)}function Wk(s,e,t,n){const i=new N;return i[t]=s,i[n]=e,i}function qk(s,e){const t=s.length;let n=0;for(let i=0;i<t;i++)n+=Math.pow(e,i)*s[i];return n}function Kk(s){return s<=0?-1:1}const Kl=s=>class extends s{fill(e,t){const n=this.options;if(te(e)){if(e&&"Gradient"!==e.nodeType){const i={color:e};te(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")}stroke(e,t,n){return te(e)?(this.options.set("stroke.color",e),te(t)&&this.options.set("stroke.width",t),te(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},tW=zn.IDENTITY.toString(),hh=s=>class extends s{bbox(e){const t=aa(this.currentTransform(e)),n=t?t.toString():tW;let i;this._bboxCache&&this._matrixHash===n?i=this._bboxCache.clone():(i=this._bbox(t),this._bboxCache=i?i.clone():null,this._matrixHash=n);const o=this.options.get("stroke.width");return o&&i&&i.expand(o/2),i}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},nW={l:function(s,e){const{parameters:t,position:n}=e;for(let i=0;i<t.length;i+=2){let o=new N(t[i],t[i+1]);e.isRelative&&o.translateWith(n),s.lineTo(o.x,o.y),n.x=o.x,n.y=o.y}},c:function(s,e){const{parameters:t,position:n}=e;for(let i=0;i<t.length;i+=6){let o=new N(t[i],t[i+1]),r=new N(t[i+2],t[i+3]),a=new N(t[i+4],t[i+5]);e.isRelative&&(r.translateWith(n),o.translateWith(n),a.translateWith(n)),s.curveTo(o,r,a),n.x=a.x,n.y=a.y}},v:function(s,e){Yk(e.parameters,!0,e.isRelative?0:e.position.x),this.l(s,e)},h:function(s,e){Yk(e.parameters,!1,e.isRelative?0:e.position.y),this.l(s,e)},a:function(s,e){const{parameters:t,position:n}=e;for(let i=0;i<t.length;i+=7){const o=t[i],r=t[i+1],a=t[i+2],l=t[i+3],c=t[i+4],u=new N(t[i+5],t[i+6]);e.isRelative&&u.translateWith(n),(n.x!==u.x||n.y!==u.y)&&(s.arcTo(u,o,r,l,c,a),n.x=u.x,n.y=u.y)}},s:function(s,e){const{parameters:t,position:n,previousCommand:i}=e;let o;("s"===i||"c"===i)&&(o=en(en(s.paths).segments).controlIn());for(let r=0;r<t.length;r+=4){let c,a=new N(t[r],t[r+1]),l=new N(t[r+2],t[r+3]);e.isRelative&&(a.translateWith(n),l.translateWith(n)),c=o?Xk(o,n):n.clone(),o=a,s.curveTo(c,a,l),n.x=l.x,n.y=l.y}},q:function(s,e){const{parameters:t,position:n}=e;for(let i=0;i<t.length;i+=4){let o=new N(t[i],t[i+1]),r=new N(t[i+2],t[i+3]);e.isRelative&&(o.translateWith(n),r.translateWith(n));let a=Qk(n,o,r);s.curveTo(a.controlOut,a.controlIn,r),n.x=r.x,n.y=r.y}},t:function(s,e){const{parameters:t,position:n,previousCommand:i}=e;let o;("q"===i||"t"===i)&&(o=en(en(s.paths).segments).controlIn().clone().translateWith(n.scaleCopy(-1/3)).scale(1.5));for(let r=0;r<t.length;r+=2){let a=new N(t[r],t[r+1]);e.isRelative&&a.translateWith(n),o=o?Xk(o,n):n.clone();let l=Qk(n,o,a);s.curveTo(l.controlOut,l.controlIn,a),n.x=a.x,n.y=a.y}}};function Yk(s,e,t){const n=e?0:1;for(let i=0;i<s.length;i+=2)s.splice(i+n,0,t)}function Xk(s,e){if(s&&e)return e.scaleCopy(2).translate(-s.x,-s.y)}const Zk=1/3;function Qk(s,e,t){const n=e.clone().scale(.6666666666666666);return{controlOut:n.clone().translateWith(s.scaleCopy(Zk)),controlIn:n.translateWith(t.scaleCopy(Zk))}}const Jk=nW,sW=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,iW=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,N_=function aW(s,e){const t=new N;let n;return e.replace(sW,(i,o,r,a)=>{let l=o.toLowerCase();const c=l===o,u=function rW(s){const e=[];return s.replace(iW,function(t,n){e.push(parseFloat(n))}),e}(r.trim());if("m"===l&&(c?(t.x+=u[0],t.y+=u[1]):(t.x=u[0],t.y=u[1]),s.moveTo(t.x,t.y),u.length>2&&(l="l",u.splice(0,2))),Jk[l])Jk[l](s,{parameters:u,position:t,isRelative:c,previousCommand:n}),a&&"z"===a.toLowerCase()&&s.close();else if("m"!==l)throw new Error("Error while parsing SVG path. Unsupported command: "+l);n=l}),s};function Bp(s,e,t){let n;for(let i=0;i<s.length;i++){let o=s[i];if(o.visible()){let r=e?o.bbox(t):o.rawBBox();r&&(n=n?De.union(n,r):r)}}return n}function tI(s,e){let t;for(let n=0;n<s.length;n++){let i=s[n];if(i.visible()){let o=i.clippedBBox(e);o&&(t=t?De.union(t,o):o)}}return t}const cW=(s,e)=>s.controlOut()&&e.controlIn()?"C":"L";class ee extends(Kl(hh(Ri))){get nodeType(){return"Path"}constructor(e){super(e),this.segments=new Rk,this.segments.addObserver(this),te(this.options.stroke)||(this.stroke("#000"),te(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}lineTo(e,t){const n=te(t)?new N(e,t):e,i=new an(n);return this.segments.push(i),this}curveTo(e,t,n){if(this.segments.length>0){const i=en(this.segments),o=new an(n,t);this.suspend(),i.controlOut(e),this.resume(),this.segments.push(o)}return this}arc(e,t,n,i,o){if(this.segments.length>0){const a=en(this.segments).anchor(),l=Ii(e),c=new N(a.x-n*Math.cos(l),a.y-i*Math.sin(l)),u=new pr(c,{startAngle:e,endAngle:t,radiusX:n,radiusY:i,anticlockwise:o});this._addArcSegments(u)}return this}arcTo(e,t,n,i,o,r){if(this.segments.length>0){const l=en(this.segments).anchor(),c=pr.fromPoints(l,N.create(e),t,n,i,o,r);this._addArcSegments(c)}return this}_addArcSegments(e){this.suspend();const t=e.curvePoints();for(let n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(e){let t="";const n=this.segments,i=n.length;if(i>0){const o=[],r=(s=e,(...e)=>e.map(t=>t.toString(s)).join(" "));let a;for(let l=1;l<i;l++){let c=cW(n[l-1],n[l]);c!==a&&(a=c,o.push(c)),o.push("L"===c?r(n[l].anchor()):r(n[l-1].controlOut(),n[l].controlIn(),n[l].anchor()))}t="M"+r(n[0].anchor())+" "+o.join(" "),this.options.closed&&(t+="Z")}var s;return t}_containsPoint(e){const t=this.segments,n=t.length;let o,r,i=0;for(let a=1;a<n;a++)o=t[a-1],r=t[a],i+=o._intersectionsTo(r,e);return(this.options.closed||!t[0].anchor().equals(t[n-1].anchor()))&&(i+=Bk(t[0].anchor(),t[n-1].anchor(),e)),i%2!=0}_isOnPath(e,t){const n=this.segments,i=n.length,o=t||this.options.stroke.width;if(i>1){if(n[0]._isOnPathTo(n[1],e,o,"start"))return!0;for(let r=2;r<=i-2;r++)if(n[r-1]._isOnPathTo(n[r],e,o))return!0;if(n[i-2]._isOnPathTo(n[i-1],e,o,"end"))return!0}return!1}_bbox(e){const t=this.segments,n=t.length;let i;if(1===n){let o=t[0].anchor().transformCopy(e);i=new De(o,ca.ZERO)}else if(n>0)for(let o=1;o<n;o++){let r=t[o-1].bboxTo(t[o],e);i=i?De.union(i,r):r}return i}static parse(e,t){return Ni.parse(e,t)}static fromRect(e,t){const n=new ee(t);let[i,o]=e.cornerRadius;if(0===i&&0===o)n.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{const r=e.origin,{x:a,y:l}=r,c=e.width(),u=e.height();i=bp(i,0,c/2),o=bp(o,0,u/2),n.moveTo(a+i,l).lineTo(a+c-i,l).arcTo([a+c,l+o],i,o,!1).lineTo(a+c,l+u-o).arcTo([a+c-i,l+u],i,o,!1).lineTo(a+i,l+u).arcTo([a,l+u-o],i,o,!1).lineTo(a,l+o).arcTo([a+i,l],i,o,!1)}return n}static fromPoints(e,t){if(e){const n=new ee(t);for(let i=0;i<e.length;i++){let o=N.create(e[i]);o&&(0===i?n.moveTo(o):n.lineTo(o))}return n}}static curveFromPoints(e,t){if(e){const n=function Hk(s,e){const t=s.slice(0),n=[];let i=t.length;if(i>2&&(jk(0,t),i=t.length),i<2||2===i&&t[0].equals(t[1]))return n;let l,c,o=t[0],r=t[1],a=t[2];for(n.push(new an(o));o.equals(t[i-1]);)e=!0,t.pop(),i--;if(2===i){const h=uh(o,r,Ts,As);return en(n).controlOut(P_(h,o,r,Ts,As)),n.push(new an(r,R_(h,o,r,Ts,As))),n}if(e){o=t[i-1],r=t[0],a=t[1];const h=I_(o,r,a);l=h[1],c=h[0]}else l=P_(uh(o,r,Ts,As),o,r,Ts,As);let u=l;for(let h=0;h<=i-3;h++)if(jk(h,t),i=t.length,h+3<=i){o=t[h],r=t[h+1],a=t[h+2];const d=I_(o,r,a);en(n).controlOut(u),u=d[1],n.push(new an(r,d[0]))}if(e){o=t[i-2],r=t[i-1],a=t[0];const h=I_(o,r,a);en(n).controlOut(u),n.push(new an(r,h[0])),en(n).controlOut(h[1]),n.push(new an(a,c))}else{const h=uh(r,a,Ts,As);en(n).controlOut(u),n.push(new an(a,R_(h,r,a,Ts,As)))}return n}(e),i=new ee(t);return i.segments.push.apply(i.segments,n),i}}static fromArc(e,t){const n=new ee(t),i=e.startAngle,o=e.pointAt(i);return n.moveTo(o.x,o.y),n.arc(i,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n}}class Ni extends(Kl(hh(Ri))){static parse(e,t){const n=new Ni(t);return N_(n,e)}toString(e){const t=this.paths;let n="";if(t.length>0){const i=[];for(let o=0;o<t.length;o++)i.push(t[o].toString(e));n=i.join(" ")}return n}get nodeType(){return"MultiPath"}constructor(e){super(e),this.paths=new Rk,this.paths.addObserver(this),te(this.options.stroke)||this.stroke("#000")}moveTo(e,t){const n=new ee;return n.moveTo(e,t),this.paths.push(n),this}lineTo(e,t){return this.paths.length>0&&en(this.paths).lineTo(e,t),this}curveTo(e,t,n){return this.paths.length>0&&en(this.paths).curveTo(e,t,n),this}arc(e,t,n,i,o){return this.paths.length>0&&en(this.paths).arc(e,t,n,i,o),this}arcTo(e,t,n,i,o,r){return this.paths.length>0&&en(this.paths).arcTo(e,t,n,i,o,r),this}close(){return this.paths.length>0&&en(this.paths).close(),this}_bbox(e){return Bp(this.paths,!0,e)}rawBBox(){return Bp(this.paths,!1)}_containsPoint(e){const t=this.paths;for(let n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}_isOnPath(e){const t=this.paths,n=this.options.stroke.width;for(let i=0;i<t.length;i++)if(t[i]._isOnPath(e,n))return!0;return!1}_clippedBBox(e){return tI(this.paths,this.currentTransform(e))}}class O_ extends W{createRing(e,t){const n=e.startAngle+180;let i=e.angle+n;e.angle>0&&n===i&&(i+=.001);const o=new N(e.center.x,e.center.y),r=Math.max(e.radius,0),a=Math.max(e.innerRadius,0),l=new pr(o,{startAngle:n,endAngle:i,radiusX:r,radiusY:r}),c=ee.fromArc(l,t).close();if(a){l.radiusX=l.radiusY=a;const u=l.pointAt(i);c.lineTo(u.x,u.y),c.arc(i,n,a,a,!0)}else c.lineTo(o.x,o.y);return c}}O_.current=new O_;const zp=O_,nI=Math.PI/2;class L_ extends(Mp(ts,["radius"])){constructor(e=new N,t=0){super(),this.setCenter(e),this.setRadius(t)}setCenter(e){return this._observerField("center",N.create(e)),this.geometryChange(),this}getCenter(){return this.center}equals(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}clone(){return new L_(this.center.clone(),this.radius)}pointAt(e){return this._pointAt(Ii(e))}bbox(e){const t=Tk(0,this.radius,this.radius,e);let n=N.maxPoint(),i=N.minPoint();for(let o=0;o<4;o++){let r=this._pointAt(t.x+o*nI).transformCopy(e),a=this._pointAt(t.y+o*nI).transformCopy(e),l=new N(r.x,a.y);n=N.min(n,l),i=N.max(i,l)}return De.fromPoints(n,i)}_pointAt(e){const{center:t,radius:n}=this;return new N(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}containsPoint(e){const{center:t,radius:n}=this;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}_isOnPath(e,t){const{center:n,radius:i}=this,o=n.distanceTo(e);return i-t<=o&&o<=i+t}}const Ms=L_;function hW(s){const e="_"+s;return function(t){return te(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}const Hp=(s,e=["geometry"])=>{const t=class extends s{};return function dW(s,e){for(let t=0;t<e.length;t++)s[e[t]]=hW(e[t])}(t.prototype,e),t};class pW extends(Kl(hh(Hp(Ri)))){get nodeType(){return"Circle"}constructor(e=new Ms,t={}){super(t),this.geometry(e),te(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(e){return this._geometry.bbox(e)}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const yo=pW,F_=(s,e)=>class extends s{traverse(t){const n=this[e];for(let i=0;i<n.length;i++){let o=n[i];o.traverse?o.traverse(t):t(o)}return this}};class gW extends(F_(Ri,"children")){get nodeType(){return"Group"}constructor(e){super(e),this.children=[]}childrenChange(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}append(){return eh(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}insertAt(e,t){return this.insert(t,e)}remove(e){const t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}removeAt(e){if(0<=e&&e<this.children.length){let t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}clear(){const e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}bbox(e){return Bp(this.children,!0,this.currentTransform(e))}rawBBox(){return Bp(this.children,!1)}_clippedBBox(e){return tI(this.children,this.currentTransform(e))}currentTransform(e){return Ri.prototype.currentTransform.call(this,e)||null}containsPoint(e,t){if(this.visible()){const n=this.children,i=this.currentTransform(t);for(let o=0;o<n.length;o++)if(n[o].containsPoint(e,i))return!0}return!1}_reparent(e,t){for(let n=0;n<e.length;n++){const i=e[n],o=i.parent;o&&o!==this&&o.remove&&o.remove(i),i.parent=t}}}const Ze=gW;function mW(s){return.5-Math.cos(s*Math.PI)/2}function yW(s){return s}function vW(s,e,t,n){let i=1.70158,o=0,r=n;return 0===s?t:1===s?t+n:(o||(o=.5),r<Math.abs(n)?(r=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*s)*Math.sin((Number(s)-i)*(1.1*Math.PI)/o)+n+t)}let B_=s=>{const e=typeof window<"u"?window:{},t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};B_=n=>t.call(e,n),B_(s)};const sI=B_;let V_;class z_ extends W{static get current(){return V_||(V_=new z_),V_}constructor(){super(),this._items=[]}register(e,t){this._items.push({name:e,type:t})}create(e,t){const n=this._items;let i;if(t&&t.type){const o=t.type.toLowerCase();for(let r=0;r<n.length;r++)if(n[r].name.toLowerCase()===o){i=n[r];break}}if(i)return new i.type(e,t)}}const ci=z_,ss=class xW extends W{static create(e,t,n){return ci.current.create(e,t,n)}get options(){return this._options||{duration:500,easing:"swing"}}set options(e){this._options=e}constructor(e,t){super(),this.options=Object.assign({},this.options,t),this.element=e}setup(){}step(){}play(){const e=this.options,{duration:t,delay:n=0}=e,i=Yt[e.easing],o=nh()+n,r=o+t;0===t?(this.step(1),this.abort()):setTimeout(()=>{const a=()=>{if(this._stopped)return;const l=nh(),c=bp(l-o,0,t),h=i(c/t,c,0,1,t);this.step(h),l<r?sI(a):this.abort()};a()},n)}abort(){this._stopped=!0}destroy(){this.abort()}};class iI extends W{constructor(e){super(),this.children=[],this.options=S({},this.options,this.initUserOptions(e))}initUserOptions(e){return e}reflow(e){const t=this.children;let n;for(let i=0;i<t.length;i++){let o=t[i];o.reflow(e),n=n?n.wrap(o.box):o.box.clone()}this.box=n||e}destroy(){const e=this.children;this.animation&&this.animation.destroy();for(let t=0;t<e.length;t++)e[t].destroy()}getRoot(){const e=this.parent;return e?e.getRoot():null}getSender(){const e=this.getService();if(e)return e.sender}getService(){let e=this;for(;e;){if(e.chartService)return e.chartService;e=e.parent}}translateChildren(e,t){const n=this.children,i=n.length;for(let o=0;o<i;o++)n[o].box.translate(e,t)}append(){for(let e=0;e<arguments.length;e++){let t=arguments[e];this.children.push(t),t.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].renderVisual()}createVisual(){this.visual=new Ze({zIndex:this.options.zIndex,visible:re(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=ss.create(this.visual,this.options.animation))}appendVisual(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):P(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(e){const t=e.options.zIndex||0,n=this.visual.children,i=n.length;let o;for(o=0;o<i&&!(re(n[o].options.zIndex,0)>t);o++);this.visual.insert(o,e)}traverse(e){const t=this.children,n=t.length;for(let i=0;i<n;i++){let o=t[i];e(o),o.traverse&&o.traverse(e)}}closest(e){let t=this,n=!1;for(;t&&!n;)n=e(t),n||(t=t.parent);if(n)return t}renderComplete(){}hasHighlight(){const e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)}toggleHighlight(e,t){const n=(this.options||{}).highlight||{},i=n.visual;let o=this._highlight;if(!o){const r={fill:{color:Te,opacity:t||.2},stroke:{color:Te,width:1,opacity:t||.2}};if(i){if(o=this._highlight=i(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(r),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(r);P(o.options.zIndex)||(o.options.zIndex=re(n.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(e)}createGradientOverlay(e,t,n){const i=new ee(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:e.options.closed},t));return i.segments.elements(e.segments.elements()),i}createGradient(e){if(this.parent)return this.parent.createGradient(e)}supportsPointInactiveOpacity(){return!0}}iI.prototype.options={};const Oe=iI;class oI extends Oe{constructor(e){super(e),this.options.margin=Be(this.options.margin),this.options.padding=Be(this.options.padding)}reflow(e){const t=this.options,{width:n,height:i,shrinkToFit:o}=t,r=n&&i,a=t.margin,l=t.padding,c=t.border.width;let u;const h=()=>{this.align(e,q,t.align),this.align(e,K,t.vAlign),this.paddingBox=u.clone().unpad(a).unpad(c)};let d=e.clone();r&&(d.x2=d.x1+n,d.y2=d.y1+i),o&&d.unpad(a).unpad(c).unpad(l),super.reflow(d),u=r?this.box=new V(0,0,n,i):this.box,o&&r?(h(),d=this.contentBox=this.paddingBox.clone().unpad(l)):(d=this.contentBox=u.clone(),u.pad(l).pad(c).pad(a),h()),this.translateChildren(u.x1-d.x1+a.left+c+l.left,u.y1-d.y1+a.top+c+l.top);const f=this.children;for(let p=0;p<f.length;p++){let g=f[p];g.reflow(g.box)}}align(e,t,n){this.box.align(e,t,n)}hasBox(){const e=this.options;return e.border.width||e.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(ee.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:re(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}}O(oI,{align:we,vAlign:Ee,margin:{},padding:{},border:{color:gt,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const ua=oI;class rI extends ua{constructor(e,t){super(e),this.pointData=t}getElement(){const{options:e,paddingBox:t}=this,{type:n,rotation:i}=e,o=t.center(),r=t.width()/2,a=t.height()/2;if(!e.visible||!this.hasBox())return null;const l=this.visualStyle();let c;if(n===oi)c=new yo(new Ms([B(t.x1+r,3),B(t.y1+a,3)],Math.min(r,a)),l);else if("triangle"===n)c=ee.fromPoints([[t.x1+r,t.y1],[t.x1,t.y2],[t.x2,t.y2]],l).close();else if("cross"===n)c=new Ni(l),c.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),c.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1);else{const u=t.toRect();if(n===$M){const h=re(e.borderRadius,u.width()/5);u.setCornerRadius(h)}c=ee.fromRect(u,l)}return i&&c.transform(Ne().rotate(-i,[o.x,o.y])),c.options.zIndex=e.zIndex,c}createElement(){const e=this.options.visual,t=this.pointData||{};let n;return n=e?e({value:t.value,dataItem:t.dataItem,sender:this.getSender(),series:t.series,category:t.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),n}visualOptions(){const e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}}createVisual(){this.visual=this.createElement()}}O(rI,{type:oi,align:ue,vAlign:ue});const mr=rI,bW=class _W extends Pk{_change(){this.optionsChange({field:"stops"})}};function wW(s){return function(e){return te(e)?(this.options.set(s,e),this):this.options.get(s)}}const DW=["offset","color","opacity"];class dh extends(((s,e)=>{const t=class extends s{};return function CW(s,e){for(let t=0;t<e.length;t++)s[e[t]]=wW(e[t])}(t.prototype,e),t})(ts,DW)){constructor(e,t,n){super(),this.options=new k_({offset:e,color:t,opacity:te(n)?n:1}),this.options.addObserver(this)}static create(e){if(te(e)){let t;return t=e instanceof dh?e:e.length>1?new dh(e[0],e[1],e[2]):new dh(e.offset,e.color,e.opacity),t}}}const H_=dh,j_=class EW extends ts{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new bW(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=xp()}userSpace(e){return te(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let n=0;n<e.length;n++)t.push(H_.create(e[n]));return t}addStop(e,t,n){this.stops.push(new H_(e,t,n))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}},TW=["start","end"];class AW extends(Fp(j_,TW)){constructor(e={}){super(e),this.start(e.start||new N),this.end(e.end||new N(1,0))}}const jp=AW;class MW extends(Fp(j_,["center"])){constructor(e={}){super(e),this.center(e.center||new N),this._radius=te(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}radius(e){return te(e)?(this._radius=e,this.geometryChange(),this):this._radius}fallbackFill(e){return te(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}const Up=MW,fh="radial",IW={glass:{type:"linear",rotation:0,stops:[{offset:0,color:Te,opacity:0},{offset:.25,color:Te,opacity:.3},{offset:1,color:Te,opacity:0}]},sharpBevel:{type:fh,stops:[{offset:0,color:Te,opacity:.55},{offset:.65,color:Te,opacity:0},{offset:.95,color:Te,opacity:.25}]},roundedBevel:{type:fh,stops:[{offset:.33,color:Te,opacity:.06},{offset:.83,color:Te,opacity:.2},{offset:.95,color:Te,opacity:0}]},roundedGlass:{type:fh,supportVML:!1,stops:[{offset:0,color:Te,opacity:0},{offset:.5,color:Te,opacity:.3},{offset:.99,color:Te,opacity:0}]},sharpGlass:{type:fh,supportVML:!1,stops:[{offset:0,color:Te,opacity:.2},{offset:.15,color:Te,opacity:.15},{offset:.17,color:Te,opacity:.35},{offset:.85,color:Te,opacity:.05},{offset:.87,color:Te,opacity:.15},{offset:.99,color:Te,opacity:0}]},bubbleShadow:{type:fh,center:[.5,.5],radius:.5}};function PW(s,e){if(s.x1===e.x1&&s.y1===e.y1&&s.x2===e.x2&&s.y2===e.y2)return e;const t=Math.min(s.x1,e.x1),n=Math.max(s.x1,e.x1),i=Math.min(s.x2,e.x2),o=Math.max(s.x2,e.x2),r=Math.min(s.y1,e.y1),a=Math.max(s.y1,e.y1),l=Math.min(s.y2,e.y2),c=Math.max(s.y2,e.y2),u=[];return u[0]=new V(n,r,i,a),u[1]=new V(t,a,n,l),u[2]=new V(i,a,o,l),u[3]=new V(n,l,i,c),s.x1===t&&s.y1===r||e.x1===t&&e.y1===r?(u[4]=new V(t,r,n,a),u[5]=new V(i,l,o,c)):(u[4]=new V(i,r,o,a),u[5]=new V(t,l,n,c)),es(u,function(h){return h.height()>0&&h.width()>0})[0]}class aI extends Oe{constructor(e){super(e);const t=this.options;t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),this.gradients={}}reflow(){const{options:e,children:t}=this;let n=new V(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(let i=0;i<t.length;i++)t[i].reflow(n),n=PW(n,t[i].box)||new V}createVisual(){this.visual=new Ze,this.createBackground()}createBackground(){const e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),i=ee.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(i)}getRoot(){return this}createGradient(e){const t=this.gradients,n=y6(e),i=IW[e.gradient];let o;if(t[n])o=t[n];else{const r=Object.assign({},i,e);"linear"===i.type?o=new jp(r):(e.innerRadius&&(r.stops=function RW(s){const e=s.stops,t=s.innerRadius/s.radius*100,n=e.length,i=[];for(let o=0;o<n;o++){let r=Object.assign({},e[o]);r.offset=(r.offset*(100-t)+t)/100,i.push(r)}return i}(r)),o=new Up(r),o.supportVML=!1!==i.supportVML),t[n]=o}return o}cleanGradients(){const e=this.gradients;for(let t in e)e[t]._observers=[]}size(){const e=this.options;return new V(0,0,e.width,e.height)}}O(aI,{width:600,height:400,background:Te,border:{color:gt,width:0},margin:Be(5),zIndex:-2});const NW=aI;class lI extends Oe{constructor(e){super(e),this._initDirection()}_initDirection(){const e=this.options;e.vertical?(this.groupAxis=q,this.elementAxis=K,this.groupSizeField=yp,this.elementSizeField=gp,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=K,this.elementAxis=q,this.groupSizeField=gp,this.elementSizeField=yp,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)}reflow(e){this.box=e.clone(),this.reflowChildren()}reflowChildren(){const{box:e,elementAxis:t,groupAxis:n,elementSizeField:i,groupSizeField:o}=this,{groups:r,groupsSize:a,maxGroupElementsSize:l}=this.groupOptions(),c=r.length,u=e[n+1]+this.alignStart(a,e[o]());if(c){let h=u;for(let d=0;d<c;d++){let f=r[d],p=f.groupElements,g=e[t+1],y=p.length;for(let x=0;x<y;x++){let w=p[x],C=this.elementSize(w),A=h+this.alignStart(C[o],f.groupSize),L=new V;L[n+1]=A,L[n+2]=A+C[o],L[t+1]=g,L[t+2]=g+C[i],w.reflow(L),g+=C[i]+this.elementSpacing}h+=f.groupSize+this.groupSpacing}e[n+1]=u,e[n+2]=u+a,e[t+2]=e[t+1]+l}}alignStart(e,t){let n=0;const i=this.options.align;return i===ke||i===Re?n=t-e:i===ue&&(n=(t-e)/2),n}groupOptions(){const{box:e,children:t,elementSizeField:n,groupSizeField:i,elementSpacing:o,groupSpacing:r}=this,a=B(e[n]()),l=t.length,c=[];let u=0,h=0,d=0,f=0,p=[];for(let g=0;g<l;g++){let y=t[g];y.box||y.reflow(e);let x=this.elementSize(y);this.options.wrap&&B(h+o+x[n])>a&&(c.push({groupElements:p,groupSize:u,groupElementsSize:h}),f=Math.max(f,h),d+=r+u,u=0,h=0,p=[]),u=Math.max(u,x[i]),h>0&&(h+=o),h+=x[n],p.push(y)}return c.push({groupElements:p,groupSize:u,groupElementsSize:h}),f=Math.max(f,h),d+=u,{groups:c,groupsSize:d,maxGroupElementsSize:f}}elementSize(e){return{width:e.box.width(),height:e.box.height()}}createVisual(){}}O(lI,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const U_=lI;class FW extends(Kl(Fp(Ri,["position"]))){get nodeType(){return"Text"}constructor(e,t=new N,n={}){super(n),this.content(e),this.position(t),this.options.font||(this.options.font="12px sans-serif"),te(this.options.fill)||this.fill("#000")}content(e){return te(e)?(this.options.set("content",e),this):this.options.get("content")}measure(){return Cp(this.content(),{font:this.options.get("font")})}rect(){const e=this.measure(),t=this.position().clone();return new De(t,[e.width,e.height])}bbox(e){const t=aa(this.currentTransform(e));return this.rect().bbox(t)}rawBBox(){return this.rect().bbox()}_containsPoint(e){return this.rect().containsPoint(e)}}const cI=FW,BW=cI;class uI extends Oe{constructor(e,t){super(t),this.content=e,this.reflow(new V)}reflow(e){const t=this.options,n=t.size=Cp(this.content,{font:t.font});this.baseline=n.baseline,this.box=new V(e.x1,e.y1,e.x1+n.width,e.y1+n.height)}createVisual(){const{font:e,color:t,opacity:n,cursor:i}=this.options;this.visual=new BW(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:t,opacity:n},cursor:i})}}O(uI,{font:VM,color:gt});const VW=uI;function $p(s){const e=s.origin,t=s.bottomRight();return new V(e.x,e.y,t.x,t.y)}const zW=/\n/m,is=class HW extends ua{constructor(e,t,n){super(t),this.content=e,this.data=n,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new V)}_initContainer(){const e=this.options,t=String(this.content).split(zW),n=new U_({vertical:!0,align:e.align,wrap:!1}),i=S({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(let o=0;o<t.length;o++){let r=new VW(t[o].trim(),i);n.append(r)}}reflow(e){const t=this.options,n=t.visual;if(this.container.options.align=t.align,n&&!this._boxReflow){let i=e;i.hasSize()||(this._boxReflow=!0,this.reflow(i),this._boxReflow=!1,i=this.box);const o=this.visual=n(this.visualContext(i));o&&(i=$p(o.clippedBBox()||new De),o.options.zIndex=t.zIndex),this.box=this.contentBox=this.paddingBox=i}else if(super.reflow(e),t.rotation){const i=Be(t.margin);let o=this.box.unpad(i);this.targetBox=e,this.normalBox=o.clone(),o=this.rotate(),o.translate(i.left-i.right,i.top-i.bottom),this.rotatedBox=o.clone(),o.pad(i)}}createVisual(){const e=this.options;if(this.visual=new Ze({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){const t=ee.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}renderVisual(){if(this.options.visible)if(this.options.visual){const e=this.visual;e&&!P(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(e){const t={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(t,this.data),t}getDefaultVisual(){this.createVisual(),this.renderChildren();const e=this.visual;return delete this.visual,e}rotate(){const e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,q,e.align),this.align(this.targetBox,K,e.vAlign),this.box}rotationTransform(){const e=this.options.rotation;if(!e)return null;const{x:t,y:n}=this.normalBox.center(),i=this.rotatedBox.center();return Ne().translate(i.x-t,i.y-n).rotate(e,[t,n])}};class Gp extends Oe{constructor(e){super(e),this._textBox=new is(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(e){super.reflow(e),this.box.snapTo(e,q)}static buildTitle(e,t){let i,n=e;return"string"==typeof e&&(n={text:e}),n=Object.assign({visible:!0},t,n),n&&n.visible&&n.text&&(i=new Gp(n)),i}static orderTitles(e){const t=[].concat(e),n=t.filter(o=>o&&o.options.position!==Re),i=t.filter(o=>o&&o.options.position===Re);return hI(n),hI(i),i.reverse(),n.concat(i)}}function hI(s){for(let e=1;e<s.length;e++){const t=s[e]._textBox,n=s[e-1]._textBox;n.options.margin=Object.assign(Be(n.options.margin),{bottom:0}),t.options.margin=Object.assign(Be(t.options.margin),{top:0})}}O(Gp,{color:gt,position:Ee,align:ue,margin:Be(5),padding:Be(5)});const Wp=Gp;class dI extends is{constructor(e,t,n,i,o){super(t,o),this.text=t,this.value=e,this.index=n,this.dataItem=i,this.reflow(new V)}visualContext(e){const t=super.visualContext(e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t}click(e,t){e.trigger("axisLabelClick",{element:li(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==ue){const e=this.normalBox.toRect(),t=this.rotationTransform();this.box=$p(e.bbox(t.matrix()))}else super.rotate();return this.box}rotationTransform(){const e=this.options,t=e.rotation;if(!t)return null;if(e.alignRotation===ue)return super.rotationTransform();const n=Ne().rotate(t).matrix(),i=this.normalBox.toRect(),o=this.targetBox.toRect(),r=e.rotationOrigin||Ee,a=r===Ee||r===Re?q:K,l=r===Ee||r===Re?K:q,c=r===Ee||r===we?o.origin:o.bottomRight(),u=i.topLeft().transformCopy(n),h=i.topRight().transformCopy(n),d=i.bottomRight().transformCopy(n),f=i.bottomLeft().transformCopy(n),p=De.fromPoints(u,h,d,f),g={[l]:o.origin[l]-p.origin[l]},y=Math.abs(u[l]+g[l]-c[l]),x=Math.abs(h[l]+g[l]-c[l]);let w,C;B(y,10)===B(x,10)?(w=u,C=h):x<y?(w=h,C=d):(w=u,C=f);const A=w[a]+(C[a]-w[a])/2;return g[a]=o.center()[a]-A,Ne().translate(g.x,g.y).rotate(t)}}O(dI,{_autoReflow:!1});const ha=dI;class pI extends ua{constructor(e,t,n){super(t),this.fields=e,this.chartService=n,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const e=this.options;if(e.visible){const{label:t,icon:n}=e,i=new V,o=()=>this;let l,c,r=n.size,a=this.fields.text;if(P(t)&&t.visible){const h=Jt(t);h?a=h(this.fields):t.format&&(a=this.chartService.format.auto(t.format,a)),t.color||(t.color=t.position===l_?"#fff":n.background),this.label=new is(a,S({},t)),this.label.aliasFor=o,t.position===l_&&!P(r)&&(n.type===oi?r=Math.max(this.label.box.width(),this.label.box.height()):(l=this.label.box.width(),c=this.label.box.height()),i.wrap(this.label.box))}n.width=l||r||7,n.height=c||r||7;const u=new mr(S({},n));u.aliasFor=o,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new V),this.wrapperBox=i.wrap(u.box)}}reflow(e){const{options:t,label:n,marker:i,wrapperBox:o}=this,r=e.center(),a=t.line.length,l=t.position;if(t.visible){let c,u,h;ye(l,[we,ke])?l===we?(h=o.alignTo(e,l).translate(-a,e.center().y-o.center().y),t.line.visible&&(c=[e.x1,r.y],this.linePoints=[c,[h.x2,r.y]],u=h.clone().wrapPoint(c))):(h=o.alignTo(e,l).translate(a,e.center().y-o.center().y),t.line.visible&&(c=[e.x2,r.y],this.linePoints=[c,[h.x1,r.y]],u=h.clone().wrapPoint(c))):l===Re?(h=o.alignTo(e,l).translate(e.center().x-o.center().x,a),t.line.visible&&(c=[r.x,e.y2],this.linePoints=[c,[r.x,h.y1]],u=h.clone().wrapPoint(c))):(h=o.alignTo(e,l).translate(e.center().x-o.center().x,-a),t.line.visible&&(c=[r.x,e.y1],this.linePoints=[c,[r.x,h.y2]],u=h.clone().wrapPoint(c))),i&&i.reflow(h),n&&(n.reflow(h),i&&(t.label.position===mp&&n.box.alignTo(i.box,l),n.reflow(n.box))),this.contentBox=h,this.targetBox=e,this.box=u||h}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const e=this.options,t=e.visual;e.visible&&t?(this.visual=t(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:e.background,border:e.background,icon:e.icon,label:e.label,line:e.line,position:e.position,visible:e.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const n=this.visual;return delete this.visual,n}})),this.addVisual()):super.renderVisual()}createLine(){const e=this.options.line;if(this.linePoints){const t=ee.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});Ss(t),this.visual.append(t)}}click(e,t){const n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()}over(e,t){const n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()}out(e,t){const n=this.eventArgs(t);e.trigger("noteLeave",n)}eventArgs(e){const t=this.options;return Object.assign(this.fields,{element:li(e),text:P(t.label)?t.label.text:"",visual:this.visual})}}O(pI,{icon:{visible:!0,type:oi},label:{position:l_,visible:!0,align:ue,vAlign:ue},line:{visible:!0},visible:!0,position:Ee,zIndex:2});const gI=pI;let mI={format:(s,e)=>e,toString:s=>s,parseDate:s=>new Date(s),firstDay:()=>0};const yI=class UW{static register(e){mI=e}static get implementation(){return mI}},$W=/\{(\d+)(:[^\}]+)?\}/g,$_=class qW{constructor(e,t={}){this._intlService=t.intlService,this.sender=t.sender||e,this.format=new class GW{constructor(e){this._intlService=e}get intl(){return this._intlService||yI.implementation}set intl(e){this._intlService=e}auto(e,...t){const n=this.intl;return ho(e)&&e.match(jM)?n.format(e,...t):n.toString(t[0],e)}localeAuto(e,t,n){const i=this.intl;let o;return o=ho(e)&&e.match(jM)?e.replace($W,function(r,a,l){let c=t[parseInt(a,10)];return i.toString(c,l?l.substring(1):"",n)}):i.toString(t[0],e,n),o}}(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)}get intl(){return this._intlService||yI.implementation}set intl(e){this._intlService=e,this.format.intl=e}notify(e,t){this.chart&&this.chart.trigger(e,t)}isPannable(e){const t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}};let G_;const W_=class KW{static register(e){G_=e}static create(e,t){if(G_)return G_.create(e,t)}};function vI(s,e){const{tickX:t,tickY:n,position:i}=s,o=new ee({stroke:{width:e.width,color:e.color}});return s.vertical?o.moveTo(t,i).lineTo(t+e.size,i):o.moveTo(i,n).lineTo(i,n+e.size),Ss(o),o}function xI(s,e){const{lineStart:t,lineEnd:n,position:i}=s,o=new ee({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return s.vertical?o.moveTo(t,i).lineTo(n,i):o.moveTo(i,t).lineTo(i,n),Ss(o),o}class _I extends Oe{constructor(e,t=new $_){super(e),this.chartService=t,this.options.visible||(this.options=S({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=S({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==c_},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=S({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==c_},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(e){const t=e.rotation;ri(t)&&(e.alignRotation=t.align,e.rotation=t.angle)}createLabels(){const e=this.options,n=S({},e.labels,{align:e.vertical?ke:ue,zIndex:e.zIndex}),i=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,e.autoRotateLabels=!0);const o=this.labelsRange();for(let r=o.min;r<o.max;r+=i){let l=this.createAxisLabel(r,n,{index:r,count:o.max});l&&(this.append(l),this.labels.push(l))}}}clearLabels(){this.children=es(this.children,e=>!(e instanceof ha)),this.labels=[]}clearTitle(){this.title&&(this.children=es(this.children,e=>e!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:e,box:t}=this,i=e.labels.mirror,o=i?t.x1:t.x2,r=i?t.y2:t.y1,a=e.line.width||0;return e.vertical?new V(o,t.y1,o,t.y2-a):new V(t.x1,r,t.x2-a,r)}createTitle(){const e=this.options,t=S({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){const n=new is(t.text,t);this.append(n),this.title=n}}createNotes(){const e=this.options,t=e.notes,n=t.data||[];this.notes=[];for(let i=0;i<n.length;i++){const o=S({},t,n[i]);o.value=this.parseNoteValue(o.value);const r=new gI({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(P(r.options.position)?e.vertical&&!ye(r.options.position,[we,ke])?r.options.position=e.reverse?we:ke:!e.vertical&&!ye(r.options.position,[Ee,Re])&&(r.options.position=e.reverse?Re:Ee):r.options.position=e.vertical?e.reverse?we:ke:e.reverse?Re:Ee,this.append(r),this.notes.push(r))}}parseNoteValue(e){return e}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let e=this._gridLines;return e||(e=this._gridLines=new Ze({zIndex:-2}),this.appendVisual(this._gridLines)),e}createTicks(e){const t=this.options,n=this.lineBox(),i=t.labels.mirror,o=t.majorTicks.visible?t.majorUnit:0,r={vertical:t.vertical};function a(l,c,u){const h=l.length,d=Math.max(1,c.step);if(c.visible)for(let f=c.skip;f<h;f+=d)P(u)&&f%u==0||(r.tickX=i?n.x2:n.x2-c.size,r.tickY=i?n.y1-c.size:n.y1,r.position=l[f],e.append(vI(r,c)))}a(this.getMajorTickPositions(),t.majorTicks),a(this.getMinorTickPositions(),t.minorTicks,o/t.minorUnit)}createLine(){const e=this.options,t=e.line,n=this.lineBox();if(t.width>0&&t.visible){const i=new ee({stroke:{width:t.width,color:t.color,dashType:t.dashType}});i.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),e._alignLines&&Ss(i);const o=this._lineGroup=new Ze;o.append(i),this.visual.append(o),this.createTicks(o)}}getActualTickSize(){const e=this.options;let t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t}createBackground(){const{options:e,box:t}=this,n=e.background;n&&(this._backgroundPath=ee.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const e=this.options,t=e.plotBands||[],n=e.vertical,i=this.plotArea;if(0===t.length)return;const o=this._plotbandGroup=new Ze({zIndex:-1}),r=es(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<t.length;a++){let c,u,d,l=t[a],h=l.label;if(n?(c=(r||i.axisX).lineBox(),u=this.getSlot(l.from,l.to,!0)):(c=this.getSlot(l.from,l.to,!0),u=(r||i.axisY).lineBox()),h&&(h.vAlign=h.position||we,d=this.createPlotBandLabel(h,l,new V(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){const f=new De([c.x1,u.y1],[c.width(),u.height()]),p=ee.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});o.append(p),d&&o.append(d)}}this.appendVisual(o)}createPlotBandLabel(e,t,n){if(!1===e.visible)return null;let o,i=e.text;if(P(e)&&e.visible){const r=Jt(e);r?i=r({text:i,item:t}):e.format&&(i=this.chartService.format.auto(e.format,i)),e.color||(e.color=this.options.labels.color)}return o=new is(i,e),o.reflow(n),o.renderVisual(),o.visual}createGridLines(e){const t=this.options,{minorGridLines:n,majorGridLines:i,minorUnit:o,vertical:r}=t,a=e.options.line.visible,l=i.visible?t.majorUnit:0,c=e.lineBox(),u=c[r?"y1":"x1"],h={lineStart:c[r?"x1":"y1"],lineEnd:c[r?"x2":"y2"],vertical:r},d=[],f=this.gridLinesVisual();function p(g,y,x){const w=g.length,C=Math.max(1,y.step);if(y.visible)for(let A=y.skip;A<w;A+=C){let L=B(g[A]);ye(L,d)||A%x!=0&&(!a||u!==L)&&(h.position=L,f.append(xI(h,y)),d.push(L))}}return p(this.getMajorTickPositions(),i),p(this.getMinorTickPositions(),n,l/o),f.children}reflow(e){const{options:t,labels:n,title:i}=this,o=t.vertical,r=n.length,a=o?yp:gp,l=i?i.box[a]():0,c=this.getActualTickSize()+t.margin+l,h=((this.getRoot()||{}).box||e)[a]();let d=0;for(let f=0;f<r;f++){let p=n[f].box[a]();p+c<=h&&(d=Math.max(d,p))}this.box=o?new V(e.x1,e.y1,e.x1+d+c,e.y2):new V(e.x1,e.y1,e.x2,e.y1+d+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(e){return e.index}arrangeLabels(){const{options:e,labels:t}=this,n=this.labelsBetweenTicks(),i=e.vertical,o=e.labels.mirror,r=this.getLabelsTickPositions();for(let a=0;a<t.length;a++){const l=t[a],c=this.labelTickIndex(l),u=i?l.box.height():l.box.width(),h=r[c],d=r[c+1];let f,p;i?(f=n?h+(d-h)/2-u/2:h-u/2,p=f):n?(f=h,p=d):(f=h-u/2,p=f+u),this.positionLabel(l,o,f,p)}}positionLabel(e,t,n,i=n){const o=this.options,r=o.vertical,a=this.lineBox(),l=this.getActualTickSize()+o.margin;let c;if(r){let u=a.x2;t?(u+=l,e.options.rotationOrigin=we):(u-=l+e.box.width(),e.options.rotationOrigin=ke),c=e.box.move(u,n)}else{let u=a.y1;t?(u-=l+e.box.height(),e.options.rotationOrigin=Re):(u+=l,e.options.rotationOrigin=Ee),c=new V(n,u,i,u+e.box.height())}e.reflow(c)}autoRotateLabelAngle(e,t){return e.width()<t?0:e.height()>t?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const e=this.getMajorTickPositions(),t=this.labels,n=Math.min(t.length,e.length-1);let i=0;for(let o=0;o<n;o++){const r=Math.abs(e[o+1]-e[o]),l=this.autoRotateLabelAngle(t[o].box,r);if(0!==l&&(i=l),-90===i)break}if(0!==i){for(let o=0;o<t.length;o++)t[o].options.rotation=i,t[o].reflow(new V);return!0}}arrangeTitle(){const{options:e,title:t}=this,n=e.labels.mirror;t&&(e.vertical?(t.options.align=n?ke:we,t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=n?Ee:Re),t.reflow(this.box))}arrangeNotes(){for(let e=0;e<this.notes.length;e++){const t=this.notes[e],n=t.options.value;let i;P(n)?(this.shouldRenderNote(n)?t.show():t.hide(),i=this.noteSlot(n)):t.hide(),t.reflow(i||this.lineBox())}}noteSlot(e){return this.getSlot(e)}alignTo(e){const t=e.lineBox(),n=this.options.vertical,i=n?K:q;this.box.snapTo(t,i),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[i+1]-=this.lineBox()[i+1]-t[i+1],this.box[i+2]-=this.lineBox()[i+2]-t[i+2]}axisLabelText(e,t,n){let i;const o=Jt(t),r=()=>t.format?this.chartService.format.localeAuto(t.format,[e],t.culture):e;return i=o?o(Object.assign({},n,{get text(){return r()},value:e,format:t.format,culture:t.culture})):r(),i}slot(e,t,n){const i=this.getSlot(e,t,n);if(i)return i.toRect()}contentBox(){const e=this.box.clone(),t=this.labels;if(t.length){const n=this.options.vertical?K:q;if(this.chartService.isPannable(n)){const i=this.maxLabelOffset();e[n+1]-=i.start,e[n+2]+=i.end}else{t[0].options.visible&&e.wrap(t[0].box);const i=t[t.length-1];i.options.visible&&e.wrap(i.box)}}return e}maxLabelOffset(){const{vertical:e,reverse:t}=this.options,n=this.labelsBetweenTicks(),i=this.getLabelsTickPositions(),o=e?K:q,r=this.labels,a=t?1:0,l=t?0:1;let c=0,u=0;for(let h=0;h<r.length;h++){const d=r[h],f=this.labelTickIndex(d);let p,g;n?(p=i[f+a],g=i[f+l]):p=g=i[f],c=Math.max(c,p-d.box[o+1]),u=Math.max(u,d.box[o+2]-g)}return{start:c,end:u}}limitRange(e,t,n,i,o){const r=this.options;if(e<n&&o<0&&(!P(r.min)||r.min<=n)||i<t&&o>0&&(!P(r.max)||i<=r.max))return null;if(t<n&&o>0||i<e&&o<0)return{min:e,max:t};const a=t-e;let l=e,c=t;return e<n&&o<0?(l=Z(e,n,i),c=Z(e+a,n+a,i)):t>i&&o>0&&(c=Z(t,n,i),l=Z(t-a,n,i-a)),{min:l,max:c}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:e,reverse:t}=this.options;return(e?-1:1)*(t?-1:1)}lineInfo(){const{vertical:e}=this.options,t=this.lineBox(),n=e?t.height():t.width(),i=e?K:q,o=this.lineDir(),a=i+(1===o?1:2).toString();return{axis:i,axisOrigin:a,axisDir:o,lineBox:t,lineSize:n,lineStart:t[a]}}pointOffset(e){const{axis:t,axisDir:n,axisOrigin:i,lineBox:o,lineSize:r}=this.lineInfo();return(n>0?e[t]-o[i]:o[i]-e[t])/r}scaleToDelta(e,t){const i=Z(e,-.999,.999);let o;return o=i>0?t*Math.min(1,i):t-t/(1+i),o}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}O(_I,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:gt,visible:!0},title:{visible:!0,position:ue},majorTicks:{align:mp,size:4,skip:0,step:1},minorTicks:{align:mp,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:mp,minorTickType:c_,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:gt,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const ph=_I,qp="milliseconds",q_="seconds",K_="minutes",gh="hours",Oi="days",mh="weeks",da="months",vo="years",Yl=6e4,Kp=60*Yl,xo=24*Kp,X_=7*xo,Z_=31*xo,Q_=365*xo,Li={years:Q_,months:Z_,weeks:X_,days:xo,hours:Kp,minutes:Yl,seconds:1e3,milliseconds:1};function J_(s,e){return s.getTime()-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*Yl}function qt(s,e){return new Date(s.getTime()+e)}function Ge(s){let e;return s instanceof Date?e=s:s&&(e=new Date(s)),e}function Yp(s,e){return 0===e&&23===s.getHours()&&(s.setHours(s.getHours()+2),!0)}function An(s,e,t,n){let i=s;if(s){let o=Ge(s);const r=o.getHours();t===vo?(i=new Date(o.getFullYear()+e,0,1),Yp(i,0)):t===da?(i=new Date(o.getFullYear(),o.getMonth()+e,1),Yp(i,r)):t===mh?(i=An(function XW(s,e=0){let t=0,n=s.getDay();if(!isNaN(n))for(;n!==e;)0===n?n=6:n--,t++;return qt(s,-t*xo)}(o,n),7*e,Oi),Yp(i,r)):t===Oi?(i=new Date(o.getFullYear(),o.getMonth(),o.getDate()+e),Yp(i,r)):t===gh?i=function ZW(s,e){const t=new Date(s);t.setMinutes(0,0,0);const n=(s.getTimezoneOffset()-t.getTimezoneOffset())*Yl;return qt(t,n+e*Kp)}(o,e):t===K_?(i=qt(o,e*Yl),i.getSeconds()>0&&i.setSeconds(0)):t===q_?i=qt(o,1e3*e):t===qp&&(i=qt(o,e)),t!==qp&&i.getMilliseconds()>0&&i.setMilliseconds(0)}return i}function eb(s,e,t){return An(Ge(s),0,e,t)}function bI(s,e,t){const n=Ge(s);return n&&eb(n,e,t).getTime()===n.getTime()?n:An(n,1,e,t)}function fa(s,e){return s&&e?s.getTime()-e.getTime():-1}function Fi(s,e){return s.getTime()-e}function We(s){if(Qt(s)){let e=[];for(let t=0;t<s.length;t++)e.push(We(s[t]));return e}if(s)return Ge(s).getTime()}function tb(s,e){return s&&e?We(s)===We(e):s===e}function wI(s,e,t){return J_(s,e)/Li[t]}function pa(s,e,t,n){const i=Ge(s),o=Ge(e);let r;return r=t===da?i.getMonth()-o.getMonth()+12*(i.getFullYear()-o.getFullYear())+wI(i,new Date(i.getFullYear(),i.getMonth()),Oi)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():t===vo?i.getFullYear()-o.getFullYear()+pa(i,new Date(i.getFullYear(),0),da,1)/12:t===Oi||t===mh?wI(i,o,t):Fi(i,e)/Li[t],r/n}function nb(s,e,t){let n;return n=t===vo?e.getFullYear()-s.getFullYear():t===da?12*nb(s,e,vo)+e.getMonth()-s.getMonth():t===Oi?Math.floor(Fi(e,s)/xo):Math.floor(Fi(e,s)/Li[t]),n}function ln(s,e){let t;return t=ho(e)&&s.parseDate(e)||Ge(e),t}function CI(s,e){if(Qt(e)){const t=[];for(let n=0;n<e.length;n++)t.push(ln(s,e[n]));return t}return ln(s,e)}function SI(s,e){return pe(s.weekStartDay)?s.weekStartDay:e&&e.firstDay?e.firstDay():0}class Xp extends ph{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const e=new Xp(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e}initUserOptions(e){const t=e.categories||[],n=P(e.min),i=P(e.max);if(e.srcCategories=e.categories=t,(n||i)&&t.length){const o=n?Math.floor(e.min):0;let r;r=i?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(o,r)}return e}rangeIndices(){const e=this.options,t=e.categories.length||1,n=pe(e.min)?e.min%1:0;let i;return i=pe(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0),{min:n,max:i}}totalRangeIndices(e){const t=this.options;let i,n=pe(t.min)?t.min:0;if(i=pe(t.max)?t.max:pe(t.min)?n+t.categories.length:this.totalRange().max||1,e){const o=this.totalRange();n=Z(n,0,o.max),i=Z(i,0,o.max)}return{min:n,max:i}}range(){const e=this.options;return{min:pe(e.min)?e.min:0,max:pe(e.max)?e.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}}scaleOptions(){const{min:e,max:t}=this.rangeIndices(),n=this.lineBox();return{scale:(this.options.vertical?n.height():n.width())/(t-e||1)*(this.options.reverse?-1:1),box:n,min:e,max:t}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:e,labels:t}=this;if(t.length>0){const n=this.options.vertical?K:q,i=e[n+1],o=e[n+2],r=t[0],a=yt(t);(r.box[n+1]>o||r.box[n+2]<i)&&(r.options.visible=!1),(a.box[n+1]>o||a.box[n+2]<i)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(e){const{min:t,max:n}=this.rangeIndices(),i=Math.ceil(n);let o=Math.floor(t);const r=[];for(;o<=i;)r.push(o),o+=e;return r}getTickPositions(e){const{vertical:t,reverse:n}=this.options,{scale:i,box:o,min:r}=this.scaleOptions(),a=o[(t?K:q)+(n?2:1)],l=this.tickIndices(e),c=[];for(let u=0;u<l.length;u++)c.push(a+B(i*(l[u]-r),3));return c}getTicks(){const e=this.options,t=this._ticks,n=this.rangeIndices(),i=this.lineBox(),o=i.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==o){const r=e.minorTicks.visible||e.minorGridLines.visible;t._hash=o,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,i),t.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),i):[]}return t}filterOutOfRangePositions(e,t){if(!e.length)return e;const n=this.options.vertical?K:q,i=l=>t[n+1]<=l&&l<=t[n+2],o=e.length-1;let r=0;for(;!i(e[r])&&r<=o;)r++;let a=o;for(;!i(e[a])&&a>=0;)a--;return e.slice(r,a+1)}lineInfo(){const{vertical:e,reverse:t}=this.options,n=this.lineBox(),i=e?n.height():n.width(),o=e?K:q,r=t?-1:1,l=o+(1===r?1:2).toString();return{axis:o,axisOrigin:l,axisDir:r,lineBox:n,lineSize:i,lineStart:n[l]}}lineDir(){const{reverse:e}=this.options;return e?-1:1}getSlot(e,t,n){const i=this.options,{reverse:o,justified:r}=i,{scale:a,box:l,min:c}=this.scaleOptions(),{axis:u,lineStart:h}=this.lineInfo(),d=l.clone(),f=!P(t),p=re(e,0);let g=re(t,p);g=Math.max(g-1,p),g=Math.max(p,g);let y=h+(p-c)*a,x=h+(g+1-c)*a;return f&&r&&(x=y),n&&(y=Z(y,l[u+1],l[u+2]),x=Z(x,l[u+1],l[u+2])),d[u+1]=o?x:y,d[u+2]=o?y:x,d}limitSlot(e){const n=this.options.vertical?K:q,i=this.lineBox(),o=e.clone();return o[n+1]=Z(e[n+1],i[n+1],i[n+2]),o[n+2]=Z(e[n+2],i[n+1],i[n+2]),o}slot(e,t,n){const i=Math.floor(this.options.min||0);let o=e,r=t;return"string"==typeof o?o=this.categoryIndex(o):pe(o)&&(o-=i),"string"==typeof r?r=this.categoryIndex(r):pe(r)&&(r-=i),super.slot(o,r,n)}pointCategoryIndex(e){const{reverse:t,justified:n,vertical:i}=this.options,o=i?K:q,{scale:r,box:a,min:l,max:c}=this.scaleOptions(),h=a[o+1],f=e[o];if(f<h||f>a[o+2])return null;let p=(t?c:l)+(f-h)/r;const g=p%1;return n?p=Math.round(p):0===g&&p>0&&p--,Math.floor(p)}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]}categoryIndex(e){return this.totalIndex(e)-Math.floor(this.options.min||0)}categoryAt(e,t){const n=this.options;return(t?n.srcCategories:n.categories)[e]}categoriesCount(){return(this.options.categories||[]).length}translateRange(e){const t=this.options,n=this.lineBox(),i=t.vertical?n.height():n.width(),o=t.categories.length,a=B(e/(i/o),10);return{min:a,max:o+a}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),i=this.totalRangeIndices(),r=this.scaleToDelta(e,i.max-i.min),c=i.min+n*r;let u=i.max-(1-n)*r;return u-c<.1&&(u=c+.1),{min:c,max:u}}zoomRange(e,t){const{min:n,max:i}=this.totalRange(),o=this.scaleRange(e,t);return{min:Z(o.min,n,i),max:Z(o.max,n,i)}}labelsCount(){const e=this.labelsRange();return e.max-e.min}labelsRange(){const e=this.options,{justified:t,labels:n}=e;let{min:i,max:o}=this.totalRangeIndices(!0);const r=Math.floor(i);let a;return t?(i=Math.ceil(i),o=Math.floor(o)):(i=Math.floor(i),o=Math.ceil(o)),a=i>n.skip?n.skip+n.step*Math.ceil((i-n.skip)/n.step):n.skip,{min:a-r,max:(e.categories.length?o+(t?1:0):0)-r}}createAxisLabel(e,t,n){const i=this.options,o=i.dataItems?i.dataItems[e]:null,r=re(i.categories[e],"");n.dataItem=o;const a=this.axisLabelText(r,t,n);return new ha(r,a,e,o,t)}shouldRenderNote(e){const t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)}noteSlot(e){const n=e-Math.floor(this.options.min||0);return this.getSlot(n)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:e,box:t}=this;if(e&&e.length){const n=this.options.vertical?K:q,i=t[n+1],o=t[n+2];for(let r=0;r<e.length;r++){const a=e[r];a.box&&(o<a.box[n+1]||a.box[n+2]<i)&&a.hide()}}}pan(e){const t=this.totalRangeIndices(!0),{scale:n}=this.scaleOptions(),i=B(e/n,10),o=this.totalRange();return this.limitRange(t.min+i,t.max+i,0,o.max,i)}pointsRange(e,t){const{reverse:n,vertical:i}=this.options,o=i?K:q,r=this.totalRangeIndices(!0),{scale:a,box:l}=this.scaleOptions(),c=l[o+(n?2:1)],d=r.min+(e[o]-c)/a,f=r.min+(t[o]-c)/a,p=Math.min(d,f),g=Math.max(d,f);if(g-p>=.01)return{min:p,max:g}}valueRange(){return this.range()}totalIndex(e){const t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function JW(s,e){if(s instanceof Date){const t=e.length;for(let n=0;n<t;n++)if(tb(e[n],s))return n;return-1}return e.indexOf(s)}(e,t.srcCategories)}currentRangeIndices(){const e=this.options;let n,t=0;return pe(e.min)&&(t=Math.floor(e.min)),n=pe(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1,{min:t,max:n}}mapCategories(){if(!this._categoriesMap){const e=this._categoriesMap=new QM,t=this.options.srcCategories;for(let n=0;n<t.length;n++)e.set(t[n],n)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}O(Xp,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:gt},labels:{zIndex:1},justified:!1,_deferLabels:!0});const _o=Xp,TI={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},bo=[qp,q_,K_,gh,Oi,mh,da,vo],Zp="fit";function Qp(s){let e=s._range;return e||(e=s._range=w_(s),e.min=Ge(e.min),e.max=Ge(e.max)),e}class t9{constructor(e){this.options=e}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class sb{constructor(e,t,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;const{roundToBaseUnit:i,justified:o}=n;this.start=An(e,0,n.baseUnit,n.weekStartDay);const r=this.roundToTotalStep(t),a=!o&&tb(t,r)&&!n.justifyEnd;this.end=this.roundToTotalStep(t,!o,a?1:0);const l=n.min||e;this.valueStart=this.roundToTotalStep(l),this.displayStart=i?this.valueStart:l;const c=n.max;if(c){const u=!o&&tb(c,this.roundToTotalStep(c))?-1:0;this.valueEnd=this.roundToTotalStep(c,!1,u),this.displayEnd=i?this.roundToTotalStep(c,!o):n.max}else this.valueEnd=r,this.displayEnd=i||a?this.end:t;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const e=this.options,{baseUnit:t,baseUnitStep:n}=e,i=pa(this.displayStart,this.valueStart,t,n),o=pa(this.displayEnd,this.valueStart,t,n);this._indices={min:i,max:o}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(e){const t=this.options;return Math.floor(pa(e,this.valueStart,t.baseUnit,t.baseUnitStep))}totalIndex(e){const t=this.options;return Math.floor(pa(e,this.start,t.baseUnit,t.baseUnitStep))}dateIndex(e){const t=this.options;return pa(e,this.valueStart,t.baseUnit,t.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let e=this._values;if(!e){const t=this.options,n=this.valueRange();this._values=e=[];for(let i=n.min;i<=n.max;)e.push(i),i=An(i,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e}dateAt(e,t){const n=this.options;return An(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)}roundToTotalStep(e,t,n){const{baseUnit:i,baseUnitStep:o,weekStartDay:r}=this.options,a=this.start,l=pa(e,a,i,o);let c=t?Math.ceil(l):Math.floor(l);return n&&(c+=n),An(a,c*o,i,r)}}function MI(s,e,t){const n=Qp(s.categories),i=(s.max||n.max)-(s.min||n.min),{autoBaseUnitSteps:o,maxDateGroups:r}=s,a=s.baseUnit===Zp;let d,f,p,l=e?bo.indexOf(e):0,c=a?bo[l++]:s.baseUnit,u=i/Li[c],h=u;for(;!f||u>=r;){d=d||o[c].slice(0);do{p=d.shift()}while(p&&e===c&&p<t);if(p)f=p,u=h/f;else{if(c===yt(bo)){f=Math.ceil(h/r);break}if(!a){u>r&&(f=Math.ceil(h/r));break}c=bo[l++]||yt(bo),h=i/Li[c],d=null}}s.baseUnitStep=f,s.baseUnit=c}class Jp extends _o{clone(){const e=new Jp(Object.assign({},this.options),this.chartService);return e.createLabels(),e}categoriesHash(){const e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e}initUserOptions(e){return e}initFields(){super.initFields();const e=this.chartService,t=e.intl;let n=this.options,i=n.categories||[];if(i._parsed||(i=CI(t,i),i._parsed=!0),n=S({roundToBaseUnit:!0},n,{categories:i,min:ln(t,n.min),max:ln(t,n.max),weekStartDay:SI(n,t)}),e.panning&&e.isPannable(n.vertical?K:q)&&(n.roundToBaseUnit=!1),n.userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,this.options=n,n.srcCategories=i,i.length>0){const o=Qp(i),r=n.maxDivisions;if(this.dataRange=new sb(o.min,o.max,function s9(s){const e=(s.baseUnit||"").toLowerCase();return e!==Zp&&!ye(e,bo)&&function n9(s){const e=s.categories,t=P(e)?e.length:0;let i,o,n=mt;for(let r=0;r<t;r++){const a=e[r];if(a&&i){const l=J_(a,i);l>0&&(n=Math.min(n,l),o=n>=Q_?vo:n>=Z_-3*xo?da:n>=X_?mh:n>=xo?Oi:n>=Kp?gh:n>=Yl?K_:q_)}i=a}s.baseUnit=o||Oi}(s),(e===Zp||"auto"===s.baseUnitStep)&&MI(s),s}(n)),r){const a=this.dataRange.displayRange(),l=Object.assign({},n,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:r}),c=this.dataRange.options;MI(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new sb(o.min,o.max,l)}else this.divisionRange=this.dataRange}else n.baseUnit=n.baseUnit||Oi,this.dataRange=this.divisionRange=new t9(n);this.rangeLabels=[]}tickIndices(e){const{dataRange:t,divisionRange:n}=this,i=n.valuesCount();if(!this.options.maxDivisions||!i)return super.tickIndices(e);const o=[];let r=n.values(),a=0;this.options.justified||(r=r.concat(n.dateAt(i)),a=.5);for(let l=0;l<r.length;l++)if(o.push(t.dateIndex(r[l])+a),1!==e&&l>=1){const c=o.length-1;o.splice(l,0,o[c-1]+(o[c]-o[c-1])*e)}return o}shouldRenderNote(e){const t=this.range(),n=this.options.categories||[];return fa(e,t.min)>=0&&fa(e,t.max)<=0&&n.length}parseNoteValue(e){return ln(this.chartService.intl,e)}noteSlot(e){return this.getSlot(e)}translateRange(e){const t=this.options,{baseUnit:n,weekStartDay:i,vertical:o}=t,r=this.lineBox(),a=o?r.height():r.width();let l=this.range();const u=B(e/(a/(l.max-l.min)),10);if(l.min&&l.max){const h=qt(t.min||l.min,u),d=qt(t.max||l.max,u);l={min:An(h,0,n,i),max:An(d,0,n,i)}}return l}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(e){if(this.isEmpty())return null;const t=this.options,n=this.lineBox(),i=t.vertical?n.height():n.width(),{min:o,max:r}=this.dataRange.displayRange(),a=this.dataRange.total(),c=B(e/(i/(r-o)),10)*(t.reverse?-1:1),u=qt(o,c),h=qt(r,c),d=this.limitRange(We(u),We(h),We(a.min),We(a.max),c);return d?(d.min=Ge(d.min),d.max=Ge(d.max),d.baseUnit=t.baseUnit,d.baseUnitStep=t.baseUnitStep||1,d.userSetBaseUnit=t.userSetBaseUnit,d.userSetBaseUnitStep=t.userSetBaseUnitStep,d):void 0}pointsRange(e,t){if(this.isEmpty())return null;const n=super.pointsRange(e,t),i=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=Fi(i.max,i.min)/(o.max-o.min),a=this.options;return{min:qt(i.min,n.min*r),max:qt(i.min,n.max*r),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(e,t){if(this.isEmpty())return{};const n=this.options,i=n.userSetBaseUnit===Zp,o=this.dataRange.total(),{min:r,max:a}=this.dataRange.displayRange(),l=Math.abs(this.pointOffset(t)),u=this.scaleToDelta(e,a-r),h=Math.round(l*u),d=Math.round((1-l)*u);let{baseUnit:f}=this.dataRange.options,p=new Date(r.getTime()+h),g=new Date(a.getTime()-d);if(i){const{autoBaseUnitSteps:y,maxDateGroups:x}=n,w=yt(y[f])*x*Li[f],C=Fi(a,r),A=Fi(g,p);let U,J,L=bo.indexOf(f);if(A<Li[f]&&f!==qp)f=bo[L-1],U=yt(y[f]),J=(C-(x-1)*U*Li[f])/2,p=qt(r,J),g=qt(a,-J);else if(A>w&&f!==vo){let xe=0;do{L++,f=bo[L],xe=0,J=2*Li[f];do{U=y[f][xe],xe++}while(xe<y[f].length&&J*U<C)}while(f!==vo&&J*U<C);J=(J*U-C)/2,J>0&&(p=qt(r,-J),g=qt(a,J),p=qt(p,Z(g,o.min,o.max)-g),g=qt(g,Z(p,o.min,o.max)-p))}}return p&&g&&Fi(g,p)>0?{min:p,max:g,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0}zoomRange(e,t){const n=this.dataRange.total(),i=this.scaleRange(e,t);return i&&(i.min<n.min&&(i.min=n.min),i.max>n.max&&(i.max=n.max)),i}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:e,rangeLabels:t}=this;if(0===t.length)return;const n=this.lineBox(),i=e.vertical,o=e.rangeLabels.mirror||e.labels.mirror,r=t[0];if(r){const l=i?n.y1-r.box.height()/2:n.x1;this.positionLabel(r,o,l)}const a=t[1];if(a){const l=i?n.y2-a.box.height()/2:n.x2;this.positionLabel(a,o,l)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:e,labels:t}=this;if(0===e.length)return;function n(r,a){return!(a.options.visible&&!a.box.overlaps(r.box)||(a.options.visible=!1,0))}const i=e[0];if(i&&i.options.visible)for(let r=0;r<t.length&&n(i,t[r]);r++);const o=e[1];if(o&&o.options.visible)for(let r=t.length-1;r>0&&n(o,t[r]);--r);}contentBox(){const e=super.contentBox(),t=this.rangeLabels;for(let n=0;n<t.length;n++){const i=t[n];i.options.visible&&e.wrap(i.box)}return e}createAxisLabel(e,t,n={}){const i=this.options,o=i.dataItems&&!i.maxDivisions?i.dataItems[e]:null,r=this.divisionRange.dateAt(e);t.format=t.format||t.dateFormats[this.divisionRange.options.baseUnit],n.dataItem=o;const l=this.axisLabelText(r,t,n);if(l)return new ha(r,l,e,o,t)}createRangeLabels(){const{displayStart:e,displayEnd:t}=this.divisionRange,n=this.options,i=Object.assign({},n.labels,n.rangeLabels,{align:ue,zIndex:n.zIndex});if(!0!==i.visible)return;this.normalizeLabelRotation(i),i.alignRotation=ue,"auto"===i.rotation&&(i.rotation=0,n.autoRotateRangeLabels=!0),i.format=i.format||i.dateFormats[this.divisionRange.options.baseUnit];const r=(c,u,h)=>{if(h){const d=new ha(u,h,c,null,i);this.append(d),this.rangeLabels.push(d)}};r(0,e,this.axisLabelText(e,i,{index:0,count:2})),r(1,t,this.axisLabelText(t,i,{index:1,count:2}))}autoRotateRangeLabels(){const e=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==e.length)return;const t=(i,o,r)=>{const a=2*Math.abs(o[r+1]-o[r]),l=this.autoRotateLabelAngle(i.box,a);0!==l&&(i.options.rotation=l,i.reflow(new V))},n=this.getMajorTickPositions();t(e[0],n,0),t(e[1],n,n.length-2)}categoryIndex(e){return this.dataRange.valueIndex(e)}slot(e,t,n){const i=this.dataRange;let o=e,r=t;o instanceof Date&&(o=i.dateIndex(o)),r instanceof Date&&(r=i.dateIndex(r));const a=this.getSlot(o,r,n);if(a)return a.toRect()}getSlot(e,t,n){let i=e,o=t;return typeof i===u_&&(i=this.categoryIndex(i)),typeof o===u_&&(o=this.categoryIndex(o)),super.getSlot(i,o,n)}valueRange(){const t=Qp(this.options.srcCategories);return{min:Ge(t.min),max:Ge(t.max)}}categoryAt(e,t){return this.dataRange.dateAt(e,t)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)}totalIndex(e){return this.dataRange.totalIndex(e)}currentRangeIndices(){const e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}}totalRange(){return this.dataRange.total()}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const e=this.options,t=Qp(e.srcCategories);return new sb(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:e.justified})).displayRange()}}O(Jp,{type:cr,labels:{dateFormats:TI},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const yh=Jp;function kI(s,e){return B(Math.floor(s/e)*e,10)}function eg(s,e){return B(Math.ceil(s/e)*e,10)}function tg(s){return Math.max(Math.min(s,3e5),-3e5)}const ib=Math.pow(10,-9);class ng extends ph{constructor(e,t,n,i){super(Object.assign({},n,{seriesMin:e,seriesMax:t}),i)}initUserOptions(e){const t=function r9(s,e,t){const n=t.narrowRange;let i=function i9(s,e,t){if(!s&&!e)return 0;let n;if(s>=0&&e>=0){const i=s===e?0:s;let o=(e-i)/e;if(!1===t||!t&&o>.2)return 0;n=Math.max(0,i-(e-i)/2)}else n=s;return n}(s,e,n),o=function o9(s,e,t){if(!s&&!e)return 1;let n;if(s<=0&&e<=0){const i=s===e?0:e;let o=Math.abs((i-s)/i);if(!1===t||!t&&o>.2)return 0;n=Math.min(0,i-(s-i)/2)}else n=e;return n}(s,e,n);const r=ah(i,o),a={majorUnit:r};return!1!==t.roundToMajorUnit&&(i<0&&II(i,r,1/3)&&(i-=r),o>0&&II(o,r,1/3)&&(o+=r)),a.min=kI(i,r),a.max=eg(o,r),a}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function a9(s,e){return{min:P(e.min)?Math.min(s.min,e.min):s.min,max:P(e.max)?Math.max(s.max,e.max):s.max,majorUnit:s.majorUnit}}(t,e),function c9(s,e){let n,i,t=e;if(e){(function l9(s,e){for(let t=0;t<e.length;t++){const n=e[t];null===s[n]&&(s[n]=void 0)}})(e,["min","max"]),n=P(e.min),i=P(e.max);const r=n||i;r&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(s.min=kI(s.min,e.majorUnit),s.max=eg(s.max,e.majorUnit)):r&&(t=S(s,e),s.majorUnit=ah(t.min,t.max))}s.minorUnit=(t.majorUnit||s.majorUnit)/5;const o=S(s,t);return o.min>=o.max&&(n&&!i?o.max=o.min+o.majorUnit:!n&&i&&(o.min=o.max-o.majorUnit)),o}(t,e)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new ng(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){if(0===e)return 1;const t=this.options;return Math.floor(B((t.max-t.min)/e,3))+1}getTickPositions(e,t){const n=this.options,{axisDir:i,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo(),u=e*(a/(n.max-n.min)),h=this.getDivisions(e),d=[];let f=r[o],p=0;t&&(p=t/e);for(let g=0;g<h;g++)g%p!=0&&d.push(B(f,3)),f+=u*i;return d}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,n=!1){const i=this.options,{axis:o,axisDir:r,lineBox:a,lineSize:l,lineStart:c}=this.lineInfo(),u=r*(l/(i.max-i.min));let h=re(e,t||0),d=re(t,e||0);n&&(h=Z(h,i.min,i.max),d=Z(d,i.min,i.max));const f=Math.min(h,d)-i.min,p=Math.max(h,d)-i.min,g=new V(a.x1,a.y1,a.x1,a.y1);return g[o+1]=tg(c+u*(r>0?f:p)),g[o+2]=tg(c+u*(r>0?p:f)),g}getValue(e){const t=this.options,n=Number(t.max),i=Number(t.min),o=this.pointOffset(e);return o<0||o>1?null:B(i+o*(n-i),10)}translateRange(e){const t=this.options,{vertical:n,reverse:i,max:o,min:r}=t,{lineSize:a}=this.lineInfo();let u=B(e/(a/(o-r)),10);return(n||i)&&!(n&&i)&&(u=-u),{min:r+u,max:o+u,offset:u}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,n){const i=this.options,o=B(i.min+e*i.majorUnit,10),r=this.axisLabelText(o,t,n);return new ha(o,r,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const n=this.getValue(e),i=this.getValue(t),o=Math.min(n,i),r=Math.max(n,i);if(this.isValidRange(o,r))return{min:o,max:r}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),o=this.scaleToDelta(e,this.options.max-this.options.min),a=(1-n)*o,l=B(this.options.min+n*o,10);let c=B(this.options.max-a,10);return c-l<ib&&(c=l+ib),{min:l,max:c}}zoomRange(e,t){const{totalMin:n,totalMax:i}=this,o=this.scaleRange(e,t);return{min:Z(o.min,n,i),max:Z(o.max,n,i),narrowRange:!1}}isValidRange(e,t){return t-e>ib}}function II(s,e,t){const n=B(Math.abs(s%e),10);return 0===n||n>e*(1-t)}O(ng,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:gt},labels:{format:"#.####################"},zIndex:1});const ks=ng;class sg extends ph{constructor(e,t,n,i){const o=Ge(e),r=Ge(t),a=i.intl;let l=n||{};l=S(l||{},{min:ln(a,l.min),max:ln(a,l.max),axisCrossingValue:CI(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:SI(l,a)}),l=function h9(s,e,t){const n=t.min||s,i=t.max||e,o=t.baseUnit||(i&&n?function u9(s){let e=gh;return s>=Q_?e=vo:s>=Z_?e=da:s>=X_?e=mh:s>=xo&&(e=Oi),e}(J_(i,n)):gh),r=Li[o],a=t.weekStartDay||0,l=eb(We(n)-1,o,a)||Ge(i),c=bI(We(i)+1,o,a),h=(t.majorUnit?t.majorUnit:void 0)||eg(ah(l.getTime(),c.getTime()),r)/r,d=nb(l,c,o),p=eg(d,h)-d,g=Math.floor(p/2),y=p-g;return t.baseUnit||delete t.baseUnit,t.baseUnit=t.baseUnit||o,t.min=t.min||An(l,-g,o,a),t.max=t.max||An(c,y,o,a),t.minorUnit=t.minorUnit||h/5,t.majorUnit=h,t}(o,r,l),super(l,i),this.intlService=a,this.seriesMin=o,this.seriesMax=r;const c=l.weekStartDay||0;this.totalMin=We(eb(We(o)-1,l.baseUnit,c)),this.totalMax=We(bI(We(r)+1,l.baseUnit,c))}clone(){return new sg(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){const t=this.options;return Math.floor(nb(t.min,t.max,t.baseUnit)/e+1)}getTickPositions(e){const t=this.options,{axisDir:n,lineSize:i,lineStart:o}=this.lineInfo(),r=this.getDivisions(e),l=i/Fi(t.max,t.min),c=t.weekStartDay||0,u=[o];for(let h=1;h<r;h++){const f=o+Fi(An(t.min,h*e,t.baseUnit,c),t.min)*l*n;u.push(B(f,3))}return u}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,n){return ks.prototype.getSlot.call(this,ln(this.intlService,e),ln(this.intlService,t),n)}getValue(e){const t=ks.prototype.getValue.call(this,e);return null!==t?Ge(t):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,n){const i=this.options,o=e*i.majorUnit;let a=i.min;o>0&&(a=An(a,o,i.baseUnit,i.weekStartDay||0)),t.format=t.format||t.dateFormats[i.baseUnit];const c=this.axisLabelText(a,t,n);return new ha(a,c,e,null,t)}translateRange(e){const t=this.options,n=this.lineBox(),{vertical:i,reverse:o}=t,r=i?n.height():n.width(),a=this.range(),l=r/Fi(a.max,a.min);let c=B(e/l,10);return(i||o)&&(!i||!o)&&(c=-c),{min:qt(t.min,c),max:qt(t.max,c),offset:c}}shouldRenderNote(e){const t=this.range();return fa(e,t.min)>=0&&fa(e,t.max)<=0}pan(e){const t=this.translateRange(e,!0),n=this.limitRange(We(t.min),We(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:Ge(n.min),max:Ge(n.max)}}pointsRange(e,t){const n=this.getValue(e),i=this.getValue(t),o=Math.min(n,i),r=Math.max(n,i);return{min:Ge(o),max:Ge(r)}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),o=this.scaleToDelta(e,this.options.max-this.options.min),r=n*o,a=(1-n)*o,l=Ge(We(this.options.min)+r);let c=Ge(We(this.options.max)-a);return c-l<1e3&&(c=Ge(We(l)+1e3)),{min:l,max:c}}zoomRange(e,t){const n=this.scaleRange(e,t);return{min:Ge(Z(We(n.min),this.totalMin,this.totalMax)),max:Ge(Z(We(n.max),this.totalMin,this.totalMax))}}}O(sg,{type:cr,majorGridLines:{visible:!0,width:1,color:gt},labels:{dateFormats:TI}});const RI=sg;class ig extends ph{constructor(e,t,n,i){const o=S({majorUnit:10,min:e,max:t},n),r=o.majorUnit,a=function p9(s,e){const t=B(ui(s,e),10)%1;let n;return n=s<=0?e:0!==t&&(t<.3||t>.9)?Math.pow(e,ui(s,e)+.2):Math.pow(e,Math.ceil(ui(s,e))),n}(t,r),l=function f9(s,e,t){const n=t.majorUnit;let i=s;return s<=0?i=e<=1?Math.pow(n,-2):1:t.narrowRange||(i=Math.pow(n,Math.floor(ui(s,n)))),i}(e,t,o),c=function d9(s,e,t,n){let{min:i,max:o}=t;return P(t.axisCrossingValue)&&t.axisCrossingValue<=0&&ob(),P(n.max)?n.max<=0&&ob():o=e,P(n.min)?n.min<=0&&ob():i=s,{min:i,max:o}}(l,a,o,n);o.max=c.max,o.min=c.min,o.minorUnit=n.minorUnit||B(r-1,10),super(o,i),this.totalMin=P(n.min)?Math.min(l,n.min):l,this.totalMax=P(n.max)?Math.max(a,n.max):a,this.logMin=B(ui(c.min,r),10),this.logMax=B(ui(c.max,r),10),this.seriesMin=e,this.seriesMax=t,this.createLabels()}clone(){return new ig(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(e,t,n){const{options:i,logMin:o,logMax:r}=this,{majorUnit:a,min:l,max:c}=i,{axis:u,axisDir:h,lineBox:d,lineSize:f,lineStart:p}=this.lineInfo(),g=h*(f/(r-o));let y=re(e,t||1),x=re(t,e||1);if(y<=0||x<=0)return null;n&&(y=Z(y,l,c),x=Z(x,l,c)),y=ui(y,a),x=ui(x,a);const w=Math.min(y,x)-o,C=Math.max(y,x)-o,A=new V(d.x1,d.y1,d.x1,d.y1);return A[u+1]=tg(p+g*(h>0?w:C)),A[u+2]=tg(p+g*(h>0?C:w)),A}getValue(e){const{options:t,logMin:n,logMax:i}=this,{majorUnit:o}=t,{axis:r,axisDir:a,lineStart:l,lineSize:c}=this.lineInfo(),h=a*(e[r]-l);return h<0||h>c?null:B(Math.pow(o,n+h*((i-n)/c)),10)}range(){const e=this.options;return{min:e.min,max:e.max}}translateRange(e){const{options:t,logMin:n,logMax:i}=this,{reverse:o,vertical:r,majorUnit:a}=t,l=this.lineBox(),u=(r?l.height():l.width())/(i-n);let h=B(e/u,10);return(r||o)&&!(r&&o)&&(h=-h),{min:Math.pow(a,n+h),max:Math.pow(a,i+h),offset:h}}labelsCount(){const e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1}getMajorTickPositions(){const e=[];return this.traverseMajorTicksPositions(t=>{e.push(t)},{step:1,skip:0}),e}createTicks(e){const t=this.options,{majorTicks:n,minorTicks:i,vertical:o}=t,r=t.labels.mirror,a=this.lineBox(),c={vertical:o};function u(h,d){c.tickX=r?a.x2:a.x2-d.size,c.tickY=r?a.y1-d.size:a.y1,c.position=h,e.append(vI(c,d))}return n.visible&&this.traverseMajorTicksPositions(u,n),i.visible&&this.traverseMinorTicksPositions(u,i),[]}createGridLines(e){const t=this.options,{minorGridLines:n,majorGridLines:i,vertical:o}=t,r=e.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},l=[],c=this.gridLinesVisual();function u(h,d){ye(h,l)||(a.position=h,c.append(xI(a,d)),l.push(h))}return i.visible&&this.traverseMajorTicksPositions(u,i),n.visible&&this.traverseMinorTicksPositions(u,n),c.children}traverseMajorTicksPositions(e,t){const{lineStart:n,step:i}=this.lineInfo(),{logMin:o,logMax:r}=this;for(let a=Math.ceil(o)+t.skip;a<=r;a+=t.step)e(B(n+i*(a-o),10),t)}traverseMinorTicksPositions(e,t){const{min:n,max:i,minorUnit:o,majorUnit:r}=this.options,{lineStart:a,step:l}=this.lineInfo(),{logMin:c,logMax:u}=this;for(let d=Math.floor(c);d<u;d++){const f=this._minorIntervalOptions(d);for(let p=t.skip;p<o;p+=t.step){const g=f.value+p*f.minorStep;if(g>i)break;g>=n&&e(B(a+l*(ui(g,r)-c),10),t)}}}createAxisLabel(e,t,n){const i=Math.ceil(this.logMin+e),o=Math.pow(this.options.majorUnit,i),r=this.axisLabelText(o,t,n);return new ha(o,r,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const n=this.getValue(e),i=this.getValue(t);return{min:Math.min(n,i),max:Math.max(n,i)}}scaleRange(e,t){const{majorUnit:n}=this.options,i=ui(this.options.min,n),o=ui(this.options.max,n),r=Math.abs(this.pointOffset(t)),l=this.scaleToDelta(e,o-i),c=Math.pow(n,i+r*l);let u=Math.pow(n,o-(1-r)*l);return u-c<1e-6&&(u=c+1e-6),{min:c,max:u}}zoomRange(e,t){const n=this.scaleRange(e,t),{totalMin:i,totalMax:o}=this;return{min:Z(n.min,i,o),max:Z(n.max,i,o)}}_minorIntervalOptions(e){const{minorUnit:t,majorUnit:n}=this.options,i=Math.pow(n,e);return{value:i,minorStep:(Math.pow(n,e+1)-i)/t}}lineInfo(){const e=super.lineInfo();return e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin)),e}}function ob(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function ui(s,e){return Math.log(s)/Math.log(e)}O(ig,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:gt},zIndex:1,_deferLabels:!0});const og=ig,LI={createGridLines:function(s){const e=this.options,t=Math.abs(this.box.center().y-s.lineBox().y1);let o,r,n=[],i=!1;return e.majorGridLines.visible&&(o=this.majorGridLineAngles(s),i=!0,n=this.renderMajorGridLines(o,t,e.majorGridLines)),e.minorGridLines.visible&&(r=this.minorGridLineAngles(s,i),ra(n,this.renderMinorGridLines(r,t,e.minorGridLines,s,i))),n},renderMajorGridLines:function(s,e,t){return this.renderGridLines(s,e,t)},renderMinorGridLines:function(s,e,t,n,i){const o=this.radiusCallback&&this.radiusCallback(e,n,i);return this.renderGridLines(s,e,t,o)},renderGridLines:function(s,e,t,n){const i={stroke:{width:t.width,color:t.color,dashType:t.dashType}},o=this.box.center(),r=new Ms([o.x,o.y],e),a=this.gridLinesVisual();for(let l=0;l<s.length;l++){const c=new ee(i);n&&(r.radius=n(s[l])),c.moveTo(r.center).lineTo(r.pointAt(s[l]+180)),a.append(c)}return a.children},gridLineAngles:function(s,e,t,n,i){const o=this.intervals(e,t,n,i),r=s.options,a=r.visible&&!1!==(r.line||{}).visible;return ek(o,l=>{const c=this.intervalAngle(l);if(!a||90!==c)return c})}};class rb extends _o{range(){return{min:0,max:this.options.categories.length}}reflow(e){this.box=e,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:e,options:{labels:t}}=this,n=t.skip||0,i=t.step||1,o=new V;for(let r=0;r<e.length;r++){e[r].reflow(o);const a=e[r].box;e[r].reflow(this.getSlot(n+r*i).adjacentBox(0,a.width(),a.height()))}}intervals(e,t,n,i=!1){const o=this.options,a=o.categories.length/e||1,l=360/a,u=n||1,h=[];let d=0;for(let f=t||0;f<a;f+=u)d=o.reverse?360-f*l:f*l,d=B(d,3)%360,i&&ye(d,i)||h.push(d);return h}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(e){return(360+e+this.options.startAngle)%360}majorAngles(){return ek(this.majorIntervals(),e=>this.intervalAngle(e))}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)}minorGridLineAngles(e,t){const{minorGridLines:n,majorGridLines:i}=this.options,o=t?this.intervals(1,i.skip,i.step):null;return this.gridLineAngles(e,.5,n.skip,n.step,o)}radiusCallback(e,t,n){if(t.options.type!==lr){const i=It(360/(2*this.options.categories.length)),o=Math.cos(i)*e,r=this.majorAngles();return function(l){return!n&&ye(l,r)?e:o}}}createPlotBands(){const e=this.options.plotBands||[],t=this._plotbandGroup=new Ze({zIndex:-1});for(let n=0;n<e.length;n++){const i=e[n],o=this.plotBandSlot(i),r=this.getSlot(i.from),a=i.from-Math.floor(i.from);o.startAngle+=a*r.angle;const l=Math.ceil(i.to)-i.to;o.angle-=(l+a)*r.angle;const c=zp.current.createRing(o,{fill:{color:i.color,opacity:i.opacity},stroke:{opacity:i.opacity}});t.append(c)}this.appendVisual(t)}plotBandSlot(e){return this.getSlot(e.from,e.to-1)}getSlot(e,t){const n=this.options,i=n.justified,o=this.box,r=this.majorAngles(),a=r.length,l=360/a;let c=e;n.reverse&&!i&&(c=(c+1)%a),c=Z(Math.floor(c),0,a-1);let u=r[c];i&&(u-=l/2,u<0&&(u+=360));const f=l*(Z(Math.ceil(t||c),c,a-1)-c+1);return new Pp(o.center(),0,o.height()/2,u,f)}slot(e,t){const n=this.getSlot(e,t),i=n.startAngle+180;return new pr([n.center.x,n.center.y],{startAngle:i,endAngle:i+n.angle,radiusX:n.radius,radiusY:n.radius})}pointCategoryIndex(e){const t=this.options.categories.length;let n=null;for(let i=0;i<t;i++)if(this.getSlot(i).containsPoint(e)){n=i;break}return n}}O(rb,{startAngle:90,labels:{margin:Be(10)},majorGridLines:{visible:!0},justified:!0}),S(rb.prototype,LI);const ab=rb;class lb extends ph{constructor(e,t){super(e,t);const n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2}getDivisions(e){return ks.prototype.getDivisions.call(this,e)-1}reflow(e){this.box=e,this.reflowLabels()}reflowLabels(){const{options:e,labels:t,options:{labels:n}}=this,i=n.skip||0,o=n.step||1,r=new V,a=this.intervals(e.majorUnit,i,o);for(let l=0;l<t.length;l++){t[l].reflow(r);const c=t[l].box;t[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}}lineBox(){return this.box}intervals(e,t,n,i=!1){const o=this.options.min,r=this.getDivisions(e),a=[],c=n||1;for(let u=t||0;u<r;u+=c){const h=(360+o+u*e)%360;i&&ye(h,i)||a.push(h)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(e){return(540-e-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)}minorGridLineAngles(e,t){const n=this.options,{minorGridLines:i,majorGridLines:o}=n,r=t?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(e,n.minorUnit,i.skip,i.step,r)}plotBandSlot(e){return this.getSlot(e.from,e.to)}getSlot(e,t){const{options:n,box:i}=this,o=n.startAngle;let r=Z(e,n.min,n.max),a=Z(t||r,r,n.max);if(n.reverse&&(r*=-1,a*=-1),r=(540-r-o)%360,a=(540-a-o)%360,a<r){const l=r;r=a,a=l}return new Pp(i.center(),0,i.height()/2,r,a-r)}slot(e,t=e){const n=this.options,i=360-n.startAngle,o=this.getSlot(e,t),r=Math.min(e,t),a=Math.max(e,t);let l,c;return n.reverse?(l=r,c=a):(l=360-a,c=360-r),l=(l+i)%360,c=(c+i)%360,new pr([o.center.x,o.center.y],{startAngle:l,endAngle:c,radiusX:o.radius,radiusY:o.radius})}getValue(e){const t=this.options,n=this.box.center();let r=Math.round(hr(Math.atan2(e.y-n.y,e.x-n.x))),a=t.startAngle;return t.reverse||(r*=-1,a*=-1),(r+a+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}O(lb,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:Be(10)},majorGridLines:{color:gt,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),S(lb.prototype,LI,{createPlotBands:ab.prototype.createPlotBands,majorAngles:ab.prototype.majorAngles,range:ks.prototype.range,labelsCount:ks.prototype.labelsCount,createAxisLabel:ks.prototype.createAxisLabel});const g9=lb,m9={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:s},plotBands:e=[]}=this.options,t=this.plotArea.polarAxis,n=t.majorAngles(),i=t.box.center(),o=this._plotbandGroup=new Ze({zIndex:-1});for(let r=0;r<e.length;r++){const a=e[r],l={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},c=this.getSlot(a.from,a.to,!0),u=new Pp(i,i.y-c.y2,i.y-c.y1,0,360);let h;h=s===lr?zp.current.createRing(u,l):ee.fromPoints(this.plotBandPoints(u,n),l).close(),o.append(h)}this.appendVisual(o)},plotBandPoints:function(s,e){const t=[],n=[],i=[s.center.x,s.center.y],o=new Ms(i,s.innerRadius),r=new Ms(i,s.radius);for(let a=0;a<e.length;a++)t.push(o.pointAt(e[a]+180)),n.push(r.pointAt(e[a]+180));return t.reverse(),t.push(t[0]),n.push(n[0]),n.concat(t)},createGridLines:function(s){const e=this.options,t=this.radarMajorGridLinePositions(),n=s.majorAngles(),i=s.box.center();let o=[];if(e.majorGridLines.visible&&(o=this.renderGridLines(i,t,n,e.majorGridLines)),e.minorGridLines.visible){const r=this.radarMinorGridLinePositions();ra(o,this.renderGridLines(i,r,n,e.minorGridLines))}return o},renderGridLines:function(s,e,t,n){const i={stroke:{width:n.width,color:n.color,dashType:n.dashType}},{skip:o=0,step:r=0}=n,a=this.gridLinesVisual();for(let l=o;l<e.length;l+=r){const c=s.y-e[l];if(c>0){const u=new Ms([s.x,s.y],c);if(n.type===lr)a.append(new yo(u,i));else{const h=new ee(i);for(let d=0;d<t.length;d++)h.lineTo(u.pointAt(t[d]+180));h.close(),a.append(h)}}}return a.children},getValue:function(s){const e=this.lineBox(),t=this.plotArea.polarAxis,n=t.majorAngles(),i=t.box.center(),o=s.distanceTo(i);let r=o;if(this.options.majorGridLines.type!==lr&&n.length>1){const c=(hr(Math.atan2(s.y-i.y,s.x-i.x))+540)%360;n.sort(function(p,g){return rg(p,c)-rg(g,c)});const u=rg(n[0],n[1])/2,h=rg(c,n[0]),d=90-u;r=o*(Math.sin(It(180-h-d))/Math.sin(It(d)))}return this.axisType().prototype.getValue.call(this,new ne(e.x1,e.y2-r))}};function rg(s,e){return 180-Math.abs(Math.abs(s-e)-180)}const FI=m9;class BI extends ks{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const e=this.options;let t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)}axisType(){return ks}}S(BI.prototype,FI);const y9=BI;class VI extends og{radarMajorGridLinePositions(){const e=[];return this.traverseMajorTicksPositions(function(t){e.push(t)},this.options.majorGridLines),e}radarMinorGridLinePositions(){const e=[];return this.traverseMinorTicksPositions(function(t){e.push(t)},this.options.minorGridLines),e}axisType(){return og}}S(VI.prototype,FI);const v9=VI;function HI(s){return s<=0?-1:1}const ag=class _9 extends W{constructor(e){super(),this.closed=e}process(e){const t=e.slice(0),n=[];let i=this.closed,o=t.length;if(o>2&&(this.removeDuplicates(0,t),o=t.length),o<2||2===o&&t[0].equals(t[1]))return n;let c,u,r=t[0],a=t[1],l=t[2];for(n.push(new an(r));r.equals(t[o-1]);)i=!0,t.pop(),o--;if(2===o){const d=this.tangent(r,a,q,K);return yt(n).controlOut(this.firstControlPoint(d,r,a,q,K)),n.push(new an(a,this.secondControlPoint(d,r,a,q,K))),n}if(i){r=t[o-1],a=t[0],l=t[1];const d=this.controlPoints(r,a,l);c=d[1],u=d[0]}else{const d=this.tangent(r,a,q,K);c=this.firstControlPoint(d,r,a,q,K)}let h=c;for(let d=0;d<=o-3;d++)if(this.removeDuplicates(d,t),o=t.length,d+3<=o){r=t[d],a=t[d+1],l=t[d+2];const f=this.controlPoints(r,a,l);yt(n).controlOut(h),h=f[1],n.push(new an(a,f[0]))}if(i){r=t[o-2],a=t[o-1],l=t[0];const d=this.controlPoints(r,a,l);yt(n).controlOut(h),n.push(new an(a,d[0])),yt(n).controlOut(d[1]),n.push(new an(l,u))}else{const d=this.tangent(a,l,q,K);yt(n).controlOut(h),n.push(new an(l,this.secondControlPoint(d,a,l,q,K)))}return n}removeDuplicates(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}invertAxis(e,t,n){let i=!1;if(e.x===t.x)i=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(i=!0);else{const o=this.lineFunction(e,t),r=this.calculateFunction(o,n.x);e.y<=t.y&&n.y<=r||t.y<=e.y&&n.y>=r||(i=!0)}return i}isLine(e,t,n){const i=this.lineFunction(e,t),o=this.calculateFunction(i,n.x);return e.x===t.x&&t.x===n.x||B(o,1)===B(n.y,1)}lineFunction(e,t){const n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]}controlPoints(e,t,n){let l,i=q,o=K,r=!1,a=!1;if(this.isLine(e,t,n))l=this.tangent(e,t,q,K);else{const h={x:this.isMonotonicByField(e,t,n,q),y:this.isMonotonicByField(e,t,n,K)};if(h.x&&h.y)l=this.tangent(e,n,q,K),r=!0;else if(this.invertAxis(e,t,n)&&(i=K,o=q),h[i])l=0;else{let d;d=n[o]<e[o]&&e[o]<=t[o]||e[o]<n[o]&&t[o]<=e[o]?HI((n[o]-e[o])*(t[i]-e[i])):-HI((n[i]-e[i])*(t[o]-e[o])),l=.01*d,a=!0}}const c=this.secondControlPoint(l,e,t,i,o);if(a){const h=i;i=o,o=h}const u=this.firstControlPoint(l,t,n,i,o);return r&&(this.restrictControlPoint(e,t,c,l),this.restrictControlPoint(t,n,u,l)),[c,u]}restrictControlPoint(e,t,n,i){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/i,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/i,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/i,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/i,n.y=e.y)}tangent(e,t,n,i){const o=t[n]-e[n];let a;return a=0===o?0:(t[i]-e[i])/o,a}isMonotonicByField(e,t,n,i){return n[i]>t[i]&&t[i]>e[i]||n[i]<t[i]&&t[i]<e[i]}firstControlPoint(e,t,n,i,o){const r=t[i],l=.333*(n[i]-r);return this.point(r+l,t[o]+l*e,i,o)}secondControlPoint(e,t,n,i,o){const a=n[i],l=.333*(a-t[i]);return this.point(a-l,n[o]-l*e,i,o)}point(e,t,n,i){const o=new N;return o[n]=e,o[i]=t,o}calculateFunction(e,t){const n=e.length;let i=0;for(let o=0;o<n;o++)i+=Math.pow(t,o)*e[o];return i}},w9=class b9 extends W{constructor(e){super(),this._axis=e,this.options=e.options}value(e){const t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)}slot(e,t,n=!0){return this._axis.slot(e,t,n)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function jI(s,e){for(let t=0;t<e.length;t++)if(e[t].options.name===s)return e[t].prepareUserOptions(),new w9(e[t])}const cb=class C9{constructor(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e}findAxisByName(e){return jI(e,this._pane.axes)}},D9=class S9 extends W{constructor(e){super(),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}};function ub(s){const e=s.length;let t=0;for(let n=0;n<e;n++)pe(s[n])&&t++;return t}const hb={min:function(s){const e=s.length;let t=mt;for(let n=0;n<e;n++){const i=s[n];pe(i)&&(t=Math.min(t,i))}return t===mt?s[0]:t},max:function(s){const e=s.length;let t=kt;for(let n=0;n<e;n++){const i=s[n];pe(i)&&(t=Math.max(t,i))}return t===kt?s[0]:t},sum:function(s){const e=s.length;let t=0;for(let n=0;n<e;n++){const i=s[n];pe(i)&&(t+=i)}return t},sumOrNull:function(s){let e=null;return ub(s)&&(e=hb.sum(s)),e},count:function(s){const e=s.length;let t=0;for(let n=0;n<e;n++){const i=s[n];null!==i&&P(i)&&t++}return t},avg:function(s){const e=ub(s);let t=s[0];return e>0&&(t=hb.sum(s)/e),t},first:function(s){const e=s.length;for(let t=0;t<e;t++){const n=s[t];if(null!==n&&P(n))return n}return s[0]}},E9=hb;function lg(s,e){return null===e?e:fo(s)(e)}class db extends W{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(e,t=[Jn],n={}){for(let i=0;i<e.length;i++){const o=e[i];this._valueFields[o]=t,this._otherFields[o]=n,this._nullValue[o]=this._makeValue(t,null),this._undefinedValue[o]=this._makeValue(t,void 0)}}canonicalFields(e){return this.valueFields(e).concat(this.otherFields(e))}valueFields(e){return this._valueFields[e.type]||[Jn]}otherFields(e){return this._otherFields[e.type]||[Jn]}bindPoint(e,t,n){const i=e.data,o=P(n)?n:i[t],r={valueFields:{value:o}},a=this.valueFields(e),l=this._otherFields[e.type];let c,u;if(null===o)u=this._nullValue[e.type];else if(P(o)){if(Array.isArray(o)){const h=o.slice(a.length);u=this._bindFromArray(o,a),c=this._bindFromArray(h,l)}else if("object"==typeof o){const h=this.sourceFields(e,a),d=this.sourceFields(e,l);u=this._bindFromObject(o,a,h),c=this._bindFromObject(o,l,d)}}else u=this._undefinedValue[e.type];return P(u)&&(1===a.length?r.valueFields.value=u[a[0]]:r.valueFields=u),r.fields=c||{},r}_makeValue(e,t){const n={},i=e.length;for(let o=0;o<i;o++)n[e[o]]=t;return n}_bindFromArray(e,t){const n={};if(t){const i=Math.min(t.length,e.length);for(let o=0;o<i;o++)n[t[o]]=e[o]}return n}_bindFromObject(e,t,n=t){const i={};if(t){const o=t.length;for(let r=0;r<o;r++){const a=t[r],l=n[r];null!==l&&(i[a]=lg(l,e))}}return i}sourceFields(e,t){const n=[];if(t){const i=t.length;for(let o=0;o<i;o++){const r=t[o],a=r===Jn?"field":r+"Field";n.push(null!==e[a]?e[a]||r:null)}}return n}}db.current=new db;const vt=db,M9=/percent(?:\w*)\((\d+)\)/,k9=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),UI=class I9 extends W{constructor(e,t,n){super(),this.initGlobalRanges(e,t,n)}initGlobalRanges(e,t,n){const i=t.data,o=k9.exec(e);if(o){this.valueGetter=this.createValueGetter(t,n);const r=this.getAverage(i),a=this.getStandardDeviation(i,r,!1),l=o[1]?parseFloat(o[1]):1,c={low:r.value-a*l,high:r.value+a*l};this.globalRange=function(){return c}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);const r=this.getStandardError(i,this.getAverage(i));this.globalRange=function(a){return{low:a-r,high:a+r}}}}createValueGetter(e,t){const n=e.data,i=vt.current,o=i.valueFields(e),r=P(n[0])?n[0]:{};let a;return Qt(r)?a=fo("["+(t?o.indexOf(t):0)+"]"):pe(r)?a=fo():typeof r===u_&&(a=fo(i.sourceFields(e,o)[o.indexOf(t)])),a}getErrorRange(e,t){let n,i,o;if(!P(t))return null;if(this.globalRange)return this.globalRange(e);if(Qt(t))n=e-t[0],i=e+t[1];else if(pe(o=parseFloat(t)))n=e-o,i=e+o;else{if(!(o=M9.exec(t)))throw new Error("Invalid ErrorBar value: "+t);{const r=e*(parseFloat(o[1])/100);n=e-Math.abs(r),i=e+Math.abs(r)}}return{low:n,high:i}}getStandardError(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)}getStandardDeviation(e,t,n){const i=e.length,o=n?t.count-1:t.count;let r=0;for(let a=0;a<i;a++){const l=this.valueGetter(e[a]);pe(l)&&(r+=Math.pow(l-t.value,2))}return Math.sqrt(r/o)}getAverage(e){const t=e.length;let n=0,i=0;for(let o=0;o<t;o++){const r=this.valueGetter(e[o]);pe(r)&&(n+=r,i++)}return{value:n/i,count:i}}},Is=600,yr="fadeIn",vh=(Ul.browser||{}).msie?.001:0,$I="errorLow",GI="errorHigh",wo="zero",Xl="interpolate",hg="above",fb="below",Zl="smooth",xh="step",_h="area",di="bar",bh="boxPlot",Ql="bubble",vr="bullet",Jl="candlestick",Co="column",dg="donut",fg="funnel",pb="heatmap",ec="horizontalWaterfall",wh="line",Ch="ohlc",xr="pie",gb="polarArea",mb="polarLine",yb="polarScatter",pg="radarArea",gg="radarColumn",mg="radarLine",Sh="rangeArea",tc="rangeBar",Dh="rangeColumn",vb="scatter",xb="scatterLine",nc="verticalArea",sc="verticalBoxPlot",Eh="verticalBullet",ic="verticalLine",oc="verticalRangeArea",Th="waterfall",qI=[di,Co,Ch,Jl,bh,sc,vr,Dh,tc,Th,ec],KI="seriesHover",YI="plotAreaHover",_b="plotAreaLeave",Ah="drag",Mh="dragEnd",bb="dragStart",kh="zoomStart",rc="zoom",ac="zoomEnd",wb="selectStart",Ih="select",Cb="selectEnd",XI="showTooltip",ZI="hideTooltip",yg="log",Bi="category",vg="insideEnd",ga="outsideEnd",xg="DOMMouseScroll mousewheel";class JI extends Oe{constructor(e,t,n,i,o,r){super(r),this.low=e,this.high=t,this.isVertical=n,this.chart=i,this.series=o}reflow(e){const t=this.options.endCaps,n=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),r=e.center(),a=this.getCapsWidth(e,n),l=n?r.x:r.y,c=l-a,u=l+a;let h;n?(h=[new ne(r.x,o.y1),new ne(r.x,o.y2)],t&&h.push(new ne(c,o.y1),new ne(u,o.y1),new ne(c,o.y2),new ne(u,o.y2)),this.box=new V(c,o.y1,u,o.y2)):(h=[new ne(o.x1,r.y),new ne(o.x2,r.y)],t&&h.push(new ne(o.x1,c),new ne(o.x1,u),new ne(o.x2,c),new ne(o.x2,u)),this.box=new V(o.x1,c,o.x2,u)),this.linePoints=h}getCapsWidth(e,t){const n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4}createVisual(){const e=this.options,t=e.visual;t?this.visual=t({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:()=>{this.createDefaultVisual();const n=this.visual;return delete this.visual,n}}):this.createDefaultVisual()}createDefaultVisual(){const{options:e,linePoints:t}=this,n={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};super.createVisual();for(let i=0;i<t.length;i+=2){const o=new ee(n).moveTo(t[i].x,t[i].y).lineTo(t[i+1].x,t[i+1].y);Ss(o),this.visual.append(o)}}}O(JI,{animation:{type:yr,delay:Is},endCaps:!0,line:{width:2},zIndex:1});const eP=JI,Y9=class K9 extends eP{getAxis(){return this.chart.seriesValueAxis(this.series)}};function So(s,e,t={},n=!1){const i=t.defaults=t.defaults||{},o=t.depth=t.depth||0;let r=!1;if(t.excluded=t.excluded||[],o>5)return null;for(let a in s)if(!ye(a,t.excluded)&&s.hasOwnProperty(a)){const l=s[a];ot(l)?(r=!0,n||(s[a]=re(l(e),i[a]))):ri(l)&&(n||(t.defaults=i[a]),t.depth++,r=So(l,e,t,n)||r,t.depth--)}return r}function Db(s){const e=s.length;let t=0;for(let n=0;n<e;n++)t=Math.max(t,s[n].data.length);return t}class tP extends Oe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(t.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const i=this.pointType().prototype.defaults;this.seriesOptions[t]=n=S({},i,{vertical:!this.options.invertAxes},e)}return n}plotValue(e){if(!e)return 0;if(this.options.isStacked100&&pe(e.value)){const n=this.categoryPoints[e.categoryIx],i=[];let o=0;for(let r=0;r<n.length;r++){const a=n[r];if(a){const l=e.series.stack,c=a.series.stack;if(l&&c&&l.group!==c.group)continue;pe(a.value)&&(o+=Math.abs(a.value),i.push(Math.abs(a.value)))}}if(o>0)return e.value/o}return e.value}plotRange(e,t=0){const n=this.categoryPoints[e.categoryIx];if(this.options.isStacked){let a=this.plotValue(e);const l=a>=0;let c=t,u=!1;for(let h=0;h<n.length;h++){const d=n[h];if(e===d)break;const f=e.series.stack,p=d.series.stack;if(f&&p&&(typeof f===h_&&f!==p||f.group&&f.group!==p.group))continue;const g=this.plotValue(d);(g>=0&&l||g<0&&!l)&&(c+=g,a+=g,u=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return u&&(c-=t),[c,a]}const o=this.seriesValueAxis(e.series),r=this.categoryAxisCrossingValue(o);return[r,qM(e.value)?e.value:r]}stackLimits(e,t){let n=mt,i=kt;for(let o=0;o<this.categoryPoints.length;o++){const r=this.categoryPoints[o];if(r)for(let a=0;a<r.length;a++){const l=r[a];if(l&&(l.series.stack===t||l.series.axis===e)){const c=this.plotRange(l,0)[1];P(c)&&isFinite(c)&&(i=Math.max(i,c),n=Math.min(n,c))}}}return{min:n,max:i}}updateStackRange(){const{isStacked:e,series:t}=this.options,n={};if(e)for(let i=0;i<t.length;i++){const o=t[i],r=o.axis,a=r+o.stack;let l=n[a];if(!l){l=this.stackLimits(r,o.stack);const c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,w_(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,w_(c.positive).max))),l.min!==mt||l.max!==kt?n[a]=l:l=null}l&&(this.valueAxisRanges[r]=l)}}addErrorBar(e,t,n){const{value:i,series:o,seriesIx:r}=e,a=e.options.errorBars,l=t.fields[$I],c=t.fields[GI];let u;pe(l)&&pe(c)?u={low:l,high:c}:a&&P(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new UI(a.value,o,Jn),u=this.seriesErrorRanges[r].getErrorRange(i,a.value)),u&&(e.low=u.low,e.high=u.high,this.addPointErrorBar(e,n))}addPointErrorBar(e,t){const n=!this.options.invertAxes,i=e.options.errorBars;let{series:o,low:r,high:a}=e;if(this.options.isStacked){const c=this.stackedErrorRange(e,t);r=c.low,a=c.high}else{const c={categoryIx:t,series:o};this.updateRange({value:r},c),this.updateRange({value:a},c)}const l=new Y9(r,a,n,this,o,i);e.errorBars=[l],e.append(l)}stackedErrorRange(e,t){const n=this.plotRange(e,0)[1]-e.value,i=e.low+n,o=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},i<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,i)),o>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,o)),{low:i,high:o}}addValue(e,t){const{categoryIx:n,series:i,seriesIx:o}=t;let r=this.categoryPoints[n];r||(this.categoryPoints[n]=r=[]);let a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);const l=this.createPoint(e,t);l&&(Object.assign(l,t),l.owner=this,l.noteText=e.fields.noteText,P(l.dataItem)||(l.dataItem=i.data[n]),this.addErrorBar(l,e,n)),this.points.push(l),a.push(l),r.push(l),this.updateRange(e.valueFields,t)}evalPointOptions(e,t,n,i,o,r){const a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let l=this._evalSeries[r];P(l)||(this._evalSeries[r]=l=So(e,{},a,!0));let c=e;return l&&(c=S({},c),So(c,{value:t,category:n,index:i,series:o,dataItem:o.data[i]},a)),c}updateRange(e,t){const n=t.series.axis,i=e.value;let o=this.valueAxisRanges[n];isFinite(i)&&null!==i&&(o=this.valueAxisRanges[n]=o||{min:mt,max:kt},o.min=Math.min(o.min,i),o.max=Math.max(o.max,i))}seriesValueAxis(e){const t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw new Error("Unable to locate value axis with name "+n);return i}reflow(e){const t=this.categorySlots=[],n=this.points,i=this.categoryAxis;let o=0;this.traverseDataPoints((r,a)=>{const{categoryIx:l,series:c}=a,u=this.seriesValueAxis(c),h=n[o++];let d=t[l];if(d||(t[l]=d=this.categorySlot(i,l,u)),h){const f=this.plotRange(h,u.startValue()),p=this.valueSlot(u,f);if(p){const g=this.pointSlot(d,p);h.aboveAxis=this.aboveAxis(h,u),h.stackValue=f[1],this.options.isStacked100&&(h.percentage=this.plotValue(h)),this.reflowPoint(h,g)}else h.visible=!1}}),this.reflowCategories(t),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e}valueSlot(e,t){return e.getSlot(t[0],t[1],!this.options.clip)}limitPoints(){const e=this.categoryPoints,t=e[0].concat(yt(e));for(let n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])}limitPoint(e){const t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)}aboveAxis(e,t){const n=this.categoryAxisCrossingValue(t),i=e.value;return t.options.reverse?i<n:i>=n}categoryAxisCrossingValue(e){const t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0}reflowPoint(e,t){e.reflow(t)}reflowCategories(){}pointSlot(e,t){const i=this.options.invertAxes,o=i?t:e,r=i?e:t;return new V(o.x1,r.y1,o.x2,r.y2)}categorySlot(e,t){return e.getSlot(t)}traverseDataPoints(e){const t=this.options.series,n=Db(t),i=t.length;for(let o=0;o<i;o++)this._outOfRangeCallback(t[o],"_outOfRangeMinPoint",o,e);for(let o=0;o<n;o++)for(let r=0;r<i;r++){const a=t[r],l=this.categoryAxis.categoryAt(o);e(this._bindPoint(a,r,o),{category:l,categoryIx:o,categoriesCount:n,series:a,seriesIx:r})}for(let o=0;o<i;o++)this._outOfRangeCallback(t[o],"_outOfRangeMaxPoint",o,e)}_outOfRangeCallback(e,t,n,i){const o=e[t];if(o){const r=o.categoryIx;i(this._bindPoint(e,n,r,o.item),{category:o.category,categoryIx:r,series:e,seriesIx:n,dataItem:o.item})}}_bindPoint(e,t,n,i){this._bindCache||(this._bindCache=[]);let o=this._bindCache[t];o||(o=this._bindCache[t]=[]);let r=o[n];return r||(r=o[n]=vt.current.bindPoint(e,n,i)),r}formatPointValue(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)}pointValue(e){return e.valueFields.value}}O(tP,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const Do=tP,fi={click:function(s,e){return s.trigger("seriesClick",this.eventArgs(e))},hover:function(s,e){return s.trigger(KI,this.eventArgs(e))},over:function(s,e){return s.trigger("seriesOver",this.eventArgs(e))},out:function(s,e){return s.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(s){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:li(s),originalEvent:s,point:this}}},lc={createNote:function(){const s=this.options.notes,e=this.noteText||s.label.text;!1!==s.visible&&P(e)&&null!==e&&(this.note=new gI({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};class _g extends Oe{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=re(this.options.aboveAxis,!0),this.tooltipTracking=!0}render(){const{markers:e,labels:t}=this.options;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),t.visible){const n=Jt(t),i=this.pointData();let o=this.value;n?o=n(i):t.format&&(o=this.formatValue(t.format)),this.label=new is(o,S({align:ue,vAlign:ue,margin:{left:5,right:5},zIndex:re(t.zIndex,this.series.zIndex)},t),i),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}markerBorder(){const e=this.options.markers,t=e.background,n=S({color:this.color},e.border);return P(n.color)||(n.color=new Pi(t).brightness(.8).toHex()),n}createVisual(){}createMarker(){const e=this.options.markers;return new mr({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:this.series.opacity||e.opacity,zIndex:re(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(e){const{options:t,aboveAxis:n}=this,i=t.vertical;this.render(),this.box=e;const o=e.clone();if(i?n?o.y1-=o.height():o.y2+=o.height():n?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){let r=this.markerBox();if(!t.markers.visible||!t.markers.size){const a=r.center();r=new V(a.x,a.y,a.x,a.y)}this.note.reflow(r)}}reflowLabel(e){const{options:t,label:n}=this;let i=t.labels.position;n&&(i=i===hg?Ee:i,i=i===fb?Re:i,n.reflow(e),n.box.alignTo(this.markerBox(),i),n.reflow(n.box))}createHighlight(){const e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,i=n.size+(n.border.width||0)+(e.border.width||0),o=new mr({type:n.type,width:i,height:i,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:re(e.border.opacity,1)},opacity:re(e.opacity,1)});return o.reflow(this._childBox),o.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const e=this.marker;let t,n;if(e)n=e.paddingBox.toRect(),t=e.visual;else{const i=this.options.markers.size,o=i/2,r=this.box.center();n=new De([r.x-o,r.y-o],[i,i])}return{options:this.options,rect:n,visual:t}}tooltipAnchor(){const e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){const o=we;let r,a;return this.aboveAxis?(r=e.y1,a=Re):(r=e.y2,a=Ee),{point:new ne(e.x2+5,r),align:{horizontal:o,vertical:a}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.markerBox().overlaps(e)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}_g.prototype.defaults={vertical:!0,markers:{visible:!0,background:Te,size:8,type:oi,border:{width:2},opacity:1},labels:{visible:!1,position:hg,margin:Be(3),padding:Be(4),animation:{type:yr,delay:Is}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},S(_g.prototype,fi),S(_g.prototype,lc);const ma=_g;class nP extends Oe{constructor(e,t,n){super(),this.linePoints=e,this.series=t,this.seriesIx=n}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++)e[n]&&!1!==e[n].visible&&t.push(e[n]._childBox.toRect().center());return t}createVisual(){const e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!P(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:e,series:t}=this;let{color:n,_defaults:i}=t;ot(n)&&i&&(n=i.color);const o=ee.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&o.close(),this.visual=o}aliasFor(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}}O(nP,{closed:!1});const cc=nP,Z9={calculateStepPoints:function(s){const e=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:t,vertical:n,reverse:i}=e.options,o=n?q:K,r=n?K:q,a=i?2:1,l=a;let c=Eb(s[0],o,a,r,l);const u=[c];for(let h=1;h<s.length;h++){const d=Eb(s[h],o,a,r,l);if(c[o]!==d[o]){const f=new N;f[o]=c[o],f[r]=d[r],u.push(f,d)}c=d}return t?c!==yt(u)&&u.push(c):u.push(Eb(yt(s),o,a,r,i?1:2)),u}};function Eb(s,e,t,n,i){const o=s.box,r=new N;return r[e]=o[e+t],r[n]=o[n+i],r}const Tb=Z9;class sP extends cc{points(){return this.calculateStepPoints(this.linePoints)}}S(sP.prototype,Tb);const Q9=sP,Ab=class J9 extends cc{segmentVisual(){const e=this.series,t=e._defaults;let n=e.color;ot(n)&&t&&(n=t.color);const o=new ag(this.options.closed).process(this.points()),r=new ee({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}},Mb={renderSegments:function(){const{options:s,seriesPoints:e}=this,t=s.series,n=e.length;let i;this._segments=[];for(let o=0;o<n;o++){const r=t[o],a=this.sortPoints(e[o]),l=a.length;let c=[];for(let u=0;u<l;u++){const h=a[u];h?c.push(h):this.seriesMissingValues(r)!==Xl&&(c.length>1&&(i=this.createSegment(c,r,o,i),this._addSegment(i)),c=[])}c.length>1&&(i=this.createSegment(c,r,o,i),this._addSegment(i))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(s){this._segments.push(s),s.parent=this},sortPoints:function(s){return s},seriesMissingValues:function(s){const e=s.missingValues;return!e&&this.options.isStacked?wo:e||Xl},getNearestPoint:function(s,e,t){const n=new ne(s,e),i=this.seriesPoints[t];let r,o=mt;for(let a=0;a<i.length;a++){const l=i[a];if(l&&P(l.value)&&null!==l.value&&!1!==l.visible){const u=l.box.center().distanceTo(n);u<o&&(r=l,o=u)}}return r}};class kb extends ss{setup(){this._setEnd(this.options.box.x1)}step(e){const t=this.options.box;this._setEnd(Ds(t.x1,t.x2,e))}_setEnd(e){const t=this.element,n=t.segments,i=n[1].anchor(),o=n[2].anchor();t.suspend(),i.setX(e),t.resume(),o.setX(e)}}O(kb,{duration:Is}),ci.current.register("clip",kb);const eq=kb;function iP(s){for(let e=0;e<s.length;e++)if(P(s[e].zIndex))return!0}const bg={createAnimation:function(){const s=this.getRoot();if(s&&!1!==(s.options||{}).transitions){const e=s.size(),t=ee.fromRect(e.toRect());this.visual.clip(t),this.animation=new eq(t,{box:e}),iP(this.options.series)&&this._setChildrenAnimation(t)}},_setChildrenAnimation:function(s){const e=this.animationPoints();for(let t=0;t<e.length;t++){const n=e[t];n&&n.visual&&P(n.visual.options.zIndex)&&n.visual.clip(s)}}};class oP extends Do{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return ma}createPoint(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,a=this.seriesMissingValues(o);let l=e.valueFields.value;if(!P(l)||null===l){if(a!==wo)return null;l=0}let c=this.pointOptions(o,r);c=this.evalPointOptions(c,l,i,n,o,r);let u=e.fields.color||o.color;ot(o.color)&&(u=c.color);const h=new ma(l,c);return h.color=u,this.append(h),h}plotRange(e){let t=this.plotValue(e);if(this.options.isStacked){const i=this.categoryPoints[e.categoryIx];for(let o=0;o<i.length;o++){const r=i[o];if(e===r)break;t+=this.plotValue(r),this.options.isStacked100&&(t=Math.min(t,1))}}return[t,t]}createSegment(e,t,n){const i=t.style;let o;return o=i===xh?Q9:i===Zl?Ab:cc,new o(e,t,n)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}S(oP.prototype,Mb,bg);const Ib=oP,uc=class tq extends cc{constructor(e,t,n,i,o){super(e,t,n),this.prevSegment=i,this.stackPoints=o}createVisual(){const e=this.series,t=e._defaults,n=e.line||{};let i=e.color;ot(i)&&t&&(i=t.color),this.visual=new Ze({zIndex:e.zIndex}),this.createFill({fill:{color:i,opacity:e.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:S({color:i,opacity:e.opacity,lineCap:"butt"},n)})}strokeSegments(){let e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()}segmentsFromPoints(e){return e.map(t=>new an(t))}createStroke(e){const t=new ee(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(e){const t=this.strokeSegments(),n=t.slice(0),i=this.hasStackSegment();if(i){const r=this.stackSegments();ra(n,r)}const o=new ee(e);o.segments.push.apply(o.segments,n),!i&&t.length>1&&this.fillToAxes(o),this.visual.append(o)}fillToAxes(e){const t=this.parent,n=t.options.invertAxes,i=t.seriesValueAxis(this.series),o=t.categoryAxisCrossingValue(i),r=i.getSlot(o,o,!0),a=this.strokeSegments(),l=a[0].anchor(),c=yt(a).anchor();let u=n?r.x1:r.y1;n?e.lineTo(u,c.y).lineTo(u,l.y):e.lineTo(c.x,u).lineTo(l.x,u)}};class rP extends uc{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}S(rP.prototype,Tb);const nq=rP,Pb=class sq extends uc{createStrokeSegments(){const e=new ag(this.options.closed),t=this.points();return e.process(t)}createStackSegments(){const e=this.strokeSegments(),t=[];for(let n=e.length-1;n>=0;n--){const i=e[n];t.push(new an(i.anchor(),i.controlOut(),i.controlIn()))}return t}},oq=class iq extends Ib{createSegment(e,t,n,i){const r=(t.line||{}).style;let a,l,c;return this.options.isStacked&&n>0&&i&&("gap"!==this.seriesMissingValues(t)?(l=i.linePoints,a=i):l=this._gapStackPoints(e,n,r)),c=r===xh?nq:r===Zl?Pb:uc,new c(e,t,n,a,l)}reflow(e){super.reflow(e);const t=this._stackPoints;if(t)for(let n=0;n<t.length;n++){const i=t[n],o=this.categoryAxis.getSlot(i.categoryIx);i.reflow(o)}}_gapStackPoints(e,t,n){const i=this.seriesPoints;let o=e[0].categoryIx,r=e.length;o<0&&(o=0,r--);const a=o+r,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(let u=o;u<a;u++){const h=u+l;let f,d=t;do{d--,f=i[d][h]}while(d>0&&!f);if(f)n!==xh&&u>o&&!i[d][h-1]&&c.push(this._previousSegmentPoint(u,h,h-1,d)),c.push(f),n!==xh&&u+1<a&&!i[d][h+1]&&c.push(this._previousSegmentPoint(u,h,h+1,d));else{const p=this._createGapStackPoint(u);this._stackPoints.push(p),c.push(p)}}return c}_previousSegmentPoint(e,t,n,i){const o=this.seriesPoints;let a,r=i;for(;r>0&&!a;)r--,a=o[r][n];return a?a=o[r][t]:(a=this._createGapStackPoint(e),this._stackPoints.push(a)),a}_createGapStackPoint(e){const t=this.pointOptions({},0),n=new ma(0,t);return n.categoryIx=e,n.series={},n}seriesMissingValues(e){return e.missingValues||wo}supportsPointInactiveOpacity(){return!1}},wg=class rq extends W{constructor(){super(),this.axisRanges={}}update(e){const t=this.axisRanges;for(let n in e){const i=e[n];let o=t[n];t[n]=o=o||{min:mt,max:kt},o.min=Math.min(o.min,i.min),o.max=Math.max(o.max,i.max)}}reset(e){this.axisRanges[e]=void 0}query(e){return this.axisRanges[e]}};class aP extends Oe{constructor(e,t,n){super(t),this.textBox=new is(e,this.options,n),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(e){const t=this.options,{vertical:n,aboveAxis:i}=t,o=this.children[0],r=o.options,a=o.box,l=o.options.padding;let c=e;r.align=n?ue:we,r.vAlign=n?Ee:ue,t.position===vg?n?(r.vAlign=Ee,!i&&a.height()<e.height()&&(r.vAlign=Re)):r.align=i?ke:we:t.position===ue?(r.vAlign=ue,r.align=ue):"insideBase"===t.position?n?r.vAlign=i?Re:Ee:r.align=i?we:ke:t.position===ga&&(n?c=i?new V(e.x1,e.y1-a.height(),e.x2,e.y1):new V(e.x1,e.y2,e.x2,e.y2+a.height()):(r.align=ue,c=i?new V(e.x2,e.y1,e.x2+a.width(),e.y2):new V(e.x1-a.width(),e.y1,e.x1,e.y2))),t.rotation||(n?l.left=l.right=(c.width()-o.contentBox.width())/2:l.top=l.bottom=(c.height()-o.contentBox.height())/2),o.reflow(c)}alignToClipBox(e){const n=this.options.vertical?K:q,i=n+"1",o=n+"2",a=this.parent.box;if(a[i]<e[i]||e[o]<a[o]){const l=this.children[0].paddingBox.clone();l[i]=Math.max(a[i],e[i]),l[o]=Math.min(a[o],e[o]),this.reflow(l)}}}O(aP,{position:ga,margin:Be(3),padding:Be(4),color:gt,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:yr,delay:Is},zIndex:2});const lP=aP;function Rb(s){const e=s.overlay;return e&&e.gradient&&"none"!==e.gradient}class Cg extends Oe{constructor(e,t){super(),this.options=t,this.color=t.color||Te,this.aboveAxis=re(this.options.aboveAxis,!0),this.value=e}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options,t=e.labels;if(t.visible){const n=this.pointData();let o,i=Jt(t);o=i?i(n):this.formatValue(t.format),this.label=new lP(o,S({vertical:e.vertical},t),n),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(let n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(e)}createVisual(){const{box:e,options:t}=this,n=t.visual;if(!1!==this.visible)if(super.createVisual(),n){const i=this.rectVisual=n({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:e.toRect(),createVisual:()=>{const o=new Ze;return this.createRect(o),o},options:t});i&&this.visual.append(i)}else e.width()>0&&e.height()>0&&this.createRect(this.visual)}createRect(e){const t=this.options,n=t.border,i=P(n.opacity)?n.opacity:t.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);const r=this.rectVisual=ee.fromRect(o,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:i,dashType:n.dashType}}),a=this.box.width(),l=this.box.height();if((t.vertical?a:l)>6&&(Ss(r),(a<1||l<1)&&(r.options.stroke.lineJoin="round")),e.append(r),Rb(t)){const u=this.createGradientOverlay(r,{baseColor:this.color},S({end:t.vertical?void 0:[0,1]},t.overlay));e.append(u)}}createHighlight(e){return Ss(ee.fromRect(this.box.toRect(),e))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}getBorderColor(){const e=this.color,t=this.options.border,n=t._brightness||.8;let i=t.color;return P(i)||(i=new Pi(e).brightness(n).toHex()),i}tooltipAnchor(){const{options:e,box:t,aboveAxis:n}=this,i=this.owner.pane.clipBox()||t;let a,l,o=we,r=Ee;if(e.vertical)a=Math.min(t.x2,i.x2)+5,n?l=Math.max(t.y1,i.y1):(l=Math.min(t.y2,i.y2),r=Re);else{const c=Math.max(t.x1,i.x1),u=Math.min(t.x2,i.x2);e.isStacked?(r=Re,n?(o=ke,a=u):a=c,l=Math.max(t.y1,i.y1)-5):(n?a=u+5:(a=c-5,o=ke),l=Math.max(t.y1,i.y1))}return{point:new ne(a,l),align:{horizontal:o,vertical:r}}}overlapsBox(e){return this.box.overlaps(e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}S(Cg.prototype,fi),S(Cg.prototype,lc),Cg.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const Nb=Cg;function cP(s,e){s.forEach(e)}function uP(s,e){const t=s.length;for(let n=t-1;n>=0;n--)e(s[n],n-t-1)}class hP extends Oe{constructor(e){super(e),this.forEach=e.rtl?uP:cP}reflow(e){const{vertical:t,gap:n,spacing:i}=this.options,o=this.children,r=o.length,a=t?K:q,l=r+n+i*(r-1),c=(t?e.height():e.width())/l;let u=e[a+1]+c*(n/2);this.forEach(o,(h,d)=>{const f=(h.box||e).clone();f[a+1]=u,f[a+2]=u+c,h.reflow(f),d<r-1&&(u+=c*i),u+=c})}}O(hP,{vertical:!1,gap:0,spacing:0});const Sg=hP;class dP extends Oe{reflow(e){const t=this.options.vertical?q:K,n=this.children,i=n.length;let o=this.box=new V;for(let r=0;r<i;r++){const a=n[r];if(!1!==a.visible){const l=a.box.clone();l.snapTo(e,t),0===r&&(o=this.box=l.clone()),a.reflow(l),o.wrap(l)}}}}O(dP,{vertical:!0});const lq=dP;class fP extends Do{render(){super.render(),this.updateStackRange()}pointType(){return Nb}clusterType(){return Sg}stackType(){return lq}stackLimits(e,t){return super.stackLimits(e,t)}createPoint(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,{options:a,children:l}=this,c=a.isStacked,u=this.pointValue(e);let h=this.pointOptions(o,r);const d=h.labels;c&&d.position===ga&&(d.position=vg),h.isStacked=c;let f=e.fields.color||o.color;u<0&&h.negativeColor&&(f=h.negativeColor),h=this.evalPointOptions(h,u,i,n,o,r),ot(o.color)&&(f=h.color);const g=new(this.pointType())(u,h);g.color=f;let y=l[n];return y||(y=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(y)),c?this.getStackWrap(o,y).append(g):y.append(g),g}getStackWrap(e,t){const n=e.stack,i=n&&(n.group||n),o=t.children;let r;if(typeof i===h_){for(let a=0;a<o.length;a++)if(o[a]._stackGroup===i){r=o[a];break}}else r=o[0];return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=i,t.append(r)),r}categorySlot(e,t,n){const i=this.options,o=e.getSlot(t),r=n.startValue();if(i.isStacked){const a=n.getSlot(r,r,!0),l=i.invertAxes?q:K;o[l+1]=o[l+2]=a[l+1]}return o}reflowCategories(e){const t=this.children,n=t.length;for(let i=0;i<n;i++)t[i].reflow(e[i])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),iP(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const e=this.points;for(let t=0;t<e.length;t++){const n=e[t],i=n.visual;i&&P(i.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}}_setAnimationOptions(){const e=this.options,t=e.animation||{};let n;if(e.isStacked){const i=this.seriesValueAxis(e.series[0]);n=i.getSlot(i.startValue())}else n=this.categoryAxis.getSlot(0);t.origin=new N(n.x1,n.y1),t.vertical=!e.invertAxes}}O(fP,{animation:{type:di}});const Ph=fP;class Dg extends Oe{constructor(e,t){super(t),this.value=e}reflow(e){const{options:t,value:n,owner:i}=this,o=i.seriesValueAxis(t),r=o.getSlot(n.open,n.close),a=o.getSlot(n.low,n.high);r.x1=a.x1=e.x1,r.x2=a.x2=e.x2,this.realBody=r;const l=a.center().x,c=[];c.push([[l,a.y1],[l,r.y1]]),c.push([[l,r.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(e){const t=new Ze;return this.createBody(t,e),this.createLines(t,e),t}createBody(e,t){const n=ee.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:re(t.border.opacity,t.opacity)}),Ss(n),e.append(n),Rb(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},S({end:t.vertical?void 0:[0,1]},t.overlay)))}createLines(e,t){this.drawLines(e,t,this.lines,t.line)}drawLines(e,t,n,i){if(!n)return;const o={stroke:{color:i.color||this.color,opacity:re(i.opacity,t.opacity),width:i.width,dashType:i.dashType,lineCap:"butt"}};for(let r=0;r<n.length;r++){const a=ee.fromPoints(n[r],o);Ss(a),e.append(a)}}getBorderColor(){const e=this.options.border;let t=e.color;return P(t)||(t=new Pi(this.color).brightness(e._brightness).toHex()),t}createOverlay(){const e=ee.fromRect(this.box.toRect(),{fill:{color:Te,opacity:0},stroke:null});this.visual.append(e)}createHighlight(){const e=this.options.highlight,t=this.color;this.color=e.color||this.color;const n=this.mainVisual(S({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const e=this.box,t=this.owner.pane.clipBox()||e;return{point:new ne(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:we,vertical:Ee}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}}O(Dg,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),S(Dg.prototype,fi),S(Dg.prototype,lc);const Ob=Dg;function pP(s){return ub(s)===s.length}class gP extends Do{reflowCategories(e){const t=this.children,n=t.length;for(let i=0;i<n;i++)t[i].reflow(e[i])}addValue(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,{children:a,options:l}=this,c=e.valueFields,h=pP(this.splitValue(c)),d=o.data[n];let p,f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),h&&(p=this.createPoint(e,t));let g=a[n];g||(g=new Sg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),p&&(this.updateRange(c,t),g.append(p),p.categoryIx=n,p.category=i,p.series=o,p.seriesIx=r,p.owner=this,p.dataItem=d,p.noteText=e.fields.noteText),this.points.push(p),f.push(p)}pointType(){return Ob}createPoint(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,a=this.pointType(),l=e.valueFields;let c=S({},o),u=e.fields.color||o.color;c=this.evalPointOptions(c,l,i,n,o,r),o.type===Jl&&l.open>l.close&&(u=e.fields.downColor||o.downColor||o.color),ot(o.color)&&(u=c.color),c.vertical=!this.options.invertAxes;const h=new a(l,c);return h.color=u,h}splitValue(e){return[e.low,e.open,e.close,e.high]}updateRange(e,t){const n=t.series.axis,i=this.splitValue(e);let o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:mt,max:kt},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,i.concat([o.min])),max:Math.max.apply(Math,i.concat([o.max]))}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)}animationPoints(){return this.points}}S(gP.prototype,bg);const Lb=gP;class Fb extends Ob{constructor(e,t){super(e,t),this.createNote()}reflow(e){const{options:t,value:n,owner:i}=this,o=i.seriesValueAxis(t);let r,a;this.boxSlot=a=o.getSlot(n.q1,n.q3),this.realBody=a,this.reflowBoxSlot(e),this.whiskerSlot=r=o.getSlot(n.lower,n.upper),this.reflowWhiskerSlot(e);const l=o.getSlot(n.median);if(n.mean){const c=o.getSlot(n.mean);this.meanPoints=this.calcMeanPoints(e,c)}this.whiskerPoints=this.calcWhiskerPoints(a,r),this.medianPoints=this.calcMedianPoints(e,l),this.box=r.clone().wrap(a),this.reflowNote()}reflowBoxSlot(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2}reflowWhiskerSlot(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2}calcMeanPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}calcWhiskerPoints(e,t){const n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]}calcMedianPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}renderOutliers(e){const t=this.value,n=t.outliers||[],i=3*Math.abs(t.q3-t.q1),o=[];let r=e.markers||{};for(let a=0;a<n.length;a++){const l=n[a];r=l<t.q3+i&&l>t.q1-i?e.outliers:e.extremes;let c=S({},r.border);P(c.color)||(c.color=P(this.color)?this.color:new Pi(r.background).brightness(.8).toHex());const u=new mr({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:c,opacity:r.opacity});u.value=l,o.push(u)}return this.reflowOutliers(o),o}reflowOutliers(e){const t=this.owner.seriesValueAxis(this.options),n=this.box.center();for(let i=0;i<e.length;i++){const r=t.getSlot(e[i].value);this.options.vertical?r.move(n.x):r.move(void 0,n.y),this.box=this.box.wrap(r),e[i].reflow(r)}}mainVisual(e){const t=super.mainVisual(e),n=this.renderOutliers(e);for(let i=0;i<n.length;i++){const o=n[i].getElement();o&&t.append(o)}return t}createLines(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}O(Fb,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:Te,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:oi,background:Te,border:{width:2,opacity:1},opacity:0}}),S(Fb.prototype,fi);const mP=Fb,uq=class cq extends mP{reflowBoxSlot(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2}reflowWhiskerSlot(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2}calcMeanPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}calcWhiskerPoints(e,t){const n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]}calcMedianPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}},dq=class hq extends Lb{addValue(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,{children:a,options:l}=this,c=e.valueFields,h=pP(this.splitValue(c)),d=o.data[n];let p,f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),h&&(p=this.createPoint(e,t));let g=a[n];g||(g=new Sg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),p&&(this.updateRange(c,t),g.append(p),p.categoryIx=n,p.category=i,p.series=o,p.seriesIx=r,p.owner=this,p.dataItem=d),this.points.push(p),f.push(p)}pointType(){return this.options.invertAxes?uq:mP}splitValue(e){return[e.lower,e.q1,e.median,e.q3,e.upper]}updateRange(e,t){const n=t.series.axis;let i=this.valueAxisRanges[n],o=this.splitValue(e).concat(this.filterOutliers(e.outliers));P(e.mean)&&(o=o.concat(e.mean)),i=this.valueAxisRanges[n]=i||{min:mt,max:kt},i=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([i.min])),max:Math.max.apply(Math,o.concat([i.max]))}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)}filterOutliers(e){const t=(e||[]).length,n=[];for(let i=0;i<t;i++){const o=e[i];P(o)&&null!==o&&n.push(o)}return n}supportsPointInactiveOpacity(){return!1}},pq=class fq extends eP{getAxis(){const e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}};function os(s){return P(s)&&null!==s}class Bb extends Oe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(e,t,n){const i=e.value[t],o=t+"Value",r=t+"ErrorLow",a=t+"ErrorHigh",{seriesIx:l,series:c}=n,u=e.options.errorBars,h=n[r],d=n[a];if(pe(i)){let f;pe(h)&&pe(d)&&(f={low:h,high:d}),u&&P(u[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new UI(u[o],c,t),f=this.seriesErrorRanges[t][l].getErrorRange(i,u[o])),f&&this.addPointErrorBar(f,e,t)}}addPointErrorBar(e,t,n){const{low:i,high:o}=e,{series:r,options:{errorBars:a}}=t,l=n===K,c={};t[n+"Low"]=i,t[n+"High"]=o,t.errorBars=t.errorBars||[];const u=new pq(i,o,l,this,r,a);t.errorBars.push(u),t.append(u),c[n]=i,this.updateRange(c,r),c[n]=o,this.updateRange(c,r)}addValue(e,t){const{x:n,y:i}=e,o=t.seriesIx,a=this.seriesMissingValues(this.options.series[o]),l=this.seriesPoints[o];let u,c=e;os(n)&&os(i)||(c=this.createMissingValue(c,a)),c&&(u=this.createPoint(c,t),u&&(Object.assign(u,t),this.addErrorBar(u,q,t),this.addErrorBar(u,K,t)),this.updateRange(c,t.series)),this.points.push(u),l.push(u)}seriesMissingValues(e){return e.missingValues}createMissingValue(){}updateRange(e,t){const n=this.chartService.intl,{xAxis:i,yAxis:o}=t;let{x:r,y:a}=e,l=this.xAxisRanges[i],c=this.yAxisRanges[o];os(r)&&(l=this.xAxisRanges[i]=l||{min:mt,max:kt},ho(r)&&(r=ln(n,r)),l.min=Math.min(l.min,r),l.max=Math.max(l.max,r)),os(a)&&(c=this.yAxisRanges[o]=c||{min:mt,max:kt},ho(a)&&(a=ln(n,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a))}evalPointOptions(e,t,n){const{series:i,seriesIx:o}=n,r={defaults:i._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let a=this._evalSeries[o];P(a)||(this._evalSeries[o]=a=So(e,{},r,!0));let l=e;return a&&(l=S({},e),So(l,{value:t,series:i,dataItem:n.dataItem},r)),l}pointType(){return ma}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const i=this.pointType().prototype.defaults;this.seriesOptions[t]=n=S({},i,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n}createPoint(e,t){const n=t.series;let i=this.pointOptions(n,t.seriesIx),o=t.color||n.color;i=this.evalPointOptions(i,e,t),ot(n.color)&&(o=i.color);const r=new ma(e,i);return r.color=o,this.append(r),r}seriesAxes(e){const{xAxis:t,yAxis:n}=e,i=this.plotArea,o=t?i.namedXAxes[t]:i.axisX,r=n?i.namedYAxes[n]:i.axisY;if(!o)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:r}}reflow(e){const t=this.points,n=!this.options.clip;let i=0;this.traverseDataPoints((o,r)=>{const a=t[i++],l=this.seriesAxes(r.series),c=l.x.getSlot(o.x,o.x,n),u=l.y.getSlot(o.y,o.y,n);if(a)if(c&&u){const h=this.pointSlot(c,u);a.reflow(h)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new V(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t},seriesPoints:n}=this;for(let i=0;i<t.length;i++){const o=t[i];n[i]||(n[i]=[]);for(let a=0;a<o.data.length;a++){const{valueFields:l,fields:c}=this._bindPoint(o,i,a);e(l,S({pointIx:a,series:o,seriesIx:i,dataItem:o.data[a],owner:this},c))}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}}O(Bb,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),S(Bb.prototype,bg,{_bindPoint:Do.prototype._bindPoint});const Eg=Bb;class Tg extends ma{constructor(e,t){super(e,t),this.category=e.category}createHighlight(){const e=this.options.highlight,t=e.border,n=this.options.markers,i=this.box.center(),o=(n.size+n.border.width+t.width)/2,r=new Ze,a=new yo(new Ms([i.x,i.y+o/5+t.width/2],o+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),l=new yo(new Ms([i.x,i.y],o),{stroke:{color:t.color||new Pi(n.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return r.append(a,l),r}}Tg.prototype.defaults=S({},Tg.prototype.defaults,{labels:{position:ue},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Tg.prototype.defaults.highlight.zIndex=void 0;const yP=Tg;class vP extends Eg{_initFields(){this._maxSize=kt,super._initFields()}addValue(e,t){null!==e.size&&(e.size>0||e.size<0&&t.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),super.addValue(e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null))}reflow(e){this.updateBubblesSize(e),super.reflow(e)}pointType(){return yP}createPoint(e,t){const n=t.series,o=t.pointIx*(Is/n.data.length),r={delay:o,duration:Is-o,type:Ql};let a=t.color||n.color;e.size<0&&n.negativeValues.visible&&(a=re(n.negativeValues.color,a));let l=S({labels:{animation:{delay:o,duration:Is-o}}},this.pointOptions(n,t.seriesIx),{markers:{type:oi,border:n.border,opacity:n.opacity,animation:r}});l=this.evalPointOptions(l,e,t),ot(n.color)&&(a=l.color),l.markers.background=a;const c=new yP(e,l);return c.color=a,this.append(c),c}updateBubblesSize(e){const{options:{series:t}}=this,n=Math.min(e.width(),e.height());for(let i=0;i<t.length;i++){const o=t[i],r=this.seriesPoints[i],c=(o.minSize||Math.max(.02*n,10))/2,u=(o.maxSize||.2*n)/2,h=Math.PI*c*c,p=(Math.PI*u*u-h)/this._maxSize;for(let g=0;g<r.length;g++){const y=r[g];if(y){const x=Math.abs(y.value.size)*p,w=Math.sqrt((h+x)/Math.PI),A=re(y.options.zIndex,0)+(1-w/u);S(y.options,{zIndex:A,markers:{size:2*w,zIndex:A},labels:{zIndex:A+1}})}}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)}createAnimation(){}createVisual(){}}O(vP,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const gq=vP;class xP extends mr{}S(xP.prototype,fi);const mq=xP;class Rh extends Oe{constructor(e,t){super(t),this.aboveAxis=this.options.aboveAxis,this.color=t.color||Te,this.value=e}render(){const e=this.options;this._rendered||(this._rendered=!0,P(this.value.target)&&(this.target=new mq({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:Ee,align:ke}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())}reflow(e){this.render();const{options:t,target:n,owner:i}=this,o=t.invertAxes,r=i.seriesValueAxis(this.options),a=i.categorySlot(i.categoryAxis,t.categoryIx,r),l=r.getSlot(this.value.target),c=o?l:a,u=o?a:l;if(n){const h=new V(c.x1,u.y1,c.x2,u.y2);n.options.height=o?h.height():t.target.line.width,n.options.width=o?t.target.line.width:h.width(),n.reflow(h)}this.note&&this.note.reflow(e),this.box=e}createVisual(){super.createVisual();const e=this.options,t=ee.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:re(e.border.opacity,e.opacity)}),this.bodyVisual=t,Ss(t),this.visual.append(t)}createAnimation(){this.bodyVisual&&(this.animation=ss.create(this.bodyVisual,this.options.animation))}createHighlight(e){return ee.fromRect(this.box.toRect(),e)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(e){return this.owner.formatPointValue(this,e)}}Rh.prototype.tooltipAnchor=Nb.prototype.tooltipAnchor,O(Rh,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),S(Rh.prototype,fi),S(Rh.prototype,lc);const yq=Rh;class Vb extends Do{constructor(e,t){(function vq(s){const e=s.series;for(let t=0;t<e.length;t++){const n=e[t],i=n.data;i&&!Qt(i[0])&&!ri(i[0])&&(n.data=[i])}})(t),super(e,t)}reflowCategories(e){const t=this.children,n=t.length;for(let i=0;i<n;i++)t[i].reflow(e[i])}plotRange(e){const n=this.seriesValueAxis(e.series),i=this.categoryAxisCrossingValue(n);return[i,e.value.current||i]}createPoint(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t,{options:a,children:l}=this,c=e.valueFields;let u=S({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),h=e.fields.color||o.color;u=this.evalPointOptions(u,c,i,n,o,r),ot(o.color)&&(h=u.color);const d=new yq(c,u);d.color=h;let f=l[n];return f||(f=new Sg({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(d),d}updateRange(e,t){const{current:n,target:i}=e,o=t.series.axis;let r=this.valueAxisRanges[o];P(n)&&!isNaN(n)&&P(i&&!isNaN(i))&&(r=this.valueAxisRanges[o]=r||{min:mt,max:kt},r.min=Math.min(r.min,n,i),r.max=Math.max(r.max,n,i))}formatPointValue(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)}pointValue(e){return e.valueFields.current}aboveAxis(e){return e.value.current>0}createAnimation(){const e=this.points;this._setAnimationOptions();for(let t=0;t<e.length;t++){const n=e[t];n.options.animation=this.options.animation,n.createAnimation()}}}Vb.prototype._setAnimationOptions=Ph.prototype._setAnimationOptions,O(Vb,{animation:{type:di}});const xq=Vb;class _P extends W{constructor(e,t){super(),this.chartService=e,this.options=S({},this.options,t)}getStyle(e,t){let{background:n,border:{color:i}}=e;if(t){const r=t.color||t.options.color;n=re(n,r),i=re(i,r)}const o=Be(e.padding||{},"auto");return{backgroundColor:n,borderColor:i,font:e.font,color:e.color,opacity:e.opacity,borderWidth:jl(e.border.width),paddingTop:jl(o.top),paddingBottom:jl(o.bottom),paddingLeft:jl(o.left),paddingRight:jl(o.right)}}show(e,t,n){e.format=t.format;const i=this.getStyle(t,n);e.style=i;const o=new Pi(i.backgroundColor);!P(t.color)&&!o.isDark()&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify(XI,e),this.visible=!0}hide(){this.chartService&&this.chartService.notify(ZI),this.visible=!1}destroy(){delete this.chartService}}O(_P,{border:{width:1},opacity:1});const zb=_P;class bP extends zb{constructor(e,t,n){super(e,n),this.crosshair=t,this.formatService=e.format,this.initAxisName()}initAxisName(){const e=this.crosshair.axis;let n;n=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=n}showAt(e){const{crosshair:{axis:t},options:n}=this;let i=t[n.stickyMode?"getCategory":"getValue"](e),o=i;n.format?o=this.formatService.auto(n.format,i):t.options.type===cr&&(o=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],i)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(ZI,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:e,options:{position:t,padding:n}}=this,i=!e.axis.options.vertical,o=e.line.bbox();let r,a,l;return i?(r=ue,t===Re?(a=Ee,l=o.bottomLeft().translate(0,n)):(a=Re,l=o.topLeft().translate(0,-n))):(a=ue,t===we?(r=ke,l=o.topLeft().translate(-n,0)):(r=we,l=o.topRight().translate(n,0))),{point:l,align:{horizontal:r,vertical:a}}}}O(bP,{padding:10});const _q=bP;class wP extends Oe{constructor(e,t,n){super(n),this.axis=t,this.stickyMode=t instanceof _o;const i=this.options.tooltip;i.visible&&(this.tooltip=new _q(e,this,S({},i,{stickyMode:this.stickyMode})))}showAt(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:e,point:t}=this,n=e.options.vertical,i=this.getBox(),o=n?K:q,r=new N(i.x1,i.y1);let a;if(a=n?new N(i.x2,i.y1):new N(i.x1,i.y2),t)if(this.stickyMode){const l=e.getSlot(e.pointCategoryIndex(t));r[o]=a[o]=l.center()[o]}else r[o]=a[o]=t[o];this.box=i,this.line.moveTo(r).lineTo(a)}getBox(){const e=this.axis,t=e.pane.axes,n=t.length,i=e.options.vertical,o=e.lineBox().clone(),r=i?q:K;let a;for(let l=0;l<n;l++){const c=t[l];c.options.vertical!==i&&(a?a.wrap(c.lineBox()):a=c.lineBox().clone())}return o[r+1]=a[r+1],o[r+2]=a[r+2],o}createVisual(){super.createVisual();const e=this.options;this.line=new ee({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}O(wP,{color:gt,width:2,zIndex:-1,tooltip:{visible:!1}});const bq=wP;class CP extends Oe{constructor(e,t){super(e),this.pane=t}shouldClip(){const e=this.children,t=e.length;for(let n=0;n<t;n++)if(!0===e[n].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new Ze({zIndex:0}),this.shouldClip()){const t=(this.clipBox=this._clipBox()).toRect(),n=ee.fromRect(t);Ss(n),this.visual.clip(n),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:e,clipBox:t}=this;for(let n=0;n<e.length;n++){const i=e[n].points||{},o=i.length;for(let r=0;r<o;r++){const a=i[r];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(t))if(a.unclipElements)a.unclipElements();else{const{label:l,note:c}=a;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(t),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}CP.prototype.isStackRoot=!0;const wq=CP;class Nh extends ua{constructor(e){super(e),this.id=function Sq(){return"pane"+Cq++}(),this.createTitle(),this.content=new Oe,this.chartContainer=new wq({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let e=this.options.title;ri(e)&&(e=S({},e,{align:e.position,position:Ee})),this.title=Wp.buildTitle(e,Nh.prototype.options.title),this.title&&this.append(this.title)}appendAxis(e){this.content.append(e),this.axes.push(e),e.pane=this}appendAxisAt(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this}appendChart(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this}empty(){const e=this.parent;if(e){for(let t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(let t=0;t<this.charts.length;t++)e.removeChart(this.charts[t])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(e){let t;yt(this.children)===this.content&&(t=this.children.pop()),super.reflow(e),t&&this.children.push(t),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const e=super.visualStyle();return e.zIndex=-10,e}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const e=this.axes,t=e.concat(this.parent.axes),n=[],i=[];for(let o=0;o<e.length;o++){const r=e[o],a=r.options.vertical,l=a?n:i;for(let c=0;c<t.length;c++)if(0===l.length){const u=t[c];a!==u.options.vertical&&ra(l,r.createGridLines(u))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const e=this.axes,t=e.length,n=new V;for(let i=0;i<t;i++){const o=e[i],r=o.options.vertical?K:q,a=o.lineBox();n[r+1]=a[r+1],n[r+2]=a[r+2]}if(0===n.x2){const i=this.parent.axes,o=i.length;for(let r=0;r<o;r++){const a=i[r];if(!a.options.vertical){const l=a.lineBox();n.x1=l.x1,n.x2=l.x2}}}return n}clipBox(){return this.chartContainer.clipBox}notifyRender(){const e=this.getService();e&&e.notify("paneRender",{pane:new cb(this),index:this.paneIndex,name:this.options.name})}}let Cq=1;Nh.prototype.isStackRoot=!0,O(Nh,{zIndex:-1,shrinkToFit:!0,title:{align:we},visible:!0});const Dq=Nh;function Ag(s,e){null!==e&&s.push(e)}function Eq(s,e,t){const n=e.visible;if(P(n))return n;const i=s.pointVisibility;return i?i[t]:void 0}function SP(s){const e=s.data,t=[];let n=0,i=0;for(let o=0;o<e.length;o++){const r=vt.current.bindPoint(s,o);let a=r.valueFields.value;ho(a)&&(a=parseFloat(a)),pe(a)?(r.visible=!1!==Eq(s,r.fields,o),r.value=Math.abs(a),t.push(r),r.visible&&(n+=r.value),0!==a&&i++):t.push(null)}return{total:n,points:t,count:i}}function _r(s,e){return s&&e?s.toLowerCase()===e.toLowerCase():s===e}function xt(s,e){const t=[],n=[].concat(e);for(let i=0;i<s.length;i++){const o=s[i];ye(o.type,n)&&t.push(o)}return t}function DP(s,e,t){if(null===e)return e;const n="_date_"+s;let i=e[n];return i||(i=ln(t,fo(s)(e)),e[n]=i),i}function EP(s,e){const t=s.type,n=e instanceof Date;return!t&&n||_r(t,cr)}function hc(s){return 1===s.length?s[0]:s}const Tq=/area/i;function Hb(s,e){const n=vt.current.bindPoint(s,null,e).valueFields;for(let i in n)if(qM(n[i]))return!0}function TP({start:s,dir:e,min:t,max:n,getter:i,hasItem:o,series:r}){let a,l,c=s;do{c+=e,o(c)&&(l=i(c),a=Hb(r,l.item))}while(t<=c&&c<=n&&!a);if(a)return l}function AP(s,e,t,n,i){const{min:o,max:r}=e,a=o>0&&o<t,l=r+1<t;if(a||l){const c=function Aq(s){return s.missingValues?s.missingValues:Tq.test(s.type)||s.stack?wo:Xl}(s);let u,h;if(c!==Xl)a&&(u=n(o-1)),l&&(h=n(r+1));else{let d,f;a&&(d=n(o-1),f=Hb(s,d.item),u=f?d:TP({start:o,dir:-1,min:0,max:t-1,getter:n,hasItem:i,series:s})),l&&(d=n(r+1),f=Hb(s,d.item),h=f?d:TP({start:r,dir:1,min:0,max:t-1,getter:n,hasItem:i,series:s}))}u&&(s._outOfRangeMinPoint=u),h&&(s._outOfRangeMaxPoint=h)}}class MP extends Oe{constructor(e,t,n){super(t),this.initFields(e,t),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=n,this.originalOptions=t,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const e=this.series;for(let t=0;t<e.length;t++)e[t].index=t}createPanes(){const e=this.options.title||{},t=this.options.paneDefaults,n=this.options.panes||[],i=Math.max(n.length,1),o=[],r=S({title:{color:e.color}},t);for(let a=0;a<i;a++){const l=S({},r,n[a]);ho(l.title)&&(l.title=S({text:l.title},r.title));const c=new Dq(l);c.paneIndex=a,o.push(c),this.append(c)}this.panes=o}crosshairOptions(e){return e.options.crosshair}createCrosshairs(e=this.panes){for(let t=0;t<e.length;t++){const n=e[t];for(let i=0;i<n.axes.length;i++){const o=n.axes[i],r=this.crosshairOptions(o);if(r&&r.visible){const a=new bq(this.chartService,o,r);this.crosshairs.push(a),n.content.append(a)}}}}removeCrosshairs(e){const t=this.crosshairs,n=e.axes;for(let i=t.length-1;i>=0;i--)for(let o=0;o<n.length;o++)if(t[i].axis===n[o]){t.splice(i,1);break}}hideCrosshairs(){const e=this.crosshairs;for(let t=0;t<e.length;t++)e[t].hide()}findPane(e){const t=this.panes;let n;for(let i=0;i<t.length;i++)if(t[i].options.name===e){n=t[i];break}return n||t[0]}findPointPane(e){const t=this.panes;let n;for(let i=0;i<t.length;i++)if(t[i].box.containsPoint(e)){n=t[i];break}return n}appendAxis(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this}removeAxis(e){const t=[];for(let n=0;n<this.axes.length;n++){const i=this.axes[n];e!==i?t.push(i):i.destroy()}this.axes=t}appendChart(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)}removeChart(e){const t=[];for(let n=0;n<this.charts.length;n++){const i=this.charts[n];i!==e?t.push(i):i.destroy()}this.charts=t}addToLegend(e){const t=e.length,n=this.options.legend,i=n.labels||{},o=n.inactiveItems||{},r=o.labels||{},a=[];for(let l=0;l<t;l++){const c=e[l],u=!1!==c.visible;if(!1===c.visibleInLegend)continue;let h=c.name;const d=u?Jt(i):Jt(r)||Jt(i);d&&(h=d({text:os(h)?h:"",series:c}));const f=c._defaults;let g,y,p=c.color;ot(p)&&f&&(p=f.color),u?(g={},y=p):(g={color:r.color,font:r.font},y=o.markers.color),os(h)&&""!==h&&a.push({text:h,labels:g,markerColor:y,series:c,active:u})}ra(n.items,a)}groupAxes(e){const t=[],n=[];for(let i=0;i<e.length;i++){const o=e[i].axes;for(let r=0;r<o.length;r++){const a=o[r];a.options.vertical?n.push(a):t.push(a)}}return{x:t,y:n,any:t.concat(n)}}groupSeriesByPane(){const e=this.series,t={};for(let n=0;n<e.length;n++){const i=e[n],o=this.seriesPaneName(i);t[o]?t[o].push(i):t[o]=[i]}return t}filterVisibleSeries(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];!1!==i.visible&&t.push(i)}return t}reflow(e){const n=this.panes,i=Be(this.options.plotArea.margin);this.box=e.clone().unpad(i),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)}redraw(e){const t=[].concat(e);this.initSeries();const n=this.getRoot();n&&n.cleanGradients();for(let i=0;i<t.length;i++)this.removeCrosshairs(t[i]),t[i].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(let i=0;i<t.length;i++)t[i].refresh()}axisCrossingValues(e,t){const n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=t.length-i.length,r=i[0]||0;for(let a=0;a<o;a++)i.push(r);return i}alignAxisTo(e,t,n,i){const o=e.getSlot(n,n,!0),r=e.options.reverse?2:1,a=t.getSlot(i,i,!0),l=t.options.reverse?2:1,c=e.box.translate(a[q+l]-o[q+r],a[K+l]-o[K+r]);e.pane!==t.pane&&c.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(c)}alignAxes(e,t){const n=e[0],i=t[0],o=this.axisCrossingValues(n,t),r=this.axisCrossingValues(i,e),a={},l={},c={},u={};for(let h=0;h<t.length;h++){const d=t[h],f=d.pane,p=f.id,g=!1!==d.options.visible,y=Ub(e,f)||n;let x=o;y!==n&&(x=this.axisCrossingValues(y,t)),this.alignAxisTo(d,y,r[h],x[h]),!d.options._overlap&&(B(d.lineBox().x1)===B(y.lineBox().x1)&&(a[p]&&d.reflow(d.box.alignTo(a[p].box,we).translate(-d.options.margin,0)),g&&(a[p]=d)),B(d.lineBox().x2)===B(y.lineBox().x2)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,y,r[h],x[h]),l[p]&&d.reflow(d.box.alignTo(l[p].box,ke).translate(d.options.margin,0)),g&&(l[p]=d)),0!==h&&i.pane===d.pane&&(d.alignTo(i),d.reflow(d.box)))}for(let h=0;h<e.length;h++){const d=e[h],f=d.pane,p=f.id,g=!1!==d.options.visible,y=Ub(t,f)||i;let x=r;y!==i&&(x=this.axisCrossingValues(y,e)),this.alignAxisTo(d,y,o[h],x[h]),!d.options._overlap&&(B(d.lineBox().y1)===B(y.lineBox().y1)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,y,o[h],x[h]),c[p]&&d.reflow(d.box.alignTo(c[p].box,Ee).translate(0,-d.options.margin)),g&&(c[p]=d)),B(d.lineBox().y2,3)===B(y.lineBox().y2,3)&&(u[p]&&d.reflow(d.box.alignTo(u[p].box,Re).translate(0,d.options.margin)),g&&(u[p]=d)),0!==h&&(d.alignTo(n),d.reflow(d.box)))}}shrinkAxisWidth(e){const t=this.groupAxes(e).any,n=jb(t);let i=0;for(let o=0;o<e.length;o++){const r=e[o];r.axes.length>0&&(i=Math.max(i,n.width()-r.contentBox.width()))}if(0!==i)for(let o=0;o<t.length;o++){const r=t[o];r.options.vertical||r.reflow(r.box.shrink(i,0))}}shrinkAxisHeight(e){let t;for(let n=0;n<e.length;n++){const i=e[n],o=i.axes,r=Math.max(0,jb(o).height()-i.contentBox.height());if(0!==r){for(let a=0;a<o.length;a++){const l=o[a];l.options.vertical&&l.reflow(l.box.shrink(0,r))}t=!0}}return t}fitAxes(e){const t=this.groupAxes(e).any;let n=0;for(let i=0;i<e.length;i++){const o=e[i],r=o.axes,a=o.contentBox;if(r.length>0){const l=jb(r),c=Math.max(a.y1-l.y1,a.y2-l.y2);n=Math.max(n,a.x1-l.x1);for(let u=0;u<r.length;u++){const h=r[u];h.reflow(h.box.translate(0,c))}}}for(let i=0;i<t.length;i++){const o=t[i];o.reflow(o.box.translate(n,0))}}reflowAxes(e){const t=this.groupAxes(e);for(let n=0;n<e.length;n++)this.reflowPaneAxes(e[n]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))}autoRotateAxisLabels(e){const{panes:t}=this,n=Iq(t);let i;for(let o=0;o<n.length;o++)n[o].autoRotateLabels()&&(i=!0);if(i){for(let o=0;o<t.length;o++)this.reflowPaneAxes(t[o]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t))}}reflowPaneAxes(e){const t=e.axes,n=t.length;if(n>0)for(let i=0;i<n;i++)t[i].reflow(e.contentBox)}reflowCharts(e){const t=this.charts,n=t.length,i=this.box;for(let o=0;o<n;o++){const r=t[o].pane;(!r||ye(r,e))&&t[o].reflow(i)}}reflowPanes(){const{box:e,panes:t}=this,n=t.length;let i=e.height(),r=0,a=e.y1;for(let l=0;l<n;l++){const c=t[l],u=c.options.height;if(c.options.width=e.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){const h=parseInt(u,10)/100;c.options.height=h*e.height()}c.reflow(e.clone()),i-=c.options.height}else r++}for(let l=0;l<n;l++){const c=t[l];c.options.height||(c.options.height=i/r)}for(let l=0;l<n;l++){const c=t[l],u=e.clone().move(e.x1,a);c.reflow(u),a+=c.options.height}}backgroundBox(){const e=this.axes,t=e.length;let n;for(let i=0;i<t;i++){const o=e[i];for(let r=0;r<t;r++){const a=e[r];if(o.options.vertical!==a.options.vertical){const l=o.lineBox().clone().wrap(a.lineBox());n=n?n.wrap(l):l}}}return n||this.box}chartsBoxes(){const e=this.panes,t=[];for(let n=0;n<e.length;n++)t.push(e[n].chartsBox());return t}addBackgroundPaths(e){const t=this.chartsBoxes();for(let n=0;n<t.length;n++)e.paths.push(ee.fromRect(t[n].toRect()))}backgroundContainsPoint(e){const t=this.chartsBoxes();for(let n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0}createVisual(){super.createVisual();const e=this.options.plotArea;let{opacity:t,background:n,border:i={}}=e;(function kq(s){return""===s||null===s||"none"===s||"transparent"===s||!P(s)})(n)&&(n=Te,t=0);const o=this._bgVisual=new Ni({fill:{color:n,opacity:t},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)}pointsByCategoryIndex(e){const t=this.charts,n=[];if(null!==e)for(let i=0;i<t.length;i++){if("_navigator"===t[i].pane.options.name)continue;const r=t[i].categoryPoints[e];if(r&&r.length)for(let a=0;a<r.length;a++){const l=r[a];l&&P(l.value)&&null!==l.value&&n.push(l)}}return n}pointsBySeriesIndex(e){return this.filterPoints(function(t){return t.series.index===e})}pointsBySeriesName(e){return this.filterPoints(function(t){return t.series.name===e})}filterPoints(e){const t=this.charts,n=[];for(let i=0;i<t.length;i++){const r=t[i].points;for(let a=0;a<r.length;a++){const l=r[a];l&&!1!==l.visible&&e(l)&&n.push(l)}}return n}findPoint(e){const t=this.charts;for(let n=0;n<t.length;n++){const o=t[n].points;for(let r=0;r<o.length;r++){const a=o[r];if(a&&!1!==a.visible&&e(a))return a}}}paneByPoint(e){const t=this.panes;for(let n=0;n<t.length;n++){const i=t[n];if(i.box.containsPoint(e))return i}}detachLabels(){const e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)}detachAxisGroupLabels(e,t){let n=0;for(let i=0;i<e.length;i++){const o=e[i],r=o.pane,a=Ub(t,r)||t[0],c=this.createLabelAxis(o,i+n,a);if(c){n++;const u=r.axes.indexOf(o)+n;r.appendAxisAt(c,u)}}}createLabelAxis(e,t,n){const i=e.options.labels,o=i.position;if("end"!==o&&"start"!==o||!1===i.visible)return null;const l=this.groupAxes(this.panes),u=this.axisCrossingValues(n,n.options.vertical?l.x:l.y),h="end"===o,d=n.range(),f=h?d.max:d.min;if(Z(u[t],d.min,d.max)-f==0)return null;u.splice(t+1,0,f),n.options.axisCrossingValues=u;const g=e.clone();return e.clear(),g.options.name=void 0,g.options.line.visible=!1,g.options.crosshair=void 0,g.options.notes=void 0,g.options.plotBands=void 0,g}}function Mq(s){return!s.pane.axes.some(e=>e.options.vertical===s.options.vertical&&e!==s&&!1!==e.options.visible)}function jb(s){const e=s.length;let t;for(let n=0;n<e;n++){const i=s[n],o=!1!==i.options.visible;if(o||Mq(i)){const r=o?i.contentBox():i.lineBox();t?t.wrap(r):t=r.clone()}}return t||new V}function Ub(s,e){for(let t=0;t<s.length;t++){const n=s[t];if(n&&n.pane===e)return n}}const Iq=s=>s.reduce((e,t)=>e.concat(t.axes),[]);O(MP,{series:[],plotArea:{margin:{}},background:"",border:{color:gt,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const br=MP,Oh={hover:function(s,e){this._dispatchEvent(s,e,YI)},click:function(s,e){this._dispatchEvent(s,e,"plotAreaClick")}};function Rq(s,e,t){let n=e,i=s;if(s.indexOf(".")>-1){const o=s.split(".");for(;o.length>1;)i=o.shift(),P(n[i])||(n[i]={}),n=n[i];i=o.shift()}n[i]=t}const Nq=class Pq extends W{constructor(e,t,n){super();const i=t.canonicalFields(e),o=t.valueFields(e),r=t.sourceFields(e,i),a=this._seriesFields=[],l=n.query(e.type),c=e.aggregate||l;this._series=e,this._binder=t;for(let u=0;u<i.length;u++){const h=i[u];let d;if(ri(c))d=c[h];else{if(0!==u&&!ye(h,o))break;d=c}d&&a.push({canonicalName:h,name:r[u],transform:ot(d)?d:E9[d]})}}aggregatePoints(e,t){const{_series:n,_seriesFields:i}=this,o=this._bindPoints(e||[]),r=o.dataItems[0];let a={};if(r&&!pe(r)&&!Qt(r)){const l=function(){};l.prototype=r,a=new l}for(let l=0;l<i.length;l++){const c=i[l],u=this._bindField(o.values,c.canonicalName),h=c.transform(u,n,o.dataItems,t);if(!(null===h||!ri(h)||P(h.length)||h instanceof Date)){a=h;break}P(h)&&Rq(c.name,a,h)}return a}_bindPoints(e){const{_binder:t,_series:n}=this,i=[],o=[];for(let r=0;r<e.length;r++){const a=e[r];i.push(t.bindPoint(n,a)),o.push(n.data[a])}return{values:i,dataItems:o}}_bindField(e,t){const n=[],i=e.length;for(let o=0;o<i;o++){const r=e[o],a=r.valueFields;let l;l=P(a[t])?a[t]:r.fields[t],n.push(l)}return n}};class $b extends W{constructor(){super(),this._defaults={}}register(e,t){for(let n=0;n<e.length;n++)this._defaults[e[n]]=t}query(e){return this._defaults[e]}}$b.current=new $b;const ya=$b;class Gb extends Nb{createLabel(){const e=this.options.labels,t=S({},e,e.from),n=S({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))}_createLabel(e){const t=Jt(e),n=this.pointData();let i;return i=t?t(n):this.formatValue(e.format),new lP(i,S({vertical:this.options.vertical},e),n)}reflow(e){this.render();const{labelFrom:t,labelTo:n,value:i}=this;this.box=e,t&&(t.options.aboveAxis=i.from>i.to,t.reflow(e)),n&&(n.options.aboveAxis=i.to>i.from,n.reflow(e)),this.note&&this.note.reflow(e)}}Gb.prototype.defaults=S({},Gb.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const Oq=Gb;class kP extends Ph{pointType(){return Oq}pointValue(e){return e.valueFields}formatPointValue(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)}plotRange(e){return e?[e.value.from,e.value.to]:0}updateRange(e,t){const n=t.series.axis,{from:i,to:o}=e;let r=this.valueAxisRanges[n];null!==e&&pe(i)&&pe(o)&&(r=this.valueAxisRanges[n]=r||{min:mt,max:kt},r.min=Math.min(r.min,i),r.max=Math.max(r.max,i),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}aboveAxis(e){const t=e.value;return t.from<t.to}}kP.prototype.plotLimits=Do.prototype.plotLimits;const Lq=kP,IP=class Fq extends ma{aliasFor(){return this.parent}};class Mg extends Oe{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=re(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:e,labels:t}=this.options,n=this.value,i=this.fromPoint=new IP(n,S({},this.options,{labels:t.from,markers:e.from})),o=this.toPoint=new IP(n,S({},this.options,{labels:t.to,markers:e.to}));this.copyFields(i),this.copyFields(o),this.append(i),this.append(o)}reflow(e){this.render();const{from:t,to:n}=e;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const e=new Ze;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}tooltipAnchor(){const e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){const n=this.box,i=n.center(),o=we;let r,a,l;return this.options.vertical?(r=i.x,a=n.y1-5,l=Re):(r=n.x2+5,a=i.y,l=ue),{point:new ne(r,a),align:{horizontal:o,vertical:l}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const e=this.options.labels;e.format||((!e.from||!e.from.format)&&(e.from=Object.assign({},e.from,{format:"{0}"})),(!e.to||!e.to.format)&&(e.to=Object.assign({},e.to,{format:"{1}"})))}positionLabels(e,t){const{labels:n,vertical:i}=this.options;if("auto"===n.position){let o,r;i?t.y1<=e.y1?(r=hg,o=fb):(r=fb,o=hg):t.x1<=e.x1?(r=we,o=ke):(r=ke,o=we),(!n.from||!n.from.position)&&(this.fromPoint.options.labels.position=o),(!n.to||!n.to.position)&&(this.toPoint.options.labels.position=r)}}copyFields(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}}S(Mg.prototype,fi),S(Mg.prototype,lc),Mg.prototype.defaults={markers:{visible:!1,background:Te,size:8,type:oi,border:{width:2},opacity:1},labels:{visible:!1,margin:Be(3),padding:Be(4),animation:{type:yr,delay:Is},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:Te,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const RP=Mg,Wb=class zq extends uc{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e}createStroke(e){const t=new ee(e),n=new ee(e);t.segments.push.apply(t.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(t),this.visual.append(n)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(e=>e.fromPoint)}toPoints(){return this.linePoints.map(e=>e.toPoint)}},jq=class Hq extends Wb{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e}createCurveSegments(e){return(new ag).process(this.toGeometryPoints(e))}};class NP extends Wb{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),e.reverse()),e}}S(NP.prototype,Tb);const Uq=NP;class OP extends Do{render(){super.render(),this.renderSegments()}pointType(){return RP}createPoint(e,t){const{categoryIx:n,category:i,series:o,seriesIx:r}=t;let a=e.valueFields;if(!os(a.from)&&!os(a.to)){if(this.seriesMissingValues(o)!==wo)return null;a={from:0,to:0}}let l=this.pointOptions(o,r);l=this.evalPointOptions(l,a,i,n,o,r);let c=e.fields.color||o.color;ot(o.color)&&(c=l.color);const u=new RP(a,l);return u.color=c,this.append(u),u}createSegment(e,t,n){const i=(t.line||{}).style;let o;return o="smooth"===i?jq:"step"===i?Uq:Wb,new o(e,t,n)}plotRange(e,t){return e?[e.value.from,e.value.to]:[t,t]}valueSlot(e,t){const n=e.getSlot(t[0],t[0],!this.options.clip),i=e.getSlot(t[1],t[1],!this.options.clip);if(n&&i)return{from:n,to:i}}pointSlot(e,t){const{from:n,to:i}=t;let o,r;return this.options.invertAxes?(o=new V(n.x1,e.y1,n.x2,e.y2),r=new V(i.x1,e.y1,i.x2,e.y2)):(o=new V(e.x1,n.y1,e.x2,n.y2),r=new V(e.x1,i.y1,e.x2,i.y2)),{from:o,to:r}}addValue(e,t){const n=e.valueFields;pe(n.from)||(n.from=n.to),pe(n.to)||(n.to=n.from),super.addValue(e,t)}updateRange(e,t){if(null!==e&&pe(e.from)&&pe(e.to)){const n=t.series.axis,i=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:mt,max:kt},{from:o,to:r}=e;i.min=Math.min(i.min,o,r),i.max=Math.max(i.max,o,r)}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.from,n.to)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++){const i=e[n];i&&(t.push((i.fromPoint||{}).marker),t.push((i.toPoint||{}).marker))}return t.concat(this._segments)}}S(OP.prototype,Mb,bg);const $q=OP,Wq=class Gq extends Ob{reflow(e){const{options:t,value:n,owner:i}=this,o=i.seriesValueAxis(t),r=[],a=[],l=[],c=o.getSlot(n.low,n.high),u=o.getSlot(n.open,n.open),h=o.getSlot(n.close,n.close);u.x1=h.x1=c.x1=e.x1,u.x2=h.x2=c.x2=e.x2;const d=c.center().x;r.push([u.x1,u.y1]),r.push([d,u.y1]),a.push([d,h.y1]),a.push([h.x2,h.y1]),l.push([d,c.y1]),l.push([d,c.y2]),this.lines=[r,a,l],this.box=c.clone().wrap(u.clone().wrap(h)),this.reflowNote()}createBody(){}},Kq=class qq extends Lb{pointType(){return Wq}};class LP extends Oe{constructor(e,t,n){super(),this.from=e,this.to=t,this.series=n}linePoints(){const e=this.from,{from:{box:t},to:{box:n}}=this,i=[];if(e.isVertical){const o=e.aboveAxis?t.y1:t.y2;i.push([t.x1,o],[n.x2,o])}else{const o=e.aboveAxis?t.x2:t.x1;i.push([o,t.y1],[o,n.y2])}return i}createVisual(){super.createVisual();const e=this.series.line||{},t=ee.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});Ss(t),this.visual.append(t)}}O(LP,{animation:{type:yr,delay:Is}});const Yq=LP,Zq=class Xq extends Ph{render(){super.render(),this.createSegments()}traverseDataPoints(e){const t=this.options.series,n=Db(t),i=!this.options.invertAxes;for(let o=0;o<t.length;o++){const r=t[o];let a=0,l=0;for(let c=0;c<n;c++){const u=vt.current.bindPoint(r,c),h=u.valueFields.value,d=u.fields.summary;let p,f=a;d?"total"===d.toLowerCase()?(u.valueFields.value=a,f=0,p=a):(u.valueFields.value=l,p=f-l,l=0):pe(h)&&(l+=h,a+=h,p=a),e(u,{category:this.categoryAxis.categoryAt(c),categoryIx:c,series:r,seriesIx:o,total:a,runningTotal:l,from:f,to:p,isVertical:i})}}}updateRange(e,t){super.updateRange({value:t.to},t)}aboveAxis(e){return e.value>=0}plotRange(e){return[e.from,e.to]}createSegments(){const e=this.options.series,t=this.seriesPoints,n=this.segments=[];for(let i=0;i<e.length;i++){const o=e[i],r=t[i];if(r){let a;for(let l=0;l<r.length;l++){const c=r[l];if(c&&a){const u=new Yq(a,c,o);n.push(u),this.append(u)}a=c}}}}},qb=[_h,nc,Sh,oc],FP=[wh,ic].concat(qb);class Kb extends br{initFields(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new wg,e.length>0){this.invertAxes=ye(e[0].type,[di,vr,ic,nc,oc,tc,ec,sc]);for(let t=0;t<e.length;t++){const n=e[t].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}}render(e=this.panes){this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e instanceof _o?delete this.namedCategoryAxes[t]:(this.valueAxisRangeTracker.reset(t),delete this.namedValueAxes[t]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis}createCharts(e){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const i=e[n],o=t[i.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);if(!r)continue;const a=this.groupSeriesByCategoryAxis(r);for(let l=0;l<a.length;l++)this.createChartGroup(a[l],i)}}createChartGroup(e,t){this.createAreaChart(xt(e,[_h,nc]),t),this.createRangeAreaChart(xt(e,[Sh,oc]),t),this.createBarChart(xt(e,[Co,di]),t),this.createRangeBarChart(xt(e,[Dh,tc]),t),this.createBulletChart(xt(e,[vr,Eh]),t),this.createCandlestickChart(xt(e,Jl),t),this.createBoxPlotChart(xt(e,[bh,sc]),t),this.createOHLCChart(xt(e,Ch),t),this.createWaterfallChart(xt(e,[Th,ec]),t),this.createLineChart(xt(e,[wh,ic]),t)}aggregateCategories(e){const t=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let i=0;i<t.length;i++){let o=t[i];const r=this.seriesCategoryAxis(o),a=this.findPane(r.options.pane);o=(_r(r.options.type,cr)||o.categoryField)&&ye(a,e)?this.aggregateSeries(o,r):this.filterSeries(o,r),n.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=n}filterSeries(e,t){const n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!pe(t.options.min)&&!pe(t.options.max))return e;const i=t.currentRangeIndices(),o=ye(e.type,FP),r=S({},e);return r.data=(r.data||[]).slice(i.min,i.max+1),o&&AP(r,i,n,a=>({item:e.data[a],category:t.categoryAt(a,!0),categoryIx:a-i.min}),a=>P(e.data[a])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(e,t){const n=`${e.index};${t.categoriesHash()}`;if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];const i=t.options,o=i.srcCategories,r=_r(i.type,cr),a=e.data,l=r?DP:lg,c=[];r||t.mapCategories();for(let u=0;u<a.length;u++){let h;if(h=e.categoryField?l(e.categoryField,a[u],this.chartService.intl):o[u],P(h)&&null!==h){const d=t.totalIndex(h);c[d]=c[d]||{items:[],category:h},c[d].items.push(u)}}return this._currentPointsCache[n]=c,c}aggregateSeries(e,t){if(!e.data.length)return e;const i=this.seriesSourcePoints(e,t),o=S({},e),r=new Nq(S({},e),vt.current,ya.current),a=o.data=[],l=t.options.dataItems||[],c=t.currentRangeIndices(),u=h=>{const d=h-c.min;let f=i[h];if(f||(f=i[h]={}),f.categoryIx=d,!f.item){const p=t.categoryAt(h,!0);f.category=p,f.item=r.aggregatePoints(f.items,p)}return f};for(let h=c.min;h<=c.max;h++){const d=u(h);a[d.categoryIx]=d.item,d.items&&d.items.length&&(l[d.categoryIx]=d.item)}return ye(o.type,FP)&&AP(o,c,t.totalCount(),u,h=>i[h]),t.options.dataItems=l,o}appendChart(e,t){const n=e.options.series,i=this.seriesCategoryAxis(n[0]);let o=i.options.categories,r=Math.max(0,Db(n)-o.length);if(r>0)for(o=i.options.categories=i.options.categories.slice(0);r--;)o.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),super.appendChart(e,t)}seriesPaneName(e){const t=this.options,n=e.axis;return(es([].concat(t.valueAxis),function(c){return c.name===n})[0]||{}).pane||((t.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(e){const t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n}stackableChartOptions(e,t){const n=e.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:t.options.clip}}groupSeriesByCategoryAxis(e){const t=[],n={};for(let o=0;o<e.length;o++){const r=e[o].categoryAxis||"$$default$$";n.hasOwnProperty(r)||(n[r]=!0,t.push(r))}const i=[];for(let o=0;o<t.length;o++){const a=Qq(e,t[o],o);0!==a.length&&i.push(a)}return i}createBarChart(e,t){if(0===e.length)return;const n=e[0],i=new Ph(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,t)));this.appendChart(i,t)}createRangeBarChart(e,t){if(0===e.length)return;const n=e[0],i=new Lq(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(i,t)}createBulletChart(e,t){if(0===e.length)return;const n=e[0],i=new xq(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}createLineChart(e,t){if(0===e.length)return;const i=new Ib(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(i,t)}createAreaChart(e,t){if(0===e.length)return;const i=new oq(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(i,t)}createRangeAreaChart(e,t){if(0===e.length)return;const n=new $q(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}createOHLCChart(e,t){if(0===e.length)return;const n=e[0],i=new Kq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}createCandlestickChart(e,t){if(0===e.length)return;const n=e[0],i=new Lb(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}createBoxPlotChart(e,t){if(0===e.length)return;const n=e[0],i=new dq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}createWaterfallChart(e,t){if(0===e.length)return;const n=e[0],i=new Zq(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(i,t)}axisRequiresRounding(e,t){const n=xt(this.series,qI);for(let i=0;i<this.series.length;i++){const o=this.series[i];if(ye(o.type,qb)){const r=o.line;r&&r.style===xh&&n.push(o)}}for(let i=0;i<n.length;i++){const o=n[i].categoryAxis||"";if(o===e||!o&&0===t)return!0}}aggregatedAxis(e,t){const n=this.series;for(let i=0;i<n.length;i++){const o=n[i].categoryAxis||"";if((o===e||!o&&0===t)&&n[i].categoryField)return!0}}createCategoryAxesLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t]instanceof _o&&e[t].createLabels()}createCategoryAxes(e){const t=this.invertAxes,n=[].concat(this.options.categoryAxis),i=[];for(let r=0;r<n.length;r++){let a=n[r];if(ye(this.findPane(a.pane),e)){const{name:c,categories:u=[]}=a;let h;if(a=S({vertical:t,reverse:!t&&this.chartService.rtl,axisCrossingValue:t?mt:0},a),P(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(c,r)&&(a.justified=!1),h=EP(a,u[0])?new yh(a,this.chartService):new _o(a,this.chartService),n[r].categories=h.options.srcCategories,c){if(this.namedCategoryAxes[c])throw new Error(`Category axis with name ${c} is already defined`);this.namedCategoryAxes[c]=h}h.axisIndex=r,i.push(h),this.appendAxis(h)}}const o=this.categoryAxis||i[0];this.categoryAxis=o,t?this.axisY=o:this.axisX=o}isJustified(){const e=this.series;for(let t=0;t<e.length;t++)if(!ye(e[t].type,qb))return!1;return!0}createValueAxes(e){const t=this.valueAxisRangeTracker,n=t.query(),i=[].concat(this.options.valueAxis),o=this.invertAxes,r={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let c=0;c<i.length;c++){const u=i[c];if(ye(this.findPane(u.pane),e)){const d=u.name,f=_r(u.type,yg)?{min:.1,max:1}:{min:0,max:1},p=t.query(d)||n||f;let g;0===c&&p&&n&&(p.min=Math.min(p.min,n.min),p.max=Math.max(p.max,n.max)),g=_r(u.type,yg)?og:ks;const y=new g(p.min,p.max,S({},r,u),this.chartService);if(d){if(this.namedValueAxes[d])throw new Error(`Value axis with name ${d} is already defined`);this.namedValueAxes[d]=y}y.axisIndex=c,a.push(y),this.appendAxis(y)}}const l=this.valueAxis||a[0];this.valueAxis=l,o?this.axisX=l:this.axisY=l}_dispatchEvent(e,t,n){const i=e._eventCoordinates(t),o=new ne(i.x,i.y),r=this.pointPane(o),a=[],l=[];if(!r)return;const c=r.axes;for(let u=0;u<c.length;u++){const h=c[u];h.getValue?Ag(l,h.getValue(o)):Ag(a,h.getCategory(o))}0===a.length&&Ag(a,this.categoryAxis.getCategory(o)),a.length>0&&l.length>0&&e.trigger(n,{element:li(t),originalEvent:t,category:hc(a),value:hc(l)})}pointPane(e){const t=this.panes;for(let n=0;n<t.length;n++){const i=t[n];if(i.contentBox.containsPoint(e))return i}}updateAxisOptions(e,t){BP(this.options,e,t),BP(this.originalOptions,e,t)}}function BP(s,e,t){S([].concat(e instanceof _o?s.categoryAxis:s.valueAxis)[e.axisIndex],t)}function Qq(s,e,t){return es(s,function(n){return 0===t&&!n.categoryAxis||n.categoryAxis===e})}O(Kb,{categoryAxis:{},valueAxis:{}}),S(Kb.prototype,Oh);const va=Kb;function VP(s){return"function"==typeof s}function zP(s){return"string"==typeof s?[s]:s}function e7(){this._defaultPrevented=!0}function t7(){return!0===this._defaultPrevented}const n7=class Jq extends W{constructor(){super(),this._events={}}bind(e,t,n){const i=zP(e),o=VP(t),r=i.length;if(void 0===t){for(let a in e)this.bind(a,e[a]);return this}for(let a=0;a<r;a++){const l=i[a];let c=o?t:t[l];if(c){if(n){const h=c;c=()=>{this.unbind(l,c),h.apply(this,arguments)},c.original=h}(this._events[l]=this._events[l]||[]).push(c)}}return this}one(e,t){return this.bind(e,t,!0)}first(e,t){const n=zP(e),i=VP(t);for(let o=0,r=n.length;o<r;o++){const a=n[o],l=i?t:t[a];l&&(this._events[a]=this._events[a]||[]).unshift(l)}return this}trigger(e,t={}){let n=this._events[e];if(n){const i=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=e7,t.isDefaultPrevented=t7,n=n.slice();for(let o=0;o<i;o++)n[o].call(this,t);return!0===t._defaultPrevented}return!1}unbind(e,t){const n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(let i=n.length-1;i>=0;i--)(n[i]===t||n[i].original===t)&&n.splice(i,1);else this._events[e]=[];return this}},s7=["click","mouseenter","mouseleave","mousemove","resize"],Yb=class i7 extends n7{constructor(e,t){super(),this.options=Object.assign({},t),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Ze,sh(e,this.options),this.bind(s7,this.options),this._enableTracking()}draw(e){this._visual.children.push(e)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(e){let n,t=sk(e);for(;!n&&t&&(n=t._kendoNode,t!==this.element);)t=t.parentElement;if(n)return n.srcElement}exportVisual(){return this._visual}getSize(){return sh(this.element)}currentSize(e){if(!e)return this._size;this._size=e}setSize(e){sh(this.element,e),this.currentSize(e),this._resize()}resize(e){const t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}size(e){if(!e)return this.getSize();this.setSize(e)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(e){return t=>{const n=this.eventTarget(t);n&&!this._suspendedTracking&&this.trigger(e,{element:n,originalEvent:t,type:e})}}_elementOffset(){const e=this.element,t=ak(e),{left:n,top:i}=ok(e);return{left:n+t.left,top:i+t.top}}_surfacePoint(e){const t=this._elementOffset(),n=nk(e),i=n.x-t.left,o=n.y-t.top,r=ck(this.element).invert();return new N(i,o).transform(r)}},Lh=class o7 extends W{constructor(e){super(),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const e=this.childNodes;for(let t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(e){this.childNodes.push(e),e.parent=this}insertAt(e,t){this.childNodes.splice(t,0,e),e.parent=this}remove(e,t){const n=e+t;for(let i=e;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(e,t)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}};function xa(s,e){return te(e)&&null!==e?` ${s}="${e}" `:""}function _a(s){let e="";for(let t=0;t<s.length;t++)e+=xa(s[t][0],s[t][1]);return e}function HP(s){let e="";for(let t=0;t<s.length;t++){let n=s[t][1];te(n)&&(e+=s[t][0]+":"+n+";")}if(""!==e)return e}const Eo={},Fh="http://www.w3.org/2000/svg",kg="none";let jP=function(s,e){s.innerHTML=e};if(typeof document<"u"){const s="<svg xmlns='"+Fh+"'></svg>",e=document.createElement("div"),t=typeof DOMParser<"u";e.innerHTML=s,t&&e.firstChild.namespaceURI!==Fh&&(jP=function(n,i){const r=(new DOMParser).parseFromString(i,"text/xml"),a=document.adoptNode(r.documentElement);n.innerHTML="",n.appendChild(a)})}const UP=jP,$P="transform",Ig={clip:"clip-path",fill:"fill"};function GP(s,e){return"clip"===s||"fill"===s&&(!e||"Gradient"===e.nodeType)}const wr=class a7 extends Lh{constructor(e,t){super(e),this.definitions={},this.options=t}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(e,t){for(let n=0;n<e.length;n++){const i=e[n],o=i.children,r=new Eo[i.nodeType](i,this.options);te(t)?this.insertAt(r,t):this.append(r),r.createDefinitions(),o&&o.length>0&&r.load(o);const a=this.element;a&&r.attachTo(a,t)}}root(){let e=this;for(;e.parent;)e=e.parent;return e}attachTo(e,t){const n=document.createElement("div");UP(n,"<svg xmlns='"+Fh+"' version='1.1'>"+this.render()+"</svg>");const i=n.firstChild.firstChild;i&&(te(t)?e.insertBefore(i,e.childNodes[t]||null):e.appendChild(i),this.setElement(i))}setElement(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;const t=this.childNodes;for(let n=0;n<t.length;n++)t[n].setElement(e.childNodes[n])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const e=this.childNodes;for(let t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}removeSelf(){if(this.element){const e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const e=this.childNodes;let t="";for(let n=0;n<e.length;n++)t+=e[n].render();return t}optionsChange(e){const{field:t,value:n}=e;"visible"===t?this.css("display",n?"":kg):Ig[t]&&GP(t,n)?this.updateDefinition(t,n):"opacity"===t?this.attr("opacity",n):"cursor"===t?this.css("cursor",n):"id"===t&&(n?this.attr("id",n):this.removeAttr("id")),super.optionsChange(e)}attr(e,t){this.element&&this.element.setAttribute(e,t)}allAttr(e){for(let t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}css(e,t){this.element&&(this.element.style[e]=t)}allCss(e){for(let t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}removeAttr(e){this.element&&this.element.removeAttribute(e)}mapTransform(e){const t=[];return e&&t.push([$P,"matrix("+e.matrix().toString(6)+")"]),t}renderTransform(){return _a(this.mapTransform(this.srcElement.transform()))}transformChange(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr($P)}mapStyle(){const e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display",kg]),t}renderStyle(){return xa("style",HP(this.mapStyle(!0)))}renderOpacity(){return xa("opacity",this.srcElement.options.opacity)}renderId(){return xa("id",this.srcElement.options.id)}createDefinitions(){const e=this.srcElement,t=this.definitions;if(e){const n=e.options;let i;for(let o in Ig){let r=n.get(o);r&&GP(o,r)&&(t[o]=r,i=!0)}i&&this.definitionChange({action:"add",definitions:t})}}definitionChange(e){this.parent&&this.parent.definitionChange(e)}updateDefinition(e,t){const n=this.definitions,i=n[e],o=Ig[e],r={};i&&(r[e]=i,this.definitionChange({action:"remove",definitions:r}),delete n[e]),t?(r[e]=t,this.definitionChange({action:"add",definitions:r}),n[e]=t,this.attr(o,this.refUrl(t.id))):i&&this.removeAttr(o)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return _a(this.mapDefinitions())}mapDefinitions(){const e=this.definitions,t=[];for(let n in e)t.push([Ig[n],this.refUrl(e[n].id)]);return t}refUrl(e){const t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return`url(${t?"":n}#${e})`}baseUrl(){return function r7(){const s=document.getElementsByTagName("base")[0];let e=document.location.href,t="";if(s&&!(Ul.browser||{}).msie){const n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),t=e}return t}()}},WP=class l7 extends wr{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return xa("offset",this.srcElement.offset())}mapStyle(){const e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}optionsChange(e){"offset"===e.field?this.attr(e.field,e.value):("color"===e.field||"opacity"===e.field)&&this.css("stop-"+e.field,e.value)}},qP=class c7 extends wr{constructor(e){super(e),this.id=e.id,this.loadStops()}loadStops(){const e=this.srcElement.stops,t=this.element;for(let n=0;n<e.length;n++){let i=new WP(e[n]);this.append(i),t&&i.attachTo(t)}}optionsChange(e){"gradient.stops"===e.field?(Lh.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return _a(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},KP=class u7 extends qP{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}},YP=class h7 extends qP{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}},XP=class d7 extends wr{constructor(e){super(),this.srcElement=e,this.id=e.id,this.load([e])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},ZP=class f7 extends wr{constructor(){super(),this.definitionMap={}}attachTo(e){this.element=e}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(e){const{definitions:t,action:n}=e;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}createDefinition(e,t){let n;return"clip"===e?n=XP:"fill"===e&&(t instanceof jp?n=KP:t instanceof Up&&(n=YP)),new n(t)}addDefinitions(e){for(let t in e)this.addDefinition(t,e[t])}addDefinition(e,t){const{element:n,definitionMap:i}=this,o=t.id,r=i[o];if(r)r.count++;else{const a=this.createDefinition(e,t);i[o]={element:a,count:1},this.append(a),n&&a.attachTo(this.element)}}removeDefinitions(e){for(let t in e)this.removeDefinition(e[t])}removeDefinition(e){const t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(this.childNodes.indexOf(i.element),1),delete t[n]))}},Zb=class p7 extends wr{constructor(e){super(),this.options=e,this.defs=new ZP}attachTo(e){this.element=e,this.defs.attachTo(e.firstElementChild)}clear(){Lh.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(e){this.defs.definitionChange(e)}},QP={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Qb="solid",g7={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Cr=class m7 extends wr{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:const t=g7[e.field];t&&this.attr(t,e.value)}super.optionsChange(e)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(e){const t=[];return e&&!oa(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),te(e.opacity)&&t.push(["stroke-opacity",e.opacity]),te(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",kg]),t}renderStroke(){return _a(this.mapStroke(this.srcElement.options.stroke))}renderDashType(e){const{dashType:t,width:n=1}=e;if(t&&t!==Qb){const i=QP[t.toLowerCase()],o=[];for(let r=0;r<i.length;r++)o.push(i[r]*n);return o.join(" ")}}renderLinecap(e){const{dashType:t,lineCap:n}=e;return t&&"solid"!==t?"butt":n}mapFill(e){const t=[];return e&&"Gradient"===e.nodeType||(e&&!oa(e.color)?(t.push(["fill",e.color]),te(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",kg])),t}renderFill(){return _a(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${xa("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}},eR=class y7 extends Cr{renderData(){return this.srcElement.toPath().toString(3)}},tR=class v7 extends Cr{geometryChange(){const e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderTransform()} ></circle>`}},nR=class x7 extends wr{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(e){"transform"===e.field&&this.transformChange(e.value),super.optionsChange(e)}},_7=/&/g,b7=/</g,w7=/"/g,C7=/'/g,S7=/>/g;function Jb(s){return String(s).replace(_7,"&amp;").replace(b7,"&lt;").replace(S7,"&gt;").replace(w7,"&quot;").replace(C7,"&#39;")}const sR=class D7 extends Cr{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(e){"src"===e.field&&this.allAttr(this.mapSource()),super.optionsChange(e)}mapPosition(){const e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}renderPosition(){return _a(this.mapPosition())}mapSource(e){let t=this.srcElement.src();return e&&(t=Jb(t)),[["xlink:href",t]]}renderSource(){return _a(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}></image>`}},iR=class E7 extends Cr{renderData(){return this.srcElement.toString(3)||"undefined"}},oR=class T7 extends Cr{geometryChange(){const e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.attr("rx",e.cornerRadius[0]),this.attr("ry",e.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},ew=/&(?:[a-zA-Z]+|#\d+);/g;function tw(s){if(!s||"string"!=typeof s||!ew.test(s))return s;const e=tw._element;return ew.lastIndex=0,s.replace(ew,t=>(e.innerHTML=t,e.textContent||e.innerText))}typeof document<"u"&&(tw._element=document.createElement("span"));const rR=class A7 extends Cr{geometryChange(){const e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}optionsChange(e){"font"===e.field?(this.attr("style",HP(this.mapStyle())),this.geometryChange()):"content"===e.field&&super.content(this.srcElement.content()),super.optionsChange(e)}mapStyle(e){const t=super.mapStyle(e);let n=this.srcElement.options.font;return e&&(n=Jb(n)),t.push(["font",n],["white-space","pre"]),t}pos(){const e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}renderContent(){let e=this.srcElement.content();return e=tw(e),e=Jb(e),x_(e)}renderTextAnchor(){let e;return(this.options||{}).rtl&&!(Ul.browser.msie||Ul.browser.edge)&&(e="end"),xa("text-anchor",e)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderFill()}>${this.renderContent()}</text>`}};Eo.Arc=eR,Eo.Circle=tR,Eo.Group=nR,Eo.Image=sR,Eo.MultiPath=iR,Eo.Path=Cr,Eo.Rect=oR,Eo.Text=rR;const aR=class I7 extends Yb{get type(){return"svg"}constructor(e,t){super(e,t),this._root=new Zb(Object.assign({rtl:"rtl"===wp(e,"direction").direction},this.options)),UP(this.element,this._template()),this._rootElement=this.element.firstElementChild,function k7(s){let e;try{e=s.getScreenCTM?s.getScreenCTM():null}catch{}if(e){const t=-e.e%1,n=-e.f%1,i=s.style;(0!==t||0!==n)&&(i.left=t+"px",i.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),y_(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,v_(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(e){const t=`${Math.round(e.x)} ${Math.round(e.y)} ${this._size.width} ${this._size.height}`;this._offset=e,this._rootElement.setAttribute("viewBox",t)}draw(e){super.draw(e),this._root.load([e])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:e,_offset:t}=this;if(t){const n=new Ze;n.children.push(e),n.transform(Ne().translate(-t.x,-t.y)),e=n}return e}_resize(){this._offset&&this.translate(this._offset)}_template(){return`<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='${Fh}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},To={};function Pg(s,e){const t=e.segments;if(0===t.length)return;let n=t[0],i=n.anchor();s.moveTo(i.x,i.y);for(let o=1;o<t.length;o++){n=t[o],i=n.anchor();let a=t[o-1].controlOut(),l=n.controlIn();a&&l?s.bezierCurveTo(a.x,a.y,l.x,l.y,i.x,i.y):s.lineTo(i.x,i.y)}e.options.closed&&s.closePath()}const nw=class P7 extends Lh{constructor(e){super(e),e&&this.initClip()}initClip(){const e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(e){this.clip&&(e.beginPath(),Pg(e,this.clip),e.clip())}optionsChange(e){"clip"===e.field&&(this.clearClip(),this.initClip()),super.optionsChange(e)}setTransform(e){if(this.srcElement){const t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}loadElements(e,t,n){for(let i=0;i<e.length;i++){let o=e[i],r=o.children,a=new To[o.nodeType](o,n);r&&r.length>0&&a.load(r,t,n),te(t)?this.insertAt(a,t):this.append(a)}}load(e,t,n){this.loadElements(e,t,n),this.invalidate()}setOpacity(e){if(this.srcElement){const t=this.srcElement.opacity();te(t)&&this.globalAlpha(e,t)}}globalAlpha(e,t){let n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}visible(){const e=this.srcElement;return!e||e&&!1!==e.options.visible}};class R7 extends(F_(nw,"childNodes")){renderTo(e){if(!this.visible())return;e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);const t=this.childNodes;for(let n=0;n<t.length;n++){let i=t[n];i.visible()&&i.renderTo(e)}e.restore()}}const sw=R7;function iw(s,e){let n,t=0;if(!e||e<=0)return s;const i=function(){const o=nh()-t,r=arguments,a=function(){s.apply(null,r),t=nh()};if(!t)return a();n&&clearTimeout(n),o>e?a():n=setTimeout(a,e-o)};return i.cancel=function(){clearTimeout(n)},i}class O7 extends(F_(sw,"childNodes")){constructor(e,t){super(),this.canvas=e,this.size=t,this.ctx=e.getContext("2d");const n=this._invalidate.bind(this);this.invalidate=iw(()=>{sI(n)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(e,t,n){this.loadElements(e,t,n),this._invalidate()}_rescale(e){const{canvas:t,size:n}=this;t.width=n.width*e,t.height=n.height*e,this.ctx.scale(e,e)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(e){if(!this.ctx)return;const n=e&&e.fixedScale?1:this._devicePixelRatio();this._rescale(n),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const lR=O7,cR=class L7 extends W{constructor(){super(),this.shapes=[]}_add(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}pointShapes(e){const t=this.shapes,n=t.length,i=[];for(let o=0;o<n;o++)t[o].bbox.containsPoint(e)&&i.push(t[o].shape);return i}insert(e,t){this._add(e,t)}remove(e){const t=this.shapes,n=t.length;for(let i=0;i<n;i++)if(t[i].shape===e){t.splice(i,1);break}}};class dc extends cR{constructor(e){super(),this.children=[],this.rect=e}inBounds(e){const t=this.rect,n=t.bottomRight(),i=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&i.x<=n.x&&i.y<=n.y}pointShapes(e){const t=this.children,n=t.length,i=super.pointShapes(e);for(let o=0;o<n;o++)eh(i,t[o].pointShapes(e));return i}insert(e,t){const n=this.children;let i=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(let o=0;o<n.length;o++)if(n[o].insert(e,t)){i=!0;break}i||this._add(e,t)}i=!0}return i}_initChildren(){const{rect:e,children:t}=this,n=e.center(),i=e.width()/2,o=e.height()/2;t.push(new dc(new De([e.origin.x,e.origin.y],[i,o])),new dc(new De([n.x,e.origin.y],[i,o])),new dc(new De([e.origin.x,n.y],[i,o])),new dc(new De([n.x,n.y],[i,o])))}}const uR=dc,Vi=3e3;function V7(s,e){return s._zIndex<e._zIndex?1:s._zIndex>e._zIndex?-1:0}const ow=class B7 extends W{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new cR,this.rootElements=[]}clear(){const e=this.rootElements;for(let t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}pointShape(e){const t=(this.rootMap[Math.floor(e.x/Vi)]||{})[Math.floor(e.y/Vi)];let n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(V7);for(let i=0;i<n.length;i++)if(n[i].containsPoint(e))return n[i]}assignZindex(e){for(let t=0;t<e.length;t++){let n=e[t],i=0,o=Math.pow(1e4,75),r=[];for(;n;)r.push(n),n=n.parent;for(;r.length;)n=r.pop(),i+=((n.parent?n.parent.children:this.rootElements).indexOf(n)+1)*o,o/=1e4;e[t]._zIndex=i}}optionsChange(e){("transform"===e.field||"stroke.width"===e.field)&&this.bboxChange(e.element)}geometryChange(e){this.bboxChange(e.element)}bboxChange(e){if("Group"===e.nodeType)for(let t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}add(e){const t=Array.isArray(e)?e.slice(0):[e];eh(this.rootElements,t),this._insert(t)}childrenChange(e){if("remove"===e.action)for(let t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}_insert(e){let t;for(;e.length>0;)t=e.pop(),t.addObserver(this),"Group"===t.nodeType?eh(e,t.children):this._insertShape(t)}_insertShape(e){const t=e.bbox();if(t){const n=this.getSectors(t),i=n[0][0],o=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{const r=this.rootMap;r[i]||(r[i]={}),r[i][o]||(r[i][o]=new uR(new De([i*Vi,o*Vi],[Vi,Vi]))),r[i][o].insert(e,t)}}}remove(e){if(e.removeObserver(this),"Group"===e.nodeType){const t=e.children;for(let n=0;n<t.length;n++)this.remove(t[n])}else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}inRoot(e){return e[0].length>1||e[1].length>1}getSectors(e){const t=e.bottomRight(),n=Math.floor(t.x/Vi),i=Math.floor(t.y/Vi),o=[[],[]];for(let r=Math.floor(e.origin.x/Vi);r<=n;r++)o[0].push(r);for(let r=Math.floor(e.origin.y/Vi);r<=i;r++)o[1].push(r);return o}},Sr=class U7 extends nw{renderTo(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}setFill(e){const t=this.srcElement.options.fill;let n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):oa(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}setGradientFill(e,t){const n=this.srcElement.rawBBox();let i;if(t instanceof jp){let o=t.start(),r=t.end();i=e.createLinearGradient(o.x,o.y,r.x,r.y)}else if(t instanceof Up){let o=t.center();i=e.createRadialGradient(o.x,o.y,0,o.x,o.y,t.radius())}(function j7(s,e){for(let t=0;t<e.length;t++){let n=e[t],i=Tp(n.color());i.a*=n.opacity(),s.addColorStop(n.offset(),i.toCssRgba())}})(i,t.stops),e.save(),t.userSpace()||e.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),e.fillStyle=i,e.fill(),e.restore()}setStroke(e){const t=this.srcElement.options.stroke;if(t&&!oa(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=m_(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}dashType(){const e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}setLineDash(e){const t=this.dashType();if(t&&t!==Qb){const n=QP[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}setLineCap(e){const t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==Qb?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)}setLineJoin(e){const t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}renderPoints(e,t){Pg(e,t)}},dR=class $7 extends Sr{renderPoints(e){Pg(e,this.srcElement.toPath())}},fR=class G7 extends Sr{renderPoints(e){const{center:t,radius:n}=this.srcElement.geometry();e.arc(t.x,t.y,n,0,2*Math.PI)}},pR=class W7 extends Sr{constructor(e,t){super(e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=th();const n=this.img=new Image,i=e.src();t&&!/^data:/i.test(i)&&(n.crossOrigin=t),i&&(n.src=i),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}renderTo(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}optionsChange(e){"src"===e.field?(this.loading=th(),this.img.src=this.srcElement.src()):super.optionsChange(e)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(e){const t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}},gR=class q7 extends Sr{renderPoints(e){const t=this.srcElement.paths;for(let n=0;n<t.length;n++)Pg(e,t[n])}},mR=class K7 extends Sr{renderPoints(e){const t=this.srcElement.geometry(),[n,i]=t.cornerRadius;if(0===n&&0===i){const{origin:o,size:r}=t;e.rect(o.x,o.y,r.width,r.height)}else super.renderPoints(e,ee.fromRect(t))}},yR=class Y7 extends Sr{renderTo(e){const t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore()}};To.Arc=dR,To.Circle=fR,To.Group=sw,To.Image=pR,To.MultiPath=gR,To.Path=Sr,To.Rect=mR,To.Text=yR;const rw=class X7 extends Yb{get type(){return"canvas"}constructor(e,t){super(e,t),this.element.innerHTML=this._template(this);const n=this.element.firstElementChild,i=sh(e);n.width=i.width,n.height=i.height,this._rootElement=n,this._root=new lR(n,i),this._mouseTrackHandler=this._trackMouse.bind(this),y_(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),v_(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(e){super.draw(e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(e){if(this._searchTree){const t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}image(){const{_root:e,_rootElement:t}=this,n=[];e.traverse(r=>{r.loading&&n.push(r.loading)});const i=th(),o=()=>{e._invalidate({fixedScale:!0});try{const r=t.toDataURL();i.resolve(r)}catch(r){i.reject(r)}};return ik(n).then(o,o),i}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new ow;const e=this._root.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(e[n].srcElement);this._searchTree.add(t)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}_enableTracking(){this._searchTree=new ow,this._cursor=new class z7{constructor(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(e){const t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(e){let t=e.element;for(;t&&!te(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(e){this.element&&(this.element.style.cursor=e,this._current=e)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}(this),super._enableTracking()}_trackMouse(e){if(this._suspendedTracking)return;const t=this.eventTarget(e);if("click"!==e.type){const n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}};let aw,lw;const vR=()=>typeof document<"u";class cw extends W{static get support(){return lw||(lw={canvas:vR()&&document.createElement("canvas").getContext,svg:vR()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),lw}static get current(){return aw||(aw=new cw),aw}constructor(){super(),this._items=[{name:"svg",type:aR},{name:"canvas",type:rw}]}create(e,t){const n=this._items;let i=n[0];if(t&&t.type){const o=t.type.toLowerCase();for(let r=0;r<n.length;r++)if(n[r].name===o){i=n[r];break}}if(i)return new i.type(e,t);gk(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const uw=cw,Bh=class J7 extends Yb{static get support(){return uw.support}static create(e,t){return uw.current.create(e,t)}};function tK(){this._defaultPrevented=!0}const nK=class eK extends W{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(e,t){const n=[].concat(e);this.hide();for(let i=0;i<n.length;i++){const o=n[i];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,t),this._points.push(o))}}togglePointHighlight(e,t,n){const i=(e.options.highlight||{}).toggle;if(i){const o={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:tK,visual:e.highlightVisual(),show:t};i(o),o._defaultPrevented||e.toggleHighlight(t,n)}else e.toggleHighlight(t,n)}hide(){const e=this._points;for(;e.length;)this.togglePointHighlight(e.pop(),!1)}isHighlighted(e){const t=this._points;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}};function xR(s,e){const t=(e||"").toLowerCase(),n=s.event;return"none"===t&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[t+"Key"]}function hw(s){const e={};for(let t=0;t<s.length;t++){const n=s[t];n.axis.options.name&&(e[n.axis.options.name]={min:n.range.min,max:n.range.max})}return e}class _R extends W{constructor(e,t){super(),this.plotArea=e,this.options=S({},this.options,t)}start(e){return this._active=xR(e,this.options.key),this._active}move(e){if(this._active){const t=this.axisRanges=this._panAxes(e,q).concat(this._panAxes(e,K));if(t.length)return this.axisRanges=t,hw(t)}}end(){const e=this._active;return this._active=!1,e}pan(){const{plotArea:e,axisRanges:t}=this;if(t.length){for(let n=0;n<t.length;n++){const i=t[n];e.updateAxisOptions(i.axis,i.range)}e.redraw(e.panes)}}destroy(){delete this.plotArea}_panAxes(e,t){const n=this.plotArea,i=-e[t].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(0!==i&&(o||"").toLowerCase()!==t){const a=n.axes;for(let l=0;l<a.length;l++){const c=a[l];if(t===q&&!c.options.vertical||t===K&&c.options.vertical){const u=c.pan(i);u&&(u.limitRange=!0,r.push({axis:c,range:u}))}}}return r}}_R.prototype.options={key:"none",lock:"none"};const sK=_R;class bR extends W{constructor(e,t){super(),this.chart=e,this.options=S({},this.options,t),this.createElement()}createElement(){const e=this._marquee=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(e){rt(this._marquee,e)}start(e){if(xR(e,this.options.key)){const t=this.chart,n=t._eventCoordinates(e),i=this._zoomPane=t._plotArea.paneByPoint(n),o=i?i.chartsBox().clone():null;if(i&&o){const r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const e=this.chart.element,{paddingLeft:t,paddingTop:n}=rt(e,["paddingLeft","paddingTop"]),i=Wl(e);return{left:t+i.left,top:n+i.top}}move(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))}end(e){if(this._zoomPane){const n=this._elementOffset(),i=this._selectionPosition(e);return i.left-=n.left,i.top-=n.top,this._updateAxisRanges({x:i.left,y:i.top},{x:i.left+i.width,y:i.top+i.height}),this.removeElement(),delete this._zoomPane,hw(this.axisRanges)}}zoom(){const e=this.axisRanges;if(e&&e.length){const t=this.chart._plotArea;for(let n=0;n<e.length;n++){const i=e[n];t.updateAxisOptions(i.axis,i.range)}t.redraw(t.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(e,t){const n=(this.options.lock||"").toLowerCase(),i=[],o=this._zoomPane.axes;for(let r=0;r<o.length;r++){const a=o[r],l=a.options.vertical;if((n!==q||l)&&(n!==K||!l)&&P(a.axisIndex)){const c=a.pointsRange(e,t);c&&i.push({axis:a,range:c})}}this.axisRanges=i}_selectionPosition(e){const t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},{x:{location:i},y:{location:o}}=e,r=(this.options.lock||"").toLowerCase();let a=Math.min(n.x,i),l=Math.min(n.y,o),c=Math.abs(n.x-i),u=Math.abs(n.y-o);return r===q&&(a=t.x1,c=t.width()),r===K&&(l=t.y1,u=t.height()),i>t.x2&&(c=t.x2-n.x),i<t.x1&&(c=n.x-t.x1),o>t.y2&&(u=t.y2-n.y),o<t.y1&&(u=n.y-t.y1),{left:Math.max(a,t.x1),top:Math.max(l,t.y1),width:c,height:u}}}bR.prototype.options={key:"shift",lock:"none"};const iK=bR,cK=class lK extends W{constructor(e,t){super(),this.chart=e,this.options=S({rate:.3},this.options,t)}updateRanges(e,t){const n=(this.options.lock||"").toLowerCase(),i=[],o=this.chart._plotArea.axes;for(let r=0;r<o.length;r++){const a=o[r],l=a.options.vertical;if((n!==q||l)&&(n!==K||!l)&&a.zoomRange){const c=Z(this.options.rate,.01,.9),u=a.zoomRange(-e*c,t);u&&i.push({axis:a,range:u})}}return this.axisRanges=i,hw(i)}zoom(){const e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(let n=0;n<e.length;n++){const i=e[n];t.updateAxisOptions(i.axis,i.range)}t.redraw(t.panes)}}destroy(){delete this.chart}};function Rg(s,e,t){const n=t.transform()||Ne(),i=n.matrix();i.e+=s.x-e.origin.x,i.f+=s.y-e.origin.y,n.matrix(i),t.transform(n)}function Vh(s,e,t,n,i){let o;return o="start"===t?e.origin[n]:"end"===t?e.origin[n]+e.size[i]-s:e.origin[n]+(e.size[i]-s)/2,o}function uK(s,e,t,n,i){let o;return o="start"===t?e.origin[n]+e.size[i]-s:"end"===t?e.origin[n]:e.origin[n]+(e.size[i]-s)/2,o}const hK={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},dK=(s,e)=>{s.forEach(e)},fK=(s,e)=>{for(let n=s.length-1;n>=0;n--)e(s[n],n)},wR=class pK extends Ze{constructor(e,t){super(Object.assign({},hK,t)),this._rect=e,this._fieldMap={}}rect(e){return e?(this._rect=e,this):this._rect}_initMap(){const e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=fK,this.justifyAlign=uK):(this.forEach=dK,this.justifyAlign=Vh)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const e=this.options,t=this._rect,{groups:n,groupsSize:i}=this._initGroups(),{sizeField:o,groupsSizeField:r,groupAxis:a,groupsAxis:l}=this._fieldMap,c=new N,u=new N,h=new ca;let f,p,g,d=Vh(i,t,e.alignContent,l,r);const y=(x,w)=>{const C=p.elements[w];u[a]=f,u[l]=Vh(x.size[r],g,e.alignItems,l,r),Rg(u,x,C),f+=x.size[o]+e.spacing};for(let x=0;x<n.length;x++)p=n[x],c[a]=f=this.justifyAlign(p.size,t,e.justifyContent,a,o),c[l]=d,h[o]=p.size,h[r]=p.lineSize,g=new De(c,h),this.forEach(p.bboxes,y),d+=p.lineSize+e.lineSpacing;if(!e.wrap&&p.size>t.size[o]){const x=t.size[o]/g.size[o],w=g.topLeft().scale(x,x),A=Vh(g.size[r]*x,t,e.alignContent,l,r),L=Ne();"x"===a?L.translate(t.origin.x-w.x,A-w.y):L.translate(A-w.x,t.origin.y-w.y),L.scale(x,x),this.transform(L)}}_initGroups(){const{options:e,children:t}=this,{lineSpacing:n,wrap:i,spacing:o}=e,r=this._fieldMap.sizeField;let a=this._newGroup();const l=[],c=function(){l.push(a),u+=a.lineSize+n};let u=-n;for(let h=0;h<t.length;h++){let d=t[h],f=t[h].clippedBBox();d.visible()&&f&&(i&&a.size+f.size[r]+o>this._rect.size[r]?0===a.bboxes.length?(this._addToGroup(a,f,d),c(),a=this._newGroup()):(c(),a=this._newGroup(),this._addToGroup(a,f,d)):this._addToGroup(a,f,d))}return a.bboxes.length&&c(),{groups:l,groupsSize:u}}_addToGroup(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},mK=class gK extends Oe{constructor(e,t){super(e),this.chartService=t}render(){const{children:e,options:t}=this,n=t.vertical;this.visual=new wR(null,{spacing:n?0:t.spacing,lineSpacing:n?t.spacing:0,orientation:n?"vertical":"horizontal",reverse:t.rtl,alignItems:n?"start":"center"});for(let i=0;i<e.length;i++){let o=e[i];o.reflow(new V),o.renderVisual()}}reflow(e){this.visual.rect(e.toRect()),this.visual.reflow();const t=this.visual.clippedBBox();this.box=t?$p(t):new V}renderVisual(){this.addVisual()}createVisual(){}},vK=class yK extends ua{constructor(e){super(e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}createContainer(){this.container=new U_({vertical:!1,wrap:!1,align:ue,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.container.append(new mr(this.markerOptions()))}markerOptions(){const e=this.options,t=e.markerColor;return S({},e.markers,{background:t,border:{color:t}})}createLabel(){const e=this.options,t=S({},e.labels);this.container.append(new is(e.text,t))}renderComplete(){super.renderComplete();const e=this.options.cursor||{},t=this._itemOverlay=ee.fromRect(this.container.box.toRect(),{fill:{color:Te,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(t)}click(e,t){const n=this.eventArgs(t);!e.trigger("legendItemClick",n)&&t&&"contextmenu"===t.type&&t.preventDefault()}over(e,t){const n=this.eventArgs(t);return e.trigger("legendItemHover",n)||e._legendItemHover(n.seriesIndex,n.pointIndex),!0}out(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))}eventArgs(e){const t=this.options;return{element:li(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}}renderVisual(){const e=this.options,t=e.visual;t?(this.visual=t({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{markers:this.markerOptions(),labels:e.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const n=this.visual;return delete this.visual,n}}),this.addVisual()):super.renderVisual()}},CR="horizontal",Ng="custom";class SR extends Oe{constructor(e,t={}){super(e),this.chartService=t,ye(this.options.position,[Ee,ke,Re,we,Ng])||(this.options.position=ke),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}createContainers(){const e=this.options,{position:t,align:n}=e;let i=t,o=ue;t===Ng?i=we:ye(t,[Ee,Re])?(i="start"===n?we:"end"===n?ke:ue,o=t):n&&("start"===n?o=Ee:"end"===n&&(o=Re)),this.container=new ua({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:o,align:i,zIndex:e.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new ua({vAlign:o,align:i,zIndex:e.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const e=this.getService(),t=this.options,n=this.isVertical(),i=new mK({vertical:n,spacing:t.spacing,rtl:e.rtl},e);let o=t.items;t.reverse&&(o=o.slice(0).reverse());const r=o.length;for(let a=0;a<r;a++)i.append(new vK(S({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,o[a])));i.render(),this.itemsContainer.append(i)}isVertical(){const{orientation:e,position:t}=this.options;return t===Ng&&e!==CR||(P(e)?e!==CR:ye(t,[we,ke]))}hasItems(){return this.container.children[0].children.length>0}reflow(e){const t=this.options,n=e.clone();this.hasItems()?(t.position===Ng?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new V(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n}containerReflow(e){const{options:t,container:n}=this,{position:i,width:o,height:r}=t,a=i===Ee||i===Re?q:K,l=this.isVertical(),c=e.clone();let u=e.clone();(i===we||i===ke)&&(u.y1=c.y1=0),l&&r?(u.y2=u.y1+r,u.align(c,K,n.options.vAlign)):!l&&o&&(u.x2=u.x1+o,u.align(c,q,n.options.align)),n.reflow(u),u=n.box;const h=u.clone();(t.offsetX||t.offsetY)&&(u.translate(t.offsetX,t.offsetY),n.reflow(u)),h[a+1]=e[a+1],h[a+2]=e[a+2],this.box=h}containerCustomReflow(e){const{options:t,container:n}=this,{offsetX:i,offsetY:o,width:r,height:a}=t,l=this.isVertical();let c=e.clone();l&&a?c.y2=c.y1+a:!l&&r&&(c.x2=c.x1+r),n.reflow(c),c=n.box,n.reflow(new V(i,o,i+c.width(),o+c.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(e){let t=S({},{color:gt,position:Ee,align:ue},e),n=t.text;if(e&&!1!==e.visible){if(P(t)&&t.visible){const i=Jt(t);i?n=i({text:n}):t.format&&(n=this.chartService.format.auto(t.format,n))}this.title=new is(n,t),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new U_({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return Boolean(this.options.title&&!1!==this.options.title.visible)}appendTitleLayoutContent(){this.options.title.position===Re?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}O(SR,{position:ke,items:[],offsetX:0,offsetY:0,margin:Be(5),padding:Be(5),border:{color:gt,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:we,vAlign:ue}});const _K=SR;class dw extends W{constructor(){super(),this._registry=[]}register(e,t){this._registry.push({type:e,seriesTypes:t})}create(e,t,n){const i=this._registry;let r,o=i[0];for(let a=0;a<i.length;a++){const l=i[a];if(r=xt(e,l.seriesTypes),r.length>0){o=l;break}}return new o.type(r,t,n)}}dw.current=new dw;const Ao=dw;function Mo(s){const e=document.createElement("div");return s&&(e.className=s),e}function DR(s){let e=s;for(;e&&!Ju(e,"k-handle");)e=e.parentNode;return e}class ER extends W{constructor(e,t,n,i){super();const o=e.element;this.options=S({},this.options,n),this.chart=e,this.observer=i,this.chartElement=o,this.categoryAxis=t,this._dateAxis=this.categoryAxis instanceof yh,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(e){return this.categoryAxis.pane===e}createElements(){const e=this.options,t=this.wrapper=Mo("k-selector");rt(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});const n=this.selection=Mo("k-selection");this.leftMask=Mo("k-mask"),this.rightMask=Mo("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n),n.appendChild(Mo("k-selection-bg"));const i=this.leftHandle=Mo("k-handle k-left-handle"),o=this.rightHandle=Mo("k-handle k-right-handle");i.appendChild(Mo()),o.appendChild(Mo()),n.appendChild(i),n.appendChild(o),this.chartElement.appendChild(t);const r=rt(n,["borderLeftWidth","borderRightWidth","height"]),a=rt(i,"height").height,l=rt(o,"height").height;e.selection={border:{left:r.borderLeftWidth,right:r.borderRightWidth}},rt(i,{top:(r.height-a)/2}),rt(o,{top:(r.height-l)/2}),t.style.cssText=t.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),ih(this.wrapper,{[xg]:this._mousewheelHandler})),this._domEvents=W_.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:e,categoryAxis:t}=this,n=t.pane.chartsBox(),i=this.chart.chartService.intl;this._dateAxis&&S(e,{min:ln(i,e.min),max:ln(i,e.max),from:ln(i,e.from),to:ln(i,e.to)});const{paddingLeft:o,paddingTop:r}=rt(this.chartElement,["paddingLeft","paddingTop"]);this.options=S({},{width:n.width(),height:n.height()+.1,padding:{left:o,top:r},offset:{left:n.x1+o,top:n.y1+r},from:e.min,to:e.max},e)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(oh(this.wrapper,{[xg]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}}_start(e){const t=this.options,n=li(e);if(this._state||!n)return;this.chart._unsetActivePoint(),this._state={moveTarget:DR(n)||n,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};const i=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger(wb,i)&&(this._state=null)}_press(e){let t;t=this._state?this._state.moveTarget:DR(li(e)),t&&Tn(t,"k-handle-active")}_move(e){if(!this._state)return;const{_state:t,options:n,categoryAxis:i}=this,{range:o,moveTarget:r}=t,a=i.options.reverse,l=this._index(n.from),c=this._index(n.to),u=this._index(n.min),h=this._index(n.max),d=t.startLocation-e.x.location,f_from=o.from,f_to=o.to,p=o.to-o.from,g=rt(this.wrapper,"width").width/(i.categoriesCount()-1),y=Math.round(d/g)*(a?-1:1);if(!r)return;const x=Ju(r,"k-left-handle"),w=Ju(r,"k-right-handle");Ju(r,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(u,l-y),h-p),o.to=Math.min(o.from+p,h)):x&&!a||w&&a?(o.from=Math.min(Math.max(u,l-y),h-1),o.to=Math.max(o.from+1,o.to)):(x&&a||w&&!a)&&(o.to=Math.min(Math.max(u+1,c-y),h),o.from=Math.min(o.to-1,o.from)),(o.from!==f_from||o.to!==f_to)&&(this.move(o.from,o.to),this.trigger(Ih,this._rangeEventArgs(o)))}_end(){if(this._state){const e=this._state.moveTarget;e&&function qG(s,e){s&&s.className&&(s.className=s.className.replace(e,"").replace(WG," "))}(e,"k-handle-active");const t=this._state.range;this.set(t.from,t.to),this.trigger(Cb,this._rangeEventArgs(t)),delete this._state}}_tap(e){const{options:t,categoryAxis:n}=this,i=this.chart._eventCoordinates(e),o=n.pointCategoryIndex(new ne(i.x,n.box.y1)),r=this._index(t.from),a=this._index(t.to),l=this._index(t.min),c=this._index(t.max),u=a-r,d={},f=3===e.event.which;let p=Math.round(r+u/2-o);this._state||f||(this.chart._unsetActivePoint(),n.options.justified||p--,d.from=Math.min(Math.max(l,r-p),c-u),d.to=Math.min(d.from+u,c),this._start(e),this._state&&(this._state.range=d,this.trigger(Ih,this._rangeEventArgs(d)),this._end()))}_mousewheel(e){let t=f_(e);if(this._start({target:this.selection}),this._state){const n=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(t)>1&&(t*=3),this.options.mousewheel.reverse&&(t*=-1),this.expand(t)&&this.trigger(Ih,{axis:this.categoryAxis.options,delta:t,originalEvent:e,from:this._value(n.from),to:this._value(n.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(e){const t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};const n=this._rangeEventArgs(this._state.range);this.trigger(wb,n)?this._state=null:e.preventDefault()}_gestureend(){this._state&&(this.trigger(Cb,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(e){const{chart:t,_state:n,options:i,categoryAxis:o}=this,r=n.range,a=t._toModelCoordinates(e.touches[0].x.location).x,l=t._toModelCoordinates(e.touches[1].x.location).x,c=Math.min(a,l),u=Math.max(a,l);e.preventDefault(),r.from=o.pointCategoryIndex(new ne(c))||i.min,r.to=o.pointCategoryIndex(new ne(u))||i.max,this.move(r.from,r.to),this.trigger(Ih,this._rangeEventArgs(r))}_index(e){let t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t}_value(e){let t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e),t>this.options.max&&(t=this.options.max)),t}_slot(e){const t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)}move(e,t){const n=this.options,i=this.categoryAxis.options.reverse,{offset:o,padding:r,selection:{border:a}}=n,c=i?e:t,u="x"+(i?2:1);let h=this._slot(i?t:e);const d=B(h[u]-o.left+r.left);rt(this.leftMask,{width:d}),rt(this.selection,{left:d}),h=this._slot(c);const f=B(n.width-(h[u]-o.left+r.left));rt(this.rightMask,{width:f});let p=n.width-f;p!==n.width&&(p+=a.right),rt(this.rightMask,{left:p}),rt(this.selection,{width:Math.max(n.width-(d+f)-a.right,0)})}set(e,t){const n=this.options,i=this._index(n.min),o=this._index(n.max),r=Z(this._index(e),i,o),a=Z(this._index(t),r+1,o);n.visible&&this.move(r,a),n.from=this._value(r),n.to=this._value(a)}expand(e){const t=this.options,n=this._index(t.min),i=this._index(t.max),o=t.mousewheel.zoom,r=this._index(t.from),a=this._index(t.to);let l={from:r,to:a};const c=S({},l);if(this._state&&(l=this._state.range),o!==ke&&(l.from=Z(Z(r-e,0,a-1),n,i)),o!==we&&(l.to=Z(Z(a+e,l.from+1,i),n,i)),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}zoom(e,t){const n=this.options,i=this._index(n.min),o=this._index(n.max),r=this._index(n.from),a=this._index(n.to);let l={from:r,to:a};const c=S({},l),{reverse:u}=this.categoryAxis.options,h=q+(u?"2":"1"),d=this.categoryAxis.lineBox(),f=Math.abs(d[h]-t.x),p=d.width(),g=B(f/p,2),y=B(g*e),x=B((1-g)*e);if(this._state&&(l=this._state.range),l.from=Z(Z(r-y,0,a-1),i,o),l.to=Z(Z(a+x,l.from+1,o),i,o),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}trigger(e,t){return(this.observer||this.chart).trigger(e,t)}}O(ER,{visible:!0,mousewheel:{zoom:"both"},min:kt,max:mt});const TR=ER,SK=class CK extends zb{show(e){if(!e||!e.tooltipAnchor||this._current&&this._current===e)return;const t=S({},this.options,e.options.tooltip),n=e.tooltipAnchor();n?(this._current=e,super.show({point:e,anchor:n},t,e)):this.hide()}hide(){delete this._current,super.hide()}};class AR extends zb{constructor(e,t){super(e.chartService,t),this.plotArea=e,this.formatService=e.chartService.format}showAt(e,t){const n=es(e,function(i){const o=i.series.tooltip;return!(o&&!1===o.visible)});if(n.length>0){const i=n[0],o=this.plotArea.categoryAxis.getSlot(i.categoryIx),r=t?this._slotAnchor(t,o):this._defaultAnchor(i,o);this.show({anchor:r,shared:!0,points:e,category:i.category,categoryText:this.formatService.auto(this.options.categoryFormat,i.category),series:this.plotArea.series},this.options)}}_slotAnchor(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(e,t){const n=e.owner.pane.chartsBox(),i=this.plotArea.categoryAxis.options.vertical,o=n.center(),r=t.center();let l;return l=i?new ne(o.x,r.y):new ne(r.x,o.y),{point:l,align:{horizontal:"center",vertical:"center"}}}}O(AR,{categoryFormat:"{0:d}"});const MR=AR;class kR extends ss{setup(){const{element:e,options:t}=this;if(e.bbox()){this.origin=t.origin;const i=t.vertical?K:q,o=this.fromScale=new N(1,1);o[i]=vh,e.transform(Ne().scale(o.x,o.y))}else this.abort()}step(e){const t=Ds(this.fromScale.x,1,e),n=Ds(this.fromScale.y,1,e);this.element.transform(Ne().scale(t,n,this.origin))}abort(){super.abort(),this.element.transform(null)}}O(kR,{duration:Is}),ci.current.register(di,kR);class IR extends ss{setup(){const e=this.center=this.element.bbox().center();this.element.transform(Ne().scale(vh,vh,e))}step(e){this.element.transform(Ne().scale(e,e,this.center))}}O(IR,{easing:"easeOutElastic"}),ci.current.register(Ql,IR);class PR extends ss{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(e){this.element.opacity(e*this.fadeTo)}}O(PR,{duration:200,easing:"linear"}),ci.current.register(yr,PR);class RR extends ss{setup(){this.element.transform(Ne().scale(vh,vh,this.options.center))}step(e){this.element.transform(Ne().scale(e,e,this.options.center))}}O(RR,{easing:"easeOutElastic",duration:Is}),ci.current.register(xr,RR);class NR extends Eg{render(){super.render(),this.renderSegments()}createSegment(e,t,n){let o;return o=t.style===Zl?Ab:cc,new o(e,t,n)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(e,t){if(t===wo){const n={x:e.x,y:e.y};return os(n.x)||(n.x=0),os(n.y)||(n.y=0),n}}}S(NR.prototype,Mb);const OR=NR;class fw extends br{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new wg,this.yAxisRangeTracker=new wg}render(e=this.panes){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const i=e[n],o=t[i.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||(this.createScatterChart(xt(r,vb),i),this.createScatterLineChart(xt(r,xb),i),this.createBubbleChart(xt(r,Ql),i))}this.createAxes(e)}appendChart(e,t){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),super.appendChart(e,t)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?(this.yAxisRangeTracker.reset(t),delete this.namedYAxes[t]):(this.xAxisRangeTracker.reset(t),delete this.namedXAxes[t]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}seriesPaneName(e){const t=this.options,n=e.xAxis,o=es([].concat(t.xAxis),function(d){return d.name===n})[0],r=e.yAxis,l=es([].concat(t.yAxis),function(d){return d.name===r})[0];return(o||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}createScatterChart(e,t){e.length>0&&this.appendChart(new Eg(this,{series:e,clip:t.options.clip}),t)}createScatterLineChart(e,t){e.length>0&&this.appendChart(new OR(this,{series:e,clip:t.options.clip}),t)}createBubbleChart(e,t){e.length>0&&this.appendChart(new gq(this,{series:e,clip:t.options.clip}),t)}createXYAxis(e,t,n){const i=e.name,o=t?this.namedYAxes:this.namedXAxes,r=t?this.yAxisRangeTracker:this.xAxisRangeTracker,a=S({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=_r(a.type,yg),c=r.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=r.query(i)||c||u,d=[a.min,a.max],f=this.series;for(let x=0;x<f.length;x++){const w=f[x],C=w[t?"yAxis":"xAxis"];if(C===a.name||0===n&&!C){const A=vt.current.bindPoint(w,0).valueFields;d.push(A[t?"y":"x"]);break}}let p,g;0===n&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(let x=0;x<d.length;x++)if(d[x]instanceof Date){p=!0;break}g=_r(a.type,cr)||!a.type&&p?RI:l?og:ks;const y=new g(h.min,h.max,a,this.chartService);if(y.axisIndex=n,i){if(o[i])throw new Error(`${t?"Y":"X"} axis with name ${i} is already defined`);o[i]=y}return this.appendAxis(y),y}createAxes(e){const t=this.options,n=[].concat(t.xAxis),i=[],o=[].concat(t.yAxis),r=[];for(let a=0;a<n.length;a++)ye(this.findPane(n[a].pane),e)&&i.push(this.createXYAxis(n[a],!1,a));for(let a=0;a<o.length;a++)ye(this.findPane(o[a].pane),e)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||i[0],this.axisY=this.axisY||r[0]}_dispatchEvent(e,t,n){const i=e._eventCoordinates(t),o=new ne(i.x,i.y),r=this.axes,a=r.length,l=[],c=[];for(let u=0;u<a;u++){const h=r[u],d=h.options.vertical?c:l,f=h.getValue(o);null!==f&&d.push(f)}l.length>0&&c.length>0&&e.trigger(n,{element:li(t),originalEvent:t,x:hc(l),y:hc(c)})}updateAxisOptions(e,t){const n=e.options.vertical,i=this.groupAxes(this.panes),o=(n?i.y:i.x).indexOf(e);LR(this.options,o,n,t),LR(this.originalOptions,o,n,t)}}function LR(s,e,t,n){S([].concat(t?s.yAxis:s.xAxis)[e],n)}O(fw,{xAxis:{},yAxis:{}}),S(fw.prototype,Oh);const DK=fw;class pw extends Oe{constructor(e,t,n){super(n),this.value=e,this.sector=t}render(){const e=this.options.labels,t=this.owner.chartService;let n=this.value;if(this._rendered||!1===this.visible)return;this._rendered=!0;const i=Jt(e),o=this.pointData();if(i?n=i(o):e.format&&(n=t.format.auto(e.format,n)),e.visible&&(n||0===n)){if(e.position===ue||e.position===vg)e.color||(e.color=E_(this.options.color)),e.background||(e.background=this.options.color);else{const r=t.theme.seriesDefaults.labels;e.color=e.color||r.color,e.background=e.background||r.background}this.label=new is(n,S({},e,{align:ue,vAlign:"",animation:{type:yr,delay:this.animationDelay}}),o),this.append(this.label)}}reflow(e){this.render(),this.box=e,this.reflowLabel()}reflowLabel(){const{options:{labels:e},label:t}=this,n=this.sector.clone(),i=e.distance,o=n.middle();if(t){const r=t.box.height(),a=t.box.width();let l;if(e.position===ue)n.radius=Math.abs((n.radius-r)/2)+r,l=n.point(o),t.reflow(new V(l.x,l.y-r/2,l.x,l.y));else if(e.position===vg)n.radius=n.radius-r/2,l=n.point(o),t.reflow(new V(l.x,l.y-r/2,l.x,l.y));else{let c;l=n.clone().expand(i).point(o),l.x>=n.center.x?(c=l.x+a,t.orientation=ke):(c=l.x-a,t.orientation=we),t.reflow(new V(c,l.y-r,l.x,l.y))}}}createVisual(){const{sector:e,options:t}=this;if(super.createVisual(),this.value)if(t.visual){const n=(e.startAngle+180)%360,i=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new N(e.center.x,e.center.y),radius:e.radius,innerRadius:e.innerRadius,startAngle:n,endAngle:n+e.angle,options:t,sender:this.getSender(),createVisual:()=>{const o=new Ze;return this.createSegmentVisual(o),o}});i&&this.visual.append(i)}else this.createSegmentVisual(this.visual)}createSegmentVisual(e){const{sector:t,options:n}=this,i=n.border||{},r=n.color,a={color:r,opacity:n.opacity},l=this.createSegment(t,S({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},i.width>0?{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType}}:{}));e.append(l),Rb(n)&&e.append(this.createGradientOverlay(l,{baseColor:r,fallbackFill:a},S({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))}createSegment(e,t){return t.singleSegment?new yo(new Ms(new N(e.center.x,e.center.y),e.radius),t):zp.current.createRing(e,t)}createAnimation(){const{options:e,sector:{center:t}}=this;S(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(e){const t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,S({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new N(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}}tooltipAnchor(){const e=this.sector.clone().expand(5),t=e.middle();return{point:e.point(t),align:AK(t+180)}}formatValue(e){return this.owner.formatPointValue(this,e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}const EK=B(It(30),10),TK=B(It(60),10);function AK(s){const e=It(s),t=B(Math.sin(e),10),n=B(Math.cos(e),10);let i,o;return i=Math.abs(t)>TK?ue:n<0?ke:we,o=Math.abs(t)<EK?ue:t<0?Re:Ee,{horizontal:i,vertical:o}}O(pw,{color:Te,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:VM,margin:Be(.5),align:oi,zIndex:1,position:ga},animation:{type:xr},highlight:{visible:!0,border:{width:1}},visible:!0}),S(pw.prototype,fi);const FR=pw,BR={createLegendItem:function(s,e,t){const n=this.options.legend||{},i=n.labels||{},o=n.inactiveItems||{},r=o.labels||{};if(t&&!1!==t.visibleInLegend){const a=!1!==t.visible,l=a?Jt(i):Jt(r)||Jt(i);let u,h,c=t.category;l&&(c=l({text:c,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:s})),a?(u={},h=e.color):(u={color:r.color,font:r.font},h=(o.markers||{}).color),os(c)&&""!==c&&this.legendItems.push({active:a,pointIndex:t.index,text:c,series:t.series,markerColor:h,labels:u})}}};class Og extends Oe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(e){const{options:t,plotArea:{options:{seriesColors:n=[]}}}=this,i=n.length,o=t.series,r=o.length;for(let a=0;a<r;a++){const l=o[a],c=l.data,{total:u,points:h,count:d}=SP(l),f=360/u;let p,g;isFinite(f)||(p=360/d),g=P(l.startAngle)?l.startAngle:t.startAngle,a!==r-1&&l.labels.position===ga&&(l.labels.position=ue);for(let y=0;y<h.length;y++){const x=h[y];if(!x)continue;const{fields:w,value:C,visible:A}=x,L=0!==C?p||C*f:0,U=1!==c.length&&Boolean(w.explode);ot(l.color)||(l.color=w.color||n[y%i]),e(C,new Pp(null,0,0,g,L),{owner:this,category:P(w.category)?w.category:"",index:y,series:l,seriesIx:a,dataItem:c[y],percentage:0!==u?C/u:0,explode:U,visibleInLegend:w.visibleInLegend,visible:A,zIndex:r-a,animationDelay:this.animationDelay(y,a,r)}),!1!==A&&(g+=L)}}}evalSegmentOptions(e,t,n){const i=n.series;So(e,{value:t,series:i,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:i._defaults,excluded:["data","content","template","visual","toggle"]})}addValue(e,t,n){const i=S({},n.series,{index:n.index});if(this.evalSegmentOptions(i,e,n),this.createLegendItem(e,i,n),!1===n.visible)return;const o=new FR(e,t,i);Object.assign(o,n),this.append(o),this.points.push(o)}reflow(e){const{options:t,points:n,seriesConfigs:i=[]}=this,o=n.length,r=e.clone(),l=Math.min(r.width(),r.height()),c=l/2,u=l-.85*l,h=new V(r.x1,r.y1,r.x1+l,r.y1+l),d=h.center(),f=r.center(),p=t.series.length,g=[],y=[];let x=re(t.padding,u);this.targetBox=e,x=x>c-5?c-5:x,h.translate(f.x-d.x,f.y-d.y);const w=c-x,C=new ne(w+h.x1+x,w+h.y1+x);for(let A=0;A<o;A++){const L=n[A],U=L.sector,J=L.seriesIx;if(U.radius=w,U.center=C,i.length){const Je=i[J];U.innerRadius=Je.innerRadius,U.radius=Je.radius}J===p-1&&L.explode&&(U.center=U.clone().setRadius(.15*U.radius).point(U.middle())),L.reflow(h);const xe=L.label;xe&&xe.options.position===ga&&J===p-1&&(xe.orientation===ke?y.push(xe):g.push(xe))}g.length>0&&(g.sort(this.labelComparator(!0)),this.leftLabelsReflow(g)),y.length>0&&(y.sort(this.labelComparator(!1)),this.rightLabelsReflow(y)),this.box=h}leftLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}rightLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}distanceBetweenLabels(e){const t=yt(this.points),n=t.sector,i=e.length-1,o=n.radius+t.options.labels.distance,r=[];let a=e[0].box,l=B(a.y1-(n.center.y-o-a.height()-a.height()/2));r.push(l);for(let c=0;c<i;c++)a=e[c].box,l=B(e[c+1].box.y1-a.y2),r.push(l);return l=B(n.center.y+o-e[i].box.y2-e[i].box.height()/2),r.push(l),r}distributeLabels(e,t){const n=e.length;let i,o,r;for(let a=0;a<n;a++)for(r=-e[a],i=o=a;r>0&&(i>=0||o<n);)r=this._takeDistance(e,a,--i,r),r=this._takeDistance(e,a,++o,r);this.reflowLabels(e,t)}_takeDistance(e,t,n,i){let o=i;if(e[n]>0){const r=Math.min(e[n],o);o-=r,e[n]-=r,e[t]+=r}return o}reflowLabels(e,t){const n=yt(this.points),i=n.sector,o=n.options.labels,r=t.length,a=o.distance;let c,l=i.center.y-(i.radius+a)-t[0].box.height();e[0]+=2;for(let u=0;u<r;u++){const h=t[u],d=h.box;l+=e[u],c=this.hAlignLabel(d.x2,i.clone().expand(a),l,l+d.height(),h.orientation===ke),h.orientation===ke?(o.align!==oi&&(c=i.radius+i.center.x+a),h.reflow(new V(c+d.width(),l,c,l))):(o.align!==oi&&(c=i.center.x-i.radius-a),h.reflow(new V(c-d.width(),l,c,l))),l+=d.height()}}createVisual(){const{options:{connectors:e},points:t}=this,n=t.length;super.createVisual(),this._connectorLines=[];for(let o=0;o<n;o++){const r=t[o],{sector:a,label:l}=r,c=a.middle(),u=(r.options.connectors||{}).color||e.color;if(l){const h=new ee({stroke:{color:u,width:e.width},animation:{type:yr,delay:r.animationDelay}});if(l.options.position===ga){const d=l.box,f=a.center;let y,x,w,p=a.point(c),g=new ne(d.x1,d.center().y);p=a.clone().expand(e.padding).point(c),h.moveTo(p.x,p.y),l.orientation===ke?(x=new ne(d.x1-e.padding,d.center().y),w=VR(f,p,g,x),g=new ne(x.x-4,x.y),w=w||g,w.x=Math.min(w.x,g.x),this.pointInCircle(w,a.center,a.radius+4)||w.x<a.center.x?(y=a.center.x+a.radius+4,h.lineTo(r.options.labels.align!==Co?y<g.x?y:p.x+8:y,p.y),h.lineTo(g.x,x.y)):(w.y=x.y,h.lineTo(w.x,w.y))):(x=new ne(d.x2+e.padding,d.center().y),w=VR(f,p,g,x),g=new ne(x.x+4,x.y),w=w||g,w.x=Math.max(w.x,g.x),this.pointInCircle(w,a.center,a.radius+4)||w.x>a.center.x?(y=a.center.x-a.radius-4,h.lineTo(r.options.labels.align!==Co?y>g.x?y:p.x-8:y,p.y),h.lineTo(g.x,x.y)):(w.y=x.y,h.lineTo(w.x,w.y))),h.lineTo(x.x,x.y),this._connectorLines.push(h),this.visual.append(h)}}}}renderVisual(){if(super.renderVisual(),mk(this.options.series,e=>e.autoFit)){const e=this.targetBox,t=this.box.center(),n=this.visual.bbox();if(!n)return;const i=n.bottomRight(),o=Math.min((t.y-e.y1)/(t.y-n.origin.y),(e.y2-t.y)/(i.y-t.y),(t.x-e.x1)/(t.x-n.origin.x),(e.x2-t.x)/(i.x-t.x));o<1&&this.visual.transform(Ne().scale(o,o,[t.x,t.y]))}}labelComparator(e){const t=e?-1:1;return function(n,i){return((n.parent.sector.middle()+270)%360-(i.parent.sector.middle()+270)%360)*t}}hAlignLabel(e,t,n,i,o){const{radius:r,center:{x:a,y:l}}=t,c=Math.min(Math.abs(l-n),Math.abs(l-i));return c>r?e:a+Math.sqrt(r*r-c*c)*(o?1:-1)}pointInCircle(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}animationDelay(e){return 70*e}stackRoot(){return this}}function VR(s,e,t,n){const o=(n.y-t.y)*(e.x-s.x)-(n.x-t.x)*(e.y-s.y);let r;if(0!==o){const a=((n.x-t.x)*(s.y-t.y)-(n.y-t.y)*(s.x-t.x))/o;r=new ne(s.x+a*(e.x-s.x),s.y+a*(e.y-s.y))}return r}O(Og,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),S(Og.prototype,BR),Og.prototype.isStackRoot=!0;const zR=Og,HR=class kK extends br{render(){this.createPieChart(this.series)}createPieChart(e){const t=e[0],n=new zR(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}appendChart(e,t){super.appendChart(e,t),ra(this.options.legend.items,e.legendItems)}};class gw extends FR{reflowLabel(){const{options:{labels:e},label:t}=this,n=this.sector.clone(),i=n.middle();if(t){const o=t.box.height();if(e.position===ue){n.radius-=(n.radius-n.innerRadius)/2;const r=n.point(i);t.reflow(new V(r.x,r.y-o/2,r.x,r.y))}else super.reflowLabel()}}createSegment(e,t){return zp.current.createRing(e,t)}}O(gw,{overlay:{gradient:"roundedGlass"},labels:{position:ue},animation:{type:xr}}),S(gw.prototype,fi);const jR=gw;class UR extends zR{addValue(e,t,n){const i=S({},n.series,{index:n.index});if(this.evalSegmentOptions(i,e,n),this.createLegendItem(e,i,n),!1===n.visible)return;const o=new jR(e,t,i);Object.assign(o,n),this.append(o),this.points.push(o)}reflow(e){const t=this.options,n=e.clone(),o=Math.min(n.width(),n.height()),r=o/2,l=t.series,c=l.length;let u=re(t.padding,o-.85*o);u=u>r-5?r-5:u;let f,h=r-u,d=0;for(let w=0;w<c;w++){const C=l[w];0===w&&P(C.holeSize)&&(f=C.holeSize,h-=C.holeSize),P(C.size)?h-=C.size:d++,P(C.margin)&&w!==c-1&&(h-=C.margin)}P(f)||(f=(r-u)/(c+.75)*.75,h-=f);let y,x,p=f,g=0;this.seriesConfigs=[];for(let w=0;w<c;w++){const C=l[w];y=re(C.size,h/d),p+=g,x=p+y,this.seriesConfigs.push({innerRadius:p,radius:x}),g=C.margin||0,p=x}super.reflow(e)}animationDelay(e,t,n){return 50*e+Is*(t+1)/(n+1)}}O(UR,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const PK=UR,$R=class LK extends br{initFields(){this.valueAxisRangeTracker=new wg}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const e=this.valueAxis,t=e.range(),i=e.getSlot(e.options.reverse?t.max:t.min),o=this.polarAxis.getSlot(0).center,r=e.box.translate(o.x-i.x1,o.y-i.y1);e.reflow(r)}createValueAxis(){const e=this.valueAxisRangeTracker,t=e.query(),n=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let i,o;n.type===yg?(i=v9,o={min:.1,max:1}):(i=y9,o={min:0,max:1});const r=e.query(name)||t||o;r&&t&&(r.min=Math.min(r.min,t.min),r.max=Math.max(r.max,t.max));const a=new i(r.min,r.max,n,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){const{options:{plotArea:e},valueAxis:t,polarAxis:n,box:i}=this,o=.15*Math.min(i.width(),i.height()),r=Be(e.padding||{},o),a=i.clone().unpad(r),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,K,ue);const c=l.clone().shrink(0,l.height()/2);n.reflow(l),t.reflow(c);const u=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:u})),this.axisBox=l,this.alignAxes(l)}backgroundBox(){return this.box}detachLabels(){}};class GR extends Eg{pointSlot(e,t){const i=ne.onCircle(e.center,e.startAngle,e.center.y-t.y1);return new V(i.x,i.y,i.x,i.y)}}O(GR,{clip:!1});const WR=GR;class mw extends OR{}mw.prototype.pointSlot=WR.prototype.pointSlot,O(mw,{clip:!1});const qR=mw,BK=class FK extends Pb{fillToAxes(e){const t=this._polarAxisCenter();e.lineTo(t.x,t.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let e=this._strokeSegments;if(!e){const t=this._polarAxisCenter(),n=new ag(!1),i=this.points();i.push(t),e=this._strokeSegments=n.process(i),e.pop()}return e}},zK=class VK extends uc{fillToAxes(e){const n=this.parent.plotArea.polarAxis.box.center(),i=new an([n.x,n.y]);e.segments.unshift(i),e.segments.push(i)}};function jK(s,e){return s.value.x-e.value.x}const UK=class HK extends qR{createSegment(e,t,n){let o;return o=(t.line||{}).style===Zl?new BK(e,t,n):new zK(e,t,n),o}createMissingValue(e,t){let n;return os(e.x)&&t!==Xl&&(n={x:e.x,y:e.y},t===wo&&(n.y=0)),n}seriesMissingValues(e){return e.missingValues||wo}_hasMissingValuesGap(){const e=this.options.series;for(let t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0}sortPoints(e){if(e.sort(jK),this._hasMissingValuesGap())for(let t=0;t<e.length;t++){const n=e[t];n&&!os(n.value.y)&&"gap"===this.seriesMissingValues(n.series)&&delete e[t]}return e}};class yw extends $R{createPolarAxis(){const e=new g9(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)}valueAxisOptions(e){return S(e,{majorGridLines:{type:lr},minorGridLines:{type:lr}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}appendChart(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),br.prototype.appendChart.call(this,e,t)}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(xt(e,[mb]),t),this.createScatterChart(xt(e,[yb]),t),this.createAreaChart(xt(e,[gb]),t)}createLineChart(e,t){if(0===e.length)return;const n=new qR(this,{series:e});this.appendChart(n,t)}createScatterChart(e,t){if(0===e.length)return;const n=new WR(this,{series:e});this.appendChart(n,t)}createAreaChart(e,t){if(0===e.length)return;const n=new UK(this,{series:e});this.appendChart(n,t)}_dispatchEvent(e,t,n){const i=e._eventCoordinates(t),o=new ne(i.x,i.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==r&&null!==a&&e.trigger(n,{element:li(t),x:r,y:a})}createCrosshairs(){}}O(yw,{xAxis:{},yAxis:{}}),S(yw.prototype,Oh);const $K=yw;class KR extends Ib{pointSlot(e,t){const n=e.center.y-t.y1,i=ne.onCircle(e.center,e.middle(),n);return new V(i.x,i.y,i.x,i.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const e=function GK(s){const e=[];for(let t=0;t<s.length;t++){const n=s[t];e[n.seriesIx]=e[n.seriesIx]||[],e[n.seriesIx].push(n)}return e}(this._segments);for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.length>1){const i=n[0].linePoints[0],o=yt(n),r=yt(o.linePoints),l=r.categoryIx===r.categoriesCount-1;0===i.categoryIx&&l&&yt(n).linePoints.push(i)}}}}createSegment(e,t,n){let o;o=t.style===Zl?Ab:cc;const r=new o(e,t,n),a=this.seriesMissingValues(t);return(e.length===t.data.length||a===Xl)&&(r.options.closed=!0),r}}O(KR,{clip:!1,limitPoints:!1});const YR=KR,qK=class WK extends Pb{fillToAxes(){}},YK=class KK extends uc{fillToAxes(){}},ZK=class XK extends YR{createSegment(e,t,n,i){const r=(t.line||{}).style;let a,l,c;return this.options.isStacked&&n>0&&i&&(l=i.linePoints.slice(0),a=i),r===Zl?(c=new qK(e,t,n,a,l),c.options.closed=!0):(e.push(e[0]),c=new YK(e,t,n,a,l)),c}seriesMissingValues(e){return e.missingValues||wo}};class XR extends jR{constructor(e,t){super(e,null,t)}}O(XR,{overlay:{gradient:"none"},labels:{distance:10}});const QK=XR;class ZR extends Oe{constructor(e){super(e),this.forEach=e.rtl?uP:cP}reflow(e){const{options:t,children:n}=this,{gap:i,spacing:o}=t,r=n.length,l=e.angle/(r+i+o*(r-1));let c=e.startAngle+l*(i/2);this.forEach(n,u=>{const h=e.clone();h.startAngle=c,h.angle=l,u.sector&&(h.radius=u.sector.radius),u.reflow(h),u.sector=h,c+=l+l*o})}}O(ZR,{gap:1,spacing:0});const JK=ZR,tY=class eY extends Oe{reflow(e){const{options:{reverse:t},children:n}=this,i=n.length,o=t?i-1:0,r=t?-1:1;this.box=new V;for(let a=o;a>=0&&a<i;a+=r){const l=n[a].sector;l.startAngle=e.startAngle,l.angle=e.angle}}};class vw extends Ph{pointType(){return QK}clusterType(){return JK}stackType(){return tY}categorySlot(e,t){return e.getSlot(t)}pointSlot(e,t){const n=e.clone(),i=e.center.y;return n.radius=i-t.y1,n.innerRadius=i-t.y2,n}reflowPoint(e,t){e.sector=t,e.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}vw.prototype.reflow=Do.prototype.reflow,O(vw,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const nY=vw;class xw extends $R{createPolarAxis(){const e=new ab(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()}valueAxisOptions(e){return this._hasBarCharts&&S(e,{majorGridLines:{type:lr},minorGridLines:{type:lr}}),this._isStacked100&&S(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),S(e,this.options.valueAxis)}aggregateCategories(){va.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){va.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(e){return e}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(xt(e,[pg]),t),this.createLineChart(xt(e,[mg]),t),this.createBarChart(xt(e,[gg]),t)}chartOptions(e){const t={series:e},n=e[0];if(n){const i=this.filterVisibleSeries(e),o=n.stack;t.isStacked=o&&i.length>1,t.isStacked100=o&&"100%"===o.type&&i.length>1,t.isStacked100&&(this._isStacked100=!0)}return t}createAreaChart(e,t){if(0===e.length)return;const n=new ZK(this,this.chartOptions(e));this.appendChart(n,t)}createLineChart(e,t){if(0===e.length)return;const n=new YR(this,this.chartOptions(e));this.appendChart(n,t)}createBarChart(e,t){if(0===e.length)return;const n=e[0],i=this.chartOptions(e);i.gap=n.gap,i.spacing=n.spacing;const o=new nY(this,i);this.appendChart(o,t),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(e,t,n){const i=e._eventCoordinates(t),o=new ne(i.x,i.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==r&&null!==a&&e.trigger(n,{element:li(t),category:r,value:a})}createCrosshairs(){}}S(xw.prototype,Oh,{appendChart:va.prototype.appendChart,aggregateSeries:va.prototype.aggregateSeries,seriesSourcePoints:va.prototype.seriesSourcePoints}),O(xw,{categoryAxis:{categories:[]},valueAxis:{}});const sY=xw;class _w extends Oe{constructor(e,t,n){super(t),this.value=e,this.options.index=n.index}reflow(e){const t=this.points,n=this.children[0];this.box=new V(t[0].x,t[0].y,t[1].x,t[2].y),n&&n.reflow(new V(e.x1,t[0].y,e.x2,t[2].y))}createVisual(){const e=this.options;let t;super.createVisual(),t=e.visual?e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:e,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),t&&this.visual.append(t)}createPath(){const e=this.options,t=e.border;return ee.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()}createHighlight(e){return ee.fromPoints(this.points,e)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=ee.fromPoints(this.points).close();return{options:this.options,path:e}}tooltipAnchor(){const e=this.box;return{point:new ne(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(e){return this.owner.formatPointValue(this,e)}}O(_w,{color:Te,border:{width:1}}),S(_w.prototype,fi);const iY=_w;class bw extends Oe{constructor(e,t){super(t),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}render(){const{options:e,plotArea:{options:{seriesColors:t=[]}}}=this,n=e.series[0],i=n.data;if(!i)return;const{total:o,points:r}=SP(n);for(let a=0;a<r.length;a++){const l=r[a];if(!l)continue;let c=l.fields;ot(n.color)||(n.color=c.color||t[a%t.length]),c=S({index:a,owner:this,series:n,dataItem:i[a],percentage:l.value/o},c,{visible:l.visible});const u=l.valueFields.value,h=this.createSegment(u,c),d=this.createLabel(u,c);h&&d&&h.append(d)}}evalSegmentOptions(e,t,n){const i=n.series;So(e,{value:t,series:i,dataItem:n.dataItem,index:n.index},{defaults:i._defaults,excluded:["data","content","template","toggle","visual"]})}createSegment(e,t){const n=S({},t.series);if(this.evalSegmentOptions(n,e,t),this.createLegendItem(e,n,t),!1!==t.visible){const i=new iY(e,n,t);return Object.assign(i,t),this.append(i),this.points.push(i),i}}createLabel(e,t){const{series:n,dataItem:i}=t,o=S({},this.options.labels,n.labels);let r=e;if(o.visible){const a=Jt(o),l={dataItem:i,value:e,percentage:t.percentage,category:t.category,series:n};a?r=a(l):o.format&&(r=this.plotArea.chartService.format.auto(o.format,r)),o.color||(o.color=E_(n.color),o.background||(o.background=n.color)),this.evalSegmentOptions(o,e,t);const c=new is(r,S({vAlign:o.position},o),l);return this.labels.push(c),c}}labelPadding(){const e=this.labels,t={left:0,right:0};for(let n=0;n<e.length;n++){const o=e[n].options.align;if(o!==ue){const r=e[n].box.width();o===we?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t}dynamicSlopeReflow(e,t,n){const{options:i,points:o}=this,r=o.length,a=o[0];let l=a;for(let d=0;d<o.length;d++)o[d].percentage>l.percentage&&(l=o[d]);let c=a.percentage/l.percentage*t,u=(t-c)/2,h=0;for(let d=0;d<r;d++){const f=o[d].percentage,p=o[d+1],g=p?p.percentage:f,y=o[d].points=[],x=i.dynamicHeight?n*f:n/r;let w;w=f?(t-c*(g/f))/2:g?0:t/2,w=Z(w,0,t),y.push(new N(e.x1+u,e.y1+h)),y.push(new N(e.x1+t-u,e.y1+h)),y.push(new N(e.x1+t-w,e.y1+x+h)),y.push(new N(e.x1+w,e.y1+x+h)),u=w,h+=x+i.segmentSpacing,c=Z(t-2*w,0,t)}}constantSlopeReflow(e,t,n){const{options:i,points:o}=this,r=o.length,a=i.neckRatio<=1;let c=a?0:(t-t/i.neckRatio)/2;const h=((a?t:t-2*c)-(a?i.neckRatio*t:t))/2;let d=0;for(let f=0;f<r;f++){const p=o[f].points=[],g=o[f].percentage,y=i.dynamicHeight?h*g:h/r,x=i.dynamicHeight?n*g:n/r;p.push(new N(e.x1+c,e.y1+d)),p.push(new N(e.x1+t-c,e.y1+d)),p.push(new N(e.x1+t-c-y,e.y1+x+d)),p.push(new N(e.x1+c+y,e.y1+x+d)),c+=y,d+=x+i.segmentSpacing}}reflow(e){const t=this.points,n=t.length;if(!n)return;const i=this.options,o=e.clone().unpad(this.labelPadding()),r=o.height()-i.segmentSpacing*(n-1),a=o.width();i.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(let l=0;l<n;l++)t[l].reflow(e)}}O(bw,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:ue,position:ue,zIndex:1}}),S(bw.prototype,BR);const oY=bw;class Lg extends Oe{constructor(e,t){super(),this.options=t,this.color=t.color||Te,this.value=e}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const t=this.options.labels;if(t.visible){const n=this.pointData();let o,i=Jt(t),r=t.color;o=i?i(n):this.formatValue(t.format),r||(r=E_(this.color)),this.label=new is(o,S({align:ue,vAlign:ue,margin:{left:5,right:5},zIndex:re(t.zIndex,this.series.zIndex)},t,{color:r}),n),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;this.box=e,t&&t.reflow(this.markerBox()),this.note&&this.note.reflow(e),this.marker.reflow(this.markerBox())}markerBox(){const t=this.options.markers,n=t.border,i=this.box.toRect(),r=re(t.type,"rect")===$M;let a=re(n.width,r?1:0);const l=Math.round(a/2);if(t.size){const c=i.center();i.size.width=i.size.height=t.size,i.origin.x=Math.round(c.x-i.size.width/2),i.origin.y=Math.round(c.y-i.size.height/2)}return i.size.width-=a,i.size.height-=a,i.origin.y+=l+.5,i.origin.x+=l+.5,$p(i)}markerBorder(){const e=this.options,n=e.markers.border,i=re(n.opacity,e.opacity);return{color:n.color||this.color,width:n.width,opacity:i,dashType:n.dashType}}createMarker(){const e=this.options,t=e.markers,n=new mr({type:re(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:re(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)}createHighlight(e){const t=this.options,n=this.options.highlight.markers||this.options.markers,i=new mr({type:re(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:re(t.zIndex,this.series.zIndex)});i.reflow(this.markerBox());const o=i.getElement();return o.options.fill=e.fill,o.options.stroke=e.stroke,o}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}tooltipAnchor(){const e=this.box.center().x;return{point:new ne(e,this.box.y1-5),align:{horizontal:ue,vertical:Re}}}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}S(Lg.prototype,fi),S(Lg.prototype,lc),Lg.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};const QR=Lg;class ww extends Oe{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:mt,max:kt},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:e}}=this;for(let t=0;t<e.length;t++){const n=e[t];for(let i=0;i<n.data.length;i++){const{valueFields:o}=this._bindPoint(n,t,i);P(o.value)&&null!==o.value&&(this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value))}}}addValue(e,t){let n;e&&P(e.value)&&null!==e.value&&(n=this.createPoint(e,t),n&&Object.assign(n,t)),this.points.push(n)}evalPointOptions(e,t,n){const{series:i,seriesIx:o}=n,r={defaults:i._defaults,excluded:["data","tooltip","content","template","visual","toggle"]};let a=this._evalSeries[o];P(a)||(this._evalSeries[o]=a=So(e,{},r,!0));let l=e;return a&&(l=S({},e),So(l,{value:t,series:i,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},r)),l}pointType(){return QR}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const i=this.pointType().prototype.defaults;this.seriesOptions[t]=n=S({},i,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n}createPoint(e,t){const n=t.series;let i=this.pointOptions(n,t.seriesIx),o=t.color||n.color;i=this.evalPointOptions(i,e,t),ot(n.color)?o=i.color:0!==this.valueRange.max&&(o=((s,e=.05)=>{const t=Tp(s),n=1-e;return i=>{const o=t.toHSL(),r=100-o.l;return o.l+=Math.min((n-i)*r,r),o.toCss()}})(o)(e.value/this.valueRange.max));const r=new QR(e,i);return r.color=o,this.append(r),r}seriesAxes(e){const{xAxis:t,yAxis:n}=e,i=this.plotArea,o=t?i.namedXAxes[t]:i.axisX,r=n?i.namedYAxes[n]:i.axisY;if(!o)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:o,yAxis:r}}reflow(e){const t=this.points,n=!this.options.clip;let i=0;this.traverseDataPoints((o,r)=>{const a=t[i++],{xAxis:l,yAxis:c}=this.seriesAxes(r.series),u=l.categoryIndex(o.x),h=c.categoryIndex(o.y),d=l.getSlot(u,u,n),f=c.getSlot(h,h,n);if(a)if(d&&f){const p=this.pointSlot(d,f);a.reflow(p)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new V(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t}}=this;for(let n=0;n<t.length;n++){const i=t[n],{xAxis:o,yAxis:r}=this.seriesAxes(i),a=o.currentRangeIndices(),l=r.currentRangeIndices();for(let c=0;c<i.data.length;c++){const{valueFields:u,fields:h}=this._bindPoint(i,n,c),d=o.totalIndex(u.x),f=r.totalIndex(u.y),g=l.min<=f&&f<=l.max;a.min<=d&&d<=a.max&&g&&e(u,S({pointIx:c,series:i,seriesIx:n,dataItem:i.data[c],owner:this},h))}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.value)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}}O(ww,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),S(ww.prototype,{_bindPoint:Do.prototype._bindPoint});const cY=ww;class Cw extends br{initFields(){this.namedXAxes={},this.namedYAxes={}}render(e=this.panes){this.bindCategories(),this.createAxes(e),this.createCharts(e),this.createAxisLabels()}bindCategories(){const e=this.srcSeries||this.series;for(let t=0;t<e.length;t++){const n=e[t],i=n.data||[],{xAxis:o,yAxis:r}=this.seriesAxes(n),a=Ck(o.categories||[]),l=Ck(r.categories||[]);for(let c=0;c<i.length;c++){const{x:u,y:h}=vt.current.bindPoint(n,c).valueFields;a.has(u)||a.add(u),l.has(h)||l.add(h)}o.categories=a.values(),r.categories=l.values()}}createCharts(e){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const i=e[n],o=t[i.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||this.createHeatmapChart(xt(r,[pb]),i)}}createHeatmapChart(e,t){const n=new cY(this,{series:e});this.appendChart(n,t)}seriesPaneName(e){const t=this.options,n=e.xAxis,o=es([].concat(t.xAxis),function(d){return d.name===n})[0],r=e.yAxis,l=es([].concat(t.yAxis),function(d){return d.name===r})[0];return(o||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}seriesAxes(e){let t,n;const i=this.options,o=[].concat(i.xAxis),r=e.xAxis;t=r?o.find(c=>c.name===r):o[0];const a=[].concat(i.yAxis),l=e.yAxis;if(n=l?a.find(c=>c.name===l):a[0],!t)throw new Error("Unable to locate X axis with name "+r);if(!n)throw new Error("Unable to locate Y axis with name "+l);return{xAxis:t,yAxis:n}}createAxisLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t].createLabels()}createXYAxis(e,t,n){const i=e.name,o=t?this.namedYAxes:this.namedXAxes,r=Object.assign({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:!1}),l=[r.min,r.max,r.categories?r.categories[0]:null],c=this.series;for(let f=0;f<c.length;f++){const p=c[f],g=p[t?"yAxis":"xAxis"];if(g===r.name||0===n&&!g){const y=vt.current.bindPoint(p,0).valueFields;l.push(y[t?"y":"x"]);break}}let u,h;for(let f=0;f<l.length;f++)if(l[f]instanceof Date){u=!0;break}h=_r(r.type,cr)||!r.type&&u?yh:_o;const d=new h(r,this.chartService);if(d.axisIndex=n,i){if(o[i])throw new Error(`${t?"Y":"X"} axis with name ${i} is already defined`);o[i]=d}return this.appendAxis(d),d.mapCategories(),d}createAxes(e){const t=this.options,n=[].concat(t.xAxis),i=[],o=[].concat(t.yAxis),r=[];for(let a=0;a<n.length;a++)ye(this.findPane(n[a].pane),e)&&i.push(this.createXYAxis(n[a],!1,a));for(let a=0;a<o.length;a++)ye(this.findPane(o[a].pane),e)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||i[0],this.axisY=this.axisY||r[0]}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?delete this.namedYAxes[t]:delete this.namedXAxes[t],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}_dispatchEvent(e,t,n){const i=e._eventCoordinates(t),o=new ne(i.x,i.y),r=this.axes,a=r.length,l=[],c=[];for(let u=0;u<a;u++){const h=r[u];Ag(h.options.vertical?c:l,h.getCategory(o))}l.length>0&&c.length>0&&e.trigger(n,{element:li(t),originalEvent:t,x:hc(l),y:hc(c)})}updateAxisOptions(e,t){const n=e.options.vertical,i=this.groupAxes(this.panes),o=(n?i.y:i.x).indexOf(e);JR(this.options,o,n,t),JR(this.originalOptions,o,n,t)}crosshairOptions(e){return Object.assign({},e.options.crosshair,{zIndex:0})}}function JR(s,e,t,n){S([].concat(t?s.yAxis:s.xAxis)[e],n)}O(Cw,{xAxis:{},yAxis:{}}),S(Cw.prototype,Oh);const uY=Cw,rs="color",as="first",Mn="max",ko="noteText";Ao.current.register(va,[di,Co,wh,ic,_h,nc,Jl,Ch,vr,Eh,bh,sc,Dh,tc,Th,ec,Sh,oc]),Ao.current.register(DK,[vb,xb,Ql]),Ao.current.register(HR,[xr]),Ao.current.register(class RK extends HR{render(){this.createDonutChart(this.series)}createDonutChart(e){const t=e[0],n=new PK(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}},[dg]),Ao.current.register(class rY extends br{render(){this.createFunnelChart(this.series)}createFunnelChart(e){const t=e[0],n=new oY(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(n)}appendChart(e,t){super.appendChart(e,t),ra(this.options.legend.items,e.legendItems)}},[fg]),Ao.current.register($K,[gb,mb,yb]),Ao.current.register(sY,[pg,gg,mg]),Ao.current.register(uY,[pb]),vt.current.register([di,Co,wh,ic,_h,nc],[Jn],[Bi,rs,ko,$I,GI]),vt.current.register([Dh,tc,Sh,oc],["from","to"],[Bi,rs,ko]),vt.current.register([Th,ec],[Jn],[Bi,rs,ko,"summary"]),vt.current.register([gb,mb,yb],[q,K],[rs]),vt.current.register([pg,gg,mg],[Jn],[rs]),vt.current.register([fg],[Jn],[Bi,rs,"visibleInLegend","visible"]),ya.current.register([di,Co,wh,ic,_h,nc,Th,ec],{value:Mn,color:as,noteText:as,errorLow:"min",errorHigh:Mn}),ya.current.register([Dh,tc,Sh,oc],{from:"min",to:Mn,color:as,noteText:as}),ya.current.register([pg,gg,mg],{value:Mn,color:as}),vt.current.register([vb,xb,Ql],[q,K],[rs,ko,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),vt.current.register([Ql],[q,K,"size"],[rs,Bi,ko]),vt.current.register([pb],[q,K,Jn],[rs,ko]),vt.current.register([Jl,Ch],["open","high","low","close"],[Bi,rs,"downColor",ko]),ya.current.register([Jl,Ch],{open:Mn,high:Mn,low:"min",close:Mn,color:as,downColor:as,noteText:as}),vt.current.register([bh,sc],["lower","q1","median","q3","upper","mean","outliers"],[Bi,rs,ko]),ya.current.register([bh,sc],{lower:Mn,q1:Mn,median:Mn,q3:Mn,upper:Mn,mean:Mn,outliers:as,color:as,noteText:as}),vt.current.register([vr,Eh],["current","target"],[Bi,rs,"visibleInLegend",ko]),ya.current.register([vr,Eh],{current:Mn,target:Mn,color:as,noteText:as}),vt.current.register([xr,dg],[Jn],[Bi,rs,"explode","visibleInLegend","visible"]);const Dw=[Bi,Jn,q,K],ba="mousemove",e2="contextmenu",t2="mouseleave";class n2 extends W{constructor(e,t,n,i={}){super(),this.observers=[],this.addObserver(i.observer),this.chartService=new $_(this,i),this.chartService.theme=n,this._initElement(e);const o=S({},this.options,t);this._originalOptions=S({},o),this._theme=n,this._initTheme(o,n),this._initHandlers(),this._initSurface(),this.bindCategories(),v6.preloadFonts(t,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(e){for(this._setElementClass(e),e.style.position="relative";e.firstChild;)e.removeChild(e.firstChild);this.element=e}_setElementClass(e){Tn(e,"k-chart")}_initTheme(e,t){const n=[],i=e.series||[];for(let o=0;o<i.length;o++)n.push(Object.assign({},i[o]));e.series=n,function gY(s){const e=Dw;for(let t=0;t<e.length;t++){const n=e[t]+"Axes";s[n]&&(s[e[t]+"Axis"]=s[n],delete s[n])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,this.options=S({},t,e),this.applySeriesColors()}getSize(){const e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}}resize(e){const t=this.getSize(),n=this._size,i=t.width>0||t.height>0;e||i&&(!n||t.width!==n.width||t.height!==n.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):i&&this._selections&&mk(this._selections,o=>!o.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){const t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()}getAxis(e){return jI(e,this._plotArea.axes)}findAxisByName(e){return this.getAxis(e)}findPaneByName(e){const t=this._plotArea.panes;for(let n=0;n<t.length;n++)if(t[n].options.name===e)return new cb(t[n])}findPaneByIndex(e){const t=this._plotArea.panes;if(t[e])return new cb(t[e])}plotArea(){return new D9(this._plotArea)}toggleHighlight(e,t){const n=this._plotArea,i=(n.srcSeries||n.series||[])[0];let o;if(ot(t))o=n.filterPoints(t);else{let r,a;ri(t)?(r=t.series,a=t.category):r=a=t,o=i.type===dg?s2(n.pointsBySeriesName(r),a):i.type===xr||i.type===fg?s2((n.charts[0]||{}).points,a):n.pointsBySeriesName(r)}o&&this.togglePointsHighlight(e,o)}togglePointsHighlight(e,t){const n=this._highlight;for(let i=0;i<t.length;i++)n.togglePointHighlight(t[i],e)}showTooltip(e){const t=this._sharedTooltip(),{_tooltip:n,_plotArea:i}=this;let o,r;if(ot(e)?(o=i.findPoint(e),o&&t&&(r=o.categoryIx)):t&&P(e)&&(r=i.categoryAxis.categoryIndex(e)),t){if(r>=0){const a=this._plotArea.pointsByCategoryIndex(r);n.showAt(a)}}else o&&n.show(o)}hideTooltip(){this._tooltip.hide()}_initSurface(){const e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&po(t,{width:n.width}),n.height&&po(t,{height:n.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Bh.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new nK,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),o2(this._plotArea.panes),this._navState||this._cancelDomEvents()}exportVisual(e){let t;if(e&&(e.width||e.height||e.options)){const n=this.options,i=S({},e.options,{chartArea:{width:e.width,height:e.height}});Ew(this._originalOptions,i),this.options=S({},this._originalOptions,i),this._initTheme(this.options,this._theme),this.bindCategories();const o=this._getModel();o.renderVisual(),o2(o._plotArea.panes),t=o.visual,this.options=n}else t=this.surface.exportVisual();return t}_sharedTooltip(){return this._plotArea instanceof va&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const e=this.options;!1!==e.pannable&&(this._pannable=new sK(this._plotArea,e.pannable))}_createZoomSelection(){const e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new iK(this,t))}_createMousewheelZoom(){const e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new cK(this,t))}_toggleDragZoomEvents(){const t=this.options.zoomable,i=(t||{}).mousewheel,o=!(this.options.pannable||!1!==t&&!1!==(t||{}).selection||this.requiresHandlers([bb,Ah,Mh])),r=(!1===t||!1===i)&&!this.requiresHandlers([kh,rc,ac]),a=this.element;this._dragZoomEnabled&&o&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(o&&r)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!r)}_toggleDomEvents(e,t){const n=this.domEvents;!n||(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))}_createTooltip(){const{options:{tooltip:e}}=this;let t;return t=this._sharedTooltip()?this._createSharedTooltip(e):new SK(this.chartService,e),t}_createSharedTooltip(e){return new MR(this._plotArea,e)}applyDefaults(e,t){(function mY(s,e){const t=(e||{}).axisDefaults||{};let n,i,o;function r(a){const l=(a||{}).color||i.color,c=S({},t,t[n],i,i[n],{line:{color:l},labels:{color:l},title:{color:l}},a);return delete c[n],c}for(let a=0;a<Dw.length;a++)n=Dw[a]+"Axis",i=s.axisDefaults||{},o=[].concat(s[n]),o=o.map(r),s[n]=o.length>1?o:o[0]})(e,t),function yY(s,e){const t=s.series,n=t.length,i=s.seriesDefaults,o=S({},s.seriesDefaults),r=e?S({},e.seriesDefaults):{},a=S({},r);i2(o),i2(a);for(let l=0;l<n;l++){const c=t[l].type||s.seriesDefaults.type,u=S({data:[]},a,r[c],{tooltip:s.tooltip},o,i[c]);t[l]._defaults=u,t[l]=S({},u,t[l]),t[l].data=t[l].data||[]}}(e,t)}applySeriesColors(){const e=this.options,t=e.series,n=e.seriesColors||[];for(let i=0;i<t.length;i++){const o=t[i],r=n[i%n.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}}_getModel(){const e=this.options,t=this._createPlotArea(),n=new NW(this._modelOptions());n.chart=this,n._plotArea=t;const i=Wp.buildTitle(e.title),o=Wp.buildTitle(e.subtitle,{align:e.title.align,position:e.title.position});return n.append.apply(n,Wp.orderTitles([i,o])),e.legend&&e.legend.visible&&n.append(new _K(t.options.legend,this.chartService)),n.append(t),n.reflow(),n}_modelOptions(){const e=this.options,t=this.getSize();return S({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)}_createPlotArea(e){const t=this.options;return Ao.current.create(e?[]:t.series,t,this.chartService)}_setupSelection(){const{_plotArea:{axes:e}}=this,t=this._selections=[];for(let n=0;n<e.length;n++){const i=e[n],o=i.options;if(i instanceof _o&&o.select&&!o.vertical){const r=i.range(),a=new TR(this,i,S({min:r.min,max:r.max},o.select));t.push(a)}}}_selectStart(e){return this.trigger(wb,e)}_select(e){return this.trigger(Ih,e)}_selectEnd(e){return this.trigger(Cb,e)}_initHandlers(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=iw(this._mousemove.bind(this),20)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0}trigger(e,t={}){e===XI&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;const n=this.observers;let i=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(i=!0);return i}_attachEvents(){const e=this.element;this._touchAction=e.style.touchAction,ih(e,{[e2]:this._clickHandler,[xg]:this._mousewheelHandler,[t2]:this._mouseleaveHandler}),this._shouldAttachMouseMove()&&ih(e,{[ba]:this._mousemove}),this.domEvents=W_.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(_b),this._plotArea.hovered=!1)}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())}_gestureend(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(ac,{}))}_gesturechange(e){const t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();let i=-e.distance/this._gestureDistance+1;if(Math.abs(i)>=.1){i=Math.round(10*i),this._gestureDistance=e.distance;const o={delta:i,axisRanges:zh(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(kh,o)){const r=this._eventCoordinates(e);this._zooming||(this._zooming=!0),(o.axisRanges=t.updateRanges(i,r))&&!this.trigger(rc,o)&&t.zoom()}}}}_mouseout(e){if(e.element){const t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}}_start(e){const t=this._eventCoordinates(e);this._stopChartHandlers(e)||!this._plotArea.backgroundContainsPoint(t)||(this.requiresHandlers([bb,Ah,Mh])&&this._startNavigation(e,t,bb),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger(kh,{axisRanges:zh(this._plotArea.axes),originalEvent:e}))}_move(e){let{_navState:t,_pannable:n}=this;if(!this._stopChartHandlers(e)){if(n){const i=n.move(e);i&&!this.trigger(Ah,{axisRanges:i,originalEvent:e})&&n.pan()}else if(t){const i={},o=t.axes;for(let r=0;r<o.length;r++){const a=o[r];if(a.options.name){const c=a.options.vertical?e.y:e.x,u=c.startLocation-c.location;0!==u&&(i[a.options.name]=a.translateRange(u))}}t.axisRanges=i,this.trigger(Ah,{axisRanges:i,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}}_end(e){if(this._stopChartHandlers(e))return;const t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger(Mh,{axisRanges:zh(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,Mh),this._zoomSelection){const n=this._zoomSelection.end(e);n&&!this.trigger(rc,{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(ac,{axisRanges:n,originalEvent:e}))}}_stopChartHandlers(e){const t=this._selections||[];if(!t.length)return!1;const n=this._eventCoordinates(e),i=this._plotArea.paneByPoint(n);if(i)for(let o=0;o<t.length;o++)if(t[o].onPane(i))return!0}_mousewheelZoomRate(){return re(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(e){const t=f_(e),n=this._mousewheelZoom,i=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(i))if(n){const o={delta:t,axisRanges:zh(this._plotArea.axes),originalEvent:e};(this._zooming||!this.trigger(kh,o))&&(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=n.updateRanges(t,i),o.axisRanges&&!this.trigger(rc,o)&&n.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(ac,o),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let o=this._navState;if(o||this._startNavigation(e,i,kh)||(o=this._navState),o){const r=o.totalDelta||t;o.totalDelta=r+t;const a=this._navState.axes,l={};for(let c=0;c<a.length;c++){const u=a[c],h=u.options.name;h&&(l[h]=u.scaleRange(-r*this._mousewheelZoomRate(),i))}this.trigger(rc,{delta:t,axisRanges:l,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(e,ac)},150)}}}_startNavigation(e,t,n){const i=this._model._plotArea,o=i.findPointPane(t),r=i.axes.slice(0);if(!o)return;const a=zh(r);this.trigger(n,{axisRanges:a,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:r})}_endNavigation(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)}_getChartElement(e,t){const n=this.surface.eventTarget(e);if(n)return this._drawingChartElement(n,e,t)}_drawingChartElement(e,t,n){let o,i=e;for(;i&&!o;)o=i.chartElement,i=i.parent;if(o)return o.aliasFor&&(o=o.aliasFor(t,this._eventCoordinates(t))),n&&(o=o.closest(n),o&&o.aliasFor&&(o=o.aliasFor())),o}_eventCoordinates(e){const t=g6(e);return this._toModelCoordinates(t.x,t.y)}_elementPadding(){if(!this._padding){const{paddingLeft:e,paddingTop:t}=rt(this.element,["paddingLeft","paddingTop"]);this._padding={top:t,left:e}}return this._padding}_toDocumentCoordinates(e){const t=this._elementPadding(),n=Wl(this.element);return{left:B(e.x+t.left+n.left),top:B(e.y+t.top+n.top)}}_toModelCoordinates(e,t){const n=this.element,i=Wl(n),o=this._elementPadding(),r=function b6(s){if(!s)return Sp.unit();let e=yk(s),t=s.parentElement;for(;t;){const n=yk(t);e=e.multiplyCopy(n),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}(n).invert(),a=new N(e-i.left-o.left,t-i.top-o.top).transform(r);return new ne(a.x,a.y)}_tap(e){const t=this.surface.eventTarget(e),n=this._drawingChartElement(t,e),i=this._sharedTooltip();!this._startHover(t,e)&&!i&&this._unsetActivePoint(),i&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(n,e),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(e){const t=this._getChartElement(e);this._propagateClick(t,e)}_propagateClick(e,t){let n=e;for(;n;)n.click&&n.click(this,t),n=n.parent}_startHover(e,t){if(this._suppressHover)return!1;let n=this._drawingChartElement(e,t,function(a){return(a.hover||a.over)&&!(a instanceof br)});const i=this._activePoint,o=this._plotArea.series.length>1,r=this._hasInactiveOpacity();return this._updateHoveredPoint(n,t),n&&i!==n&&n.hover?(this._activePoint=n,!this._sharedTooltip()&&!n.hover(this,t)&&(this._displayTooltip(n),r?this._displayInactiveOpacity(n,o):this._highlight.show(n))):!n&&r&&(o&&this._activeChartInstance&&(this._updateSeriesOpacity(n,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),n}_displayTooltip(e){S({},this.options.tooltip,e.options.tooltip).visible&&this._tooltip.show(e)}_displayInactiveOpacity(e,t,n){const i=this._activeChartInstance=this._chartInstanceFromPoint(e);if(i)if(t)this._updateSeriesOpacity(e),this._applySeriesOpacity(i.children,null,!0),this._applySeriesOpacity(i.children,e.series),this._highlight.show(n||e);else{let o;if(!i.supportsPointInactiveOpacity())return void this._highlight.show(e);o=this._getInactivePoints(e,i),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(e.series))}}_getInactivePoints(e,t){return this._getAllPointsOfType(t,e.constructor).filter(i=>i!==e)}_getAllPointsOfType(e,t){let n=[];for(let i=0;i<e.children.length;i++){const o=e.children[i];o.constructor===t?n.push(o):o.children&&o.children.length&&(n=n.concat(this._getAllPointsOfType(o,t)))}return n}_updateHoveredPoint(e,t){const n=this._hoveredPoint;n&&n!==e&&(n.out(this,t),this._hoveredPoint=null),e&&n!==e&&e.over&&(this._hoveredPoint=e,e.over(this,t))}_updateSeriesOpacity(e,t){const n=this._plotArea,i=n.series.length;for(let o=0;o<i;o++){const r=n.series[o],a=this._getDefaultOpacityForSeries(r),l=this._getInactiveOpacityForSeries(r);t||r===e.series?(r.opacity=a,r.line&&(r.line.opacity=a)):(r.defaultOpacity=a,r.opacity=l,r.line&&(r.line.opacity=l))}}_applySeriesOpacity(e,t,n,i){for(let o=0;o<e.length;o++){const r=e[o],a=r.series||i;if(a&&(a.highlight||{}).visible&&r.visual){const c=i?i.opacity:r.series.opacity;(a!==t||n)&&r.visual.opacity(n?1:c)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,t,n,r.series)}}_chartInstanceFromPoint(e){let t=e.parent;for(;t&&!t.plotArea;)t=t.parent;return t}_hasInactiveOpacity(){let e=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,t=this.options.series.filter(n=>void 0!==n.highlight.inactiveOpacity).length>0;return e||t}_getInactiveOpacityForSeries(e){return e.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||e.opacity||1}_getDefaultOpacityForSeries(e){return e.defaultOpacity||e.opacity||1}_mouseover(e){const t=this._startHover(e.element,e.originalEvent);t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),ih(document,{[ba]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(e){const{options:t,_tooltip:n,_highlight:i,_activePoint:o}=this,r=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(r)){if(o&&o.tooltipTracking&&o.series&&o.parent.getNearestPoint){const a=o.parent.getNearestPoint(r.x,r.y,o.seriesIx);a&&a!==o&&(this._activePoint=a,a.hover(this,e)||(S({},t.tooltip,a.options.tooltip).visible&&n.show(a),i.show(a)))}}else oh(document,{[ba]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}_mousemove(e){const t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){const i=n.backgroundContainsPoint(t);i?(n.hovered=!0,this._plotArea.hover(this,e)):n.hovered&&!i&&(this.trigger(_b),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(t,e)}_trackCrosshairs(e){const t=this._plotArea.crosshairs;for(let n=0;n<t.length;n++){const i=t[n];i.box.containsPoint(e)?i.showAt(e):i.hide()}}_trackSharedTooltip(e,t,n){if(this._suppressHover)return;const{options:{tooltip:i},_plotArea:o,_plotArea:{categoryAxis:r},_tooltip:a,_highlight:l}=this;if(o.backgroundContainsPoint(e)){const c=r.pointCategoryIndex(e);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){const u=o.pointsByCategoryIndex(c),h=u.map(function(f){return f.eventArgs(t)}),d=h[0]||{};d.categoryPoints=h,u.length>0&&!this.trigger(KI,d)?(i.visible&&a.showAt(u,e),l.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(e){const t=this._plotArea;this._mousemove.cancel(),t.hideCrosshairs(),this._unsetActivePoint(e)}_unsetActivePoint(e){const{_tooltip:t,_highlight:n}=this;this._activePoint=null,this._hoveredPoint=null,t&&!(e&&e.keepTooltipOpen)&&t.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,n&&n.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const t=[].concat(this.options.categoryAxis);for(let n=0;n<t.length;n++){const i=t[n];!1!==i.autoBind&&this.bindCategoryAxisFromSeries(i,n)}}bindCategoryAxisFromSeries(e,t){const n=this.options.series,i=n.length,o=new QM;let l,r=[],a=!1;for(let c=0;c<i;c++){const u=n[c],h=u.categoryAxis===e.name||!u.categoryAxis&&0===t,d=u.data,f=d.length,p=u.categoryField&&h;if(a=p||a,p&&f>0){l=EP(e,lg(u.categoryField,d[0]));const g=l?DP:lg;for(let y=0;y<f;y++){const x=d[y],w=g(u.categoryField,x,this.chartService.intl);(l||!o.get(w))&&(r.push([w,x]),l||o.set(w,!0))}}}if(r.length>0){l&&(r=function xY(s,e=fa){const t=function vY(s,e=fa){for(let t=1,n=s.length;t<n;t++)if(e(s[t],s[t-1])<0){s.sort(e);break}return s}(s,e),n=t.length,i=n>0?[t[0]]:[];for(let o=1;o<n;o++)0!==e(t[o],yt(i))&&i.push(t[o]);return i}(r,function(u,h){return fa(u[0],h[0])}));const c=function _Y(s){const e=s.length,t=[];for(let n=0;n<e;n++){const i=s[n],o=i.length;for(let r=0;r<o;r++)t[r]=t[r]||[],t[r].push(i[r])}return t}(r);e.categories=c[0]}else a&&(e.categories=[])}_isBindable(e){const t=vt.current.valueFields(e);let n=!0;for(let i=0;i<t.length;i++){let o=t[i];if(o===Jn?o="field":o+="Field",!P(e[o])){n=!1;break}}return n}_noTransitionsRedraw(){const e=this.options;let t;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)}_legendItemHover(e,t){const{_plotArea:n,_highlight:i}=this,o=(n.srcSeries||n.series)[e];let r;r=ye(o.type,[xr,dg,fg])?n.findPoint(function(a){return a.series.index===e&&a.index===t}):n.pointsBySeriesIndex(e),this._hasInactiveOpacity()&&o.visible&&r?this._displayInactiveOpacity(r.length?r[0]:r,n.series.length>1,r):i.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([YI,_b])}updateMouseMoveHandler(){oh(this.element,{[ba]:this._mousemove}),this._shouldAttachMouseMove()&&ih(this.element,{[ba]:this._mousemove})}applyOptions(e,t){Ew(this._originalOptions,e),this._originalOptions=S(this._originalOptions,e),this.options=S({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(e){this.chartService.intl=e}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,oh(this.element,{[e2]:this._clickHandler,[xg]:this._mousewheelHandler,[ba]:this._mousemove,[t2]:this._mouseleaveHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&oh(document,{[ba]:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)}_destroySelections(){const e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()}_destroyView(){const e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function s2(s,e){if(s)for(let t=0;t<s.length;t++)if(s[t].category===e)return[s[t]]}function i2(s){delete s.bar,delete s.column,delete s.rangeColumn,delete s.line,delete s.verticalLine,delete s.pie,delete s.donut,delete s.area,delete s.verticalArea,delete s.scatter,delete s.scatterLine,delete s.bubble,delete s.candlestick,delete s.ohlc,delete s.boxPlot,delete s.bullet,delete s.verticalBullet,delete s.polarArea,delete s.polarLine,delete s.radarArea,delete s.radarLine,delete s.waterfall}function zh(s){const e={};for(let t=0;t<s.length;t++){const n=s[t],i=n.options.name;i&&(e[i]=n.range())}return e}const bY=["data","categories"];function Ew(s,e){for(let t in e)if(!ye(t,bY)&&e.hasOwnProperty(t)){const n=e[t],i=s[t];if(P(i)){const o=null===n;o||!P(n)?(delete s[t],o&&delete e[t]):i&&ri(n)&&ri(i)&&Ew(i,n)}}}function o2(s){for(let e=0;e<s.length;e++)s[e].notifyRender()}O(n2,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Co,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const Tw=n2,SY=class CY extends MR{_slotAnchor(e,t){const i=this.plotArea.categoryAxis.options.vertical,o=i?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let r;return r=i?new ne(this.plotArea.box.x2,t.center().y):new ne(t.center().x,-2),{point:r,align:o}}_defaultAnchor(e,t){return this._slotAnchor({},t)}},r2=[di,vr];function a2(s){const e=[];for(let t=0;t<s.length;t++){const n=s[t];e[t]=n.style.display,n.style.display="none"}return e}function l2(s,e){for(let t=0;t<s.length;t++)s[t].style.display=e[t]}function c2(s){return pe(s)?[s]:s}O(class u2 extends Tw{_setElementClass(e){Tn(e,"k-sparkline")}_initElement(e){super._initElement(e),this._initialWidth=Math.floor(po(e).width)}_resize(){const e=this.element,t=a2(e.childNodes);this._initialWidth=Math.floor(po(e).width),l2(e.childNodes,t),super._resize()}_modelOptions(){const e=this.options,t=this._surfaceWrap(),n=a2(t.childNodes),i=document.createElement("span");i.innerHTML="&nbsp;",t.appendChild(i);const o=S({width:this._autoWidth,height:po(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return po(t,{width:o.width,height:o.height}),t.removeChild(i),l2(t.childNodes,n),this.surface&&this.surface.resize(),o}_surfaceWrap(){if(!this.stage){const e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage}_createPlotArea(e){const t=super._createPlotArea(e);return this._autoWidth=this._initialWidth||this._calculateWidth(t),t}_calculateWidth(e){const t=this.options,n=Be(t.chartArea.margin),i=e.charts,o=this._surfaceWrap();let r=0;for(let l=0;l<i.length;l++){const c=i[l],u=(c.options.series||[])[0];if(!u)continue;if(u.type===di)return 150;if(u.type===vr)return 150;if(u.type===xr)return po(o).height;const h=c.categoryAxis;if(h){const d=h.categoriesCount()*(!c.options.isStacked&&ye(u.type,[Co,Eh])?c.seriesOptions.length:1);r=Math.max(r,d)}}let a=r*t.pointWidth;return a>0&&(a+=n.left+n.right),a}_createSharedTooltip(e){return new SY(this._plotArea,e)}static normalizeOptions(e){let t=c2(e);return t=Qt(t)?{seriesDefaults:{data:t}}:S({},t),t.series||(t.series=[{data:c2(t.data)}]),S(t,{seriesDefaults:{type:t.type}}),(ye(t.series[0].type,r2)||ye(t.seriesDefaults.type,r2))&&(t=S({},{categoryAxis:{crosshair:{visible:!1}}},t)),t}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const AY=class TY extends ss{setup(){this._initialOpacity=parseFloat(rt(this.element,"opacity").opacity)}step(e){rt(this.element,{opacity:String(Ds(this._initialOpacity,0,e))})}abort(){super.abort(),rt(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),rt(this.element,{opacity:String(this._initialOpacity)})}};function Mw(s,e){const t=document.createElement("div");return t.className=s,e&&(t.style.cssText=e),t}class h2 extends W{constructor(e,t,n){super(),this.options=S({},this.options,n),this.container=e,this.chartService=t;const i=rt(e,["paddingLeft","paddingTop"]);this.chartPadding={top:i.paddingTop,left:i.paddingLeft},this.createElements(),e.appendChild(this.element)}createElements(){const e=this.element=Mw("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=Mw("k-tooltip k-chart-tooltip"),n=this.scroll=Mw("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(n)}show(e,t,n){const{element:i,options:o,scroll:r,tooltip:a}=this,l=Ge(We(e)+We(t-e)/2),c=.4*n.width(),u=n.center().x-c,p=(n.center().x-u)/(o.max-o.min),g=l-o.min;let y=this.chartService.intl.format(o.format,e,t);const x=Jt(o);this.clearHideTimeout(),this._visible||(rt(i,{visibility:"hidden",display:"block"}),this._visible=!0),x&&(y=x({from:e,to:t})),a.innerHTML=y,rt(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});const w=rt(a,["marginTop","borderTopWidth","height"]);rt(r,{width:c,left:u+g*p,top:n.y1+w.marginTop+w.borderTopWidth+w.height/2}),rt(i,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new AY(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}O(h2,{format:"{0:d} - {1:d}",hideDelay:500});const MY=h2,Dr="_navigator",Io=Dr;class Fg extends W{constructor(e){super(),this.chart=e;const t=this.options=S({},this.options,e.options.navigator),n=t.select;n&&(n.from=this.parseDate(n.from),n.to=this.parseDate(n.to)),P(t.hint.visible)||(t.hint.visible=t.visible),this.chartObserver=new d_(this,{[Ah]:"_drag",[Mh]:"_dragEnd",[rc]:"_zoom",[ac]:"_zoomEnd"}),e.addObserver(this.chartObserver)}parseDate(e){return ln(this.chart.chartService.intl,e)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:e,options:t}=this,n=this.mainAxis(),{min:i,max:o}=n.roundedRange(),{from:r,to:a,mousewheel:l}=t.select,c=function IY(s){return d2.prototype=s,new d2}(n);0!==n.categoriesCount()&&(this.clean(),c.box=n.box,this.selection=new TR(e,c,{min:i,max:o,from:r||i,to:a||o,mousewheel:re(l,{zoom:"left"}),visible:t.visible},new d_(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),t.hint.visible&&(this.hint=new MY(e.element,e.chartService,{min:i,max:o,template:Jt(t.hint),format:t.hint.format})))}setRange(){const t=this.chart._createPlotArea(!0).namedCategoryAxes[Io],{min:n,max:i}=t.roundedRange(),o=this.options.select||{};let r=o.from||n;r<n&&(r=n);let a=o.to||i;a>i&&(a=i),this.options.select=S({},o,{from:r,to:a}),this.filterAxes()}_redrawSelf(e){const t=this.chart._plotArea;t&&t.redraw(yt(t.panes),e)}redrawSlaves(){const e=this.chart,t=e._plotArea,n=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)}_drag(e){const{chart:t,selection:n}=this,i=t._eventCoordinates(e.originalEvent),o=this.mainAxis(),r=o.roundedRange(),a=o.pane.box.containsPoint(i),c=e.axisRanges[t._plotArea.categoryAxis.options.name],u=this.options.select;let h;if(!c||a||!n)return;h=u.from&&u.to?We(u.to)-We(u.from):We(n.options.to)-We(n.options.from);const d=Ge(Z(We(c.min),r.min,We(r.max)-h)),f=Ge(Z(We(d)+h,We(r.min)+h,r.max));this.options.select={from:d,to:f},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),n.set(d,f),this.showHint(d,f)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:e,to:t}},options:{select:n}}=this;n.from=e,n.to=t}filterAxes(){const{options:{select:e={}},chart:t}=this,n=t.options.categoryAxis,{from:i,to:o}=e;for(let r=0;r<n.length;r++){const a=n[r];a.pane!==Dr&&(a.min=i,a.max=o)}}filter(){const{chart:e,options:{select:t}}=this;if(!e.requiresHandlers(["navigatorFilter"]))return;const n=this.mainAxis(),i={from:t.from,to:t.to};if("category"!==n.options.type){const o=new yh(S({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;i.from=An(o.min,-o.baseUnitStep,o.baseUnit),i.to=An(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",i)}_zoom(e){const{chart:{_plotArea:{categoryAxis:t}},selection:n,options:{select:i,liveDrag:o}}=this,r=this.mainAxis();let a=e.delta;if(!n)return;const l=r.categoryIndex(n.options.from),c=r.categoryIndex(n.options.to),u=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=3),c-l>1?(n.zoom(a,u),this.readSelection()):(t.options.min=i.from,i.from=t.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),u).min),o&&(this.filterAxes(),this.redrawSlaves()),n.set(i.from,i.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(e){this._dragEnd(e)}showHint(e,t){this.hint&&this.hint.show(e,t,this.chart._plotArea.backgroundBox())}_selectStart(e){return this.chart._selectStart(e)}_select(e){return this.showHint(e.from,e.to),this.chart._select(e)}_selectEnd(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)}mainAxis(){const e=this.chart._plotArea;if(e)return e.namedCategoryAxes[Io]}select(e,t){const n=this.options.select;return e&&t&&(n.from=this.parseDate(e),n.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to}}static setup(e={},t={}){if(e.__navi)return;e.__navi=!0;const n=S({},t.navigator,e.navigator),i=e.panes=[].concat(e.panes),o=S({},n.pane,{name:Dr});n.visible||(o.visible=!1,o.height=.1),i.push(o),Fg.attachAxes(e,n),Fg.attachSeries(e,n,t)}static attachAxes(e,t){const n=t.series||[],i=e.categoryAxis=[].concat(e.categoryAxis),o=e.valueAxis=[].concat(e.valueAxis),a=0===xt(n,qI).length,l=S({type:"date",pane:Dr,roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),c=t.categoryAxis;i.push(S({},l,{maxDateGroups:200},c,{name:Io,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),S({},l,c,{name:Io+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),S({},l,c,{name:Io+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(S({name:Io,pane:Dr,majorGridLines:{visible:!1},visible:!1},t.valueAxis))}static attachSeries(e,t,n){const i=e.series=e.series||[],o=[].concat(t.series||[]),r=n.seriesColors,a=t.seriesDefaults;for(let l=0;l<o.length;l++)i.push(S({color:r[l%r.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[l],{axis:Io,categoryAxis:Io,autoBind:t.autoBindElements}))}}function d2(){}const f2=Fg;O(class p2 extends Tw{applyDefaults(e,t){const n=po(this.element).width||600;let i=t;const o={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(n/28)}}};i&&(i=S({},i,o)),f2.setup(e,i),super.applyDefaults(e,i)}_setElementClass(e){Tn(e,"k-chart k-stockchart")}setOptions(e){this.destroyNavigator(),super.setOptions(e)}noTransitionsRedraw(){const e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e}_resize(){this.noTransitionsRedraw()}_redraw(){const e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()}_dirty(){const e=this.options,n=es([].concat(e.series,e.navigator.series),function(o){return o&&o.visible}).length,i=this._seriesCount!==n;return this._seriesCount=n,i}_fullRedraw(){let e=this.navigator;e||(e=this.navigator=new f2(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),super._redraw(),e.initSelection()}_trackSharedTooltip(e){const n=this._plotArea.paneByPoint(e);n&&n.options.name===Dr?this._unsetActivePoint():super._trackSharedTooltip(e)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const e=[].concat(this.options.categoryAxis);let t;for(let n=0;n<e.length;n++){const i=e[n];i.name===Io?t=i.categories:t&&i.pane===Dr&&(i.categories=t)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(e){const t=this._eventCoordinates(e),n=this._plotArea.paneByPoint(t);return super._stopChartHandlers(e)||n&&n.options.name===Dr}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class OY extends(Kl(hh(Hp(Ri)))){get nodeType(){return"Arc"}constructor(e=new pr,t={}){super(t),this.geometry(e),te(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this.geometry().bbox()}toPath(){const e=new ee,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const LY=OY;class FY extends(Hp(Ri,["rect"])){get nodeType(){return"Image"}constructor(e,t=new De,n={}){super(n),this.src(e),this.rect(t)}src(e){return te(e)?(this.options.set("src",e),this):this.options.get("src")}bbox(e){const t=aa(this.currentTransform(e));return this._rect.bbox(t)}rawBBox(){return this._rect.bbox()}_containsPoint(e){return this._rect.containsPoint(e)}_hasFill(){return this.src()}}const g2=FY;class BY extends(Kl(hh(Hp(Ri)))){get nodeType(){return"Rect"}constructor(e=new De,t={}){super(t),this.geometry(e),te(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this._geometry.bbox()}_containsPoint(e){return this._geometry.containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const VY=BY;function m2(s,e,t,n,i){for(let o=0;o<s.length;o++){const r=s[o].clippedBBox();if(r){const a=r.origin.clone();a[n]=Vh(r.size[i],e,t||"start",n,i),Rg(a,r,s[o])}}}function zY(s,e,t){m2(s,e,t,"x","width")}function HY(s,e,t){m2(s,e,t,"y","height")}function kw(s,e,t,n){if(s.length>1){const i=new N;let o=s[0].bbox;for(let r=1;r<s.length;r++){let a=s[r].element,l=s[r].bbox;i[e]=o.origin[e]+o.size[n],i[t]=l.origin[t],Rg(i,l,a),l.origin[e]=i[e],o=l}}}function y2(s){const e=[];for(let t=0;t<s.length;t++){let n=s[t],i=n.clippedBBox();i&&e.push({element:n,bbox:i})}return e}function jY(s){kw(y2(s),"x","y","width")}function UY(s){kw(y2(s),"y","x","height")}function v2(s,e,t,n,i){const o=function $Y(s,e,t){const n=e.size[t],i=[];let a,l,o=[],r=0;const c=function(){o.push({element:a,bbox:l})};for(let u=0;u<s.length;u++)if(a=s[u],l=a.clippedBBox(),l){let h=l.size[t];r+h>n?o.length?(i.push(o),o=[],c(),r=h):(c(),i.push(o),o=[],r=0):(c(),r+=h)}return o.length&&i.push(o),i}(s,e,i),r=e.origin.clone(),a=[];for(let l=0;l<o.length;l++){let c=o[l],u=c[0];r[n]=u.bbox.origin[n],Rg(r,u.bbox,u.element),u.bbox.origin[t]=r[t],kw(c,t,n,i),a.push([]);for(let h=0;h<c.length;h++)a[l].push(c[h].element)}return a}function GY(s,e){return v2(s,e,"x","y","width")}function WY(s,e){return v2(s,e,"y","x","height")}function qY(s,e){const t=s.clippedBBox();if(t){const n=t.size,i=e.size;if(i.width<n.width||i.height<n.height){const o=Math.min(i.width/n.width,i.height/n.height),r=s.transform()||Ne();r.scale(o,o),s.transform(r)}}}let Iw;class Pw extends W{static get current(){return Iw||(Iw=new Pw),Iw}parse(e,t){const n=new Ni(t);return N_(n,e)}}const KY=Pw;function x2(s){const e=new Zb({skipBaseHref:!0}),t=s.clippedBBox();let n=s;if(t){const o=t.getOrigin(),r=new Ze;r.transform(Ne().translate(-o.x,-o.y)),r.children.push(s),n=r}e.load([n]);const i=`<?xml version='1.0' ?><svg xmlns='${Fh}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${e.render()}</svg>`;return e.destroy(),i}function _2(s,e){const t={width:"800px",height:"600px",cors:"Anonymous"};let n=s;const i=s.clippedBBox();if(i){const h=i.getOrigin();n=new Ze,n.transform(Ne().translate(-h.x,-h.y)),n.children.push(s);const d=i.getSize();t.width=d.width+"px",t.height=d.height+"px"}const o=Object.assign(t,e),r=document.createElement("div"),a=r.style;a.display="none",a.width=o.width,a.height=o.height,document.body.appendChild(r);const l=new rw(r,o);l.suspendTracking(),l.draw(n);const c=l.image(),u=()=>{l.destroy(),document.body.removeChild(r)};return c.then(u,u),c}function b2(s,e){let t=x2(s);return(!e||!e.raw)&&(t="data:image/svg+xml;base64,"+tk(t)),th().resolve(t)}const C2="arrowPointer",jh="barPointer",E2=Math.PI/180,Er="inside",Bg="linear",Rw="outside",T2="radialPointer",A2="radialRangePointer";function M2(s,e){const t=s.getOrigin(),n=s.getSize(),i=Be(e);return s.setOrigin([t.x-i.left,t.y-i.top]),s.setSize([n.width+(i.left+i.right),n.height+(i.top+i.bottom)]),s}const{Group:XY,Path:k2,Text:ZY}=lt;function I2(s,e){const t=s.box,n=s.children[0].box,i=e.border||{},o=e.background||"",r=k2.fromRect(new De([t.x1,t.y1],[t.width(),t.height()]),{stroke:{}}),a=new ZY(s.text,new N(n.x1,n.y1),{font:e.font,fill:{color:e.color}}),l=M2(a.bbox().clone(),e.padding),c=k2.fromRect(l,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),u=new XY;return u.append(r),u.append(c),u.append(a),u}function P2(s,e,t){const n=P(s.from)?s.from:kt,i=P(s.to)?s.to:mt;return s.from=Math.max(Math.min(i,n),e),s.to=Math.min(Math.max(i,n),t),s}function R2(s,e){const t=Be(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,M2(s,t)}const{Path:JY,Surface:eX}=lt;class N2 extends W{constructor(e,t,n,i={}){super(),this.element=e,this.theme=n,this.contextService=new $_(this,i),this._originalOptions=S({},this.options,t),this.options=S({},this._originalOptions),this._initTheme(n),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(e){const t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)}_draw(){const e=this.surface;e.clear(),e.draw(this._visuals)}exportVisual(){return this._visuals}allValues(e){const t=this.pointers,n=[];if(0===arguments.length){for(let i=0;i<t.length;i++)n.push(t[i].value());return n}if(Qt(e))for(let i=0;i<e.length;i++)pe(e[i])&&t[i].value(e[i]);this._setValueOptions(e)}_setValueOptions(e){const t=[].concat(this.options.pointer),n=[].concat(e);for(let i=0;i<n.length;i++)t[i].value=n[i]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)}redraw(){const e=this._surfaceSize(),t=new De([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const n=R2(t.bbox(),this._gaugeAreaMargin);this.reflow(n)}setOptions(e,t){this._originalOptions=S(this._originalOptions,e),this.options=S({},this._originalOptions),this._initTheme(t),this.redraw()}setDirection(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(e){this.contextService.intl=e}_initTheme(e){let t=e||this.theme||{};this.theme=t,this.options=S({},t,this.options);const n=this.options,i=n.pointer;if(Qt(i)){const o=[];for(let r=0;r<i.length;r++)o.push(S({},t.pointer,i[r]));n.pointer=o}}_createGaugeArea(){const e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{};let i=new De([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(i=R2(i,n.width)),JY.fromRect(i,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})}_initSurface(){const{options:e,surface:t}=this,n=this._surfaceElement(),i=this._surfaceSize();po(n,i),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=eX.create(n,{type:e.renderAs}))}_surfaceSize(){const e=this.options,t=this._getSize();return e.gaugeArea&&S(t,e.gaugeArea),t}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const e=this.element,t=this._defaultSize();let n=e.offsetWidth,i=e.offsetHeight;return n||(n=t.width),i||(i=t.height),{width:n,height:i}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(e){this.options.transitions=e;for(let t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e}}O(N2,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const O2=N2,{Path:Nw,Group:Uh}=lt,Vg=N;function tX(s,e){const{position:t,tickX:n,tickY:i}=s;let o,r;return s.vertical?(o=new Vg(n,t),r=new Vg(n+e.size,t)):(o=new Vg(t,i),r=new Vg(t,i+e.size)),new Nw({stroke:{color:e.color,width:e.width}}).moveTo(o).lineTo(r)}function L2(s,e,t,n){const i=e.length;if(n.visible){const{mirror:o,lineBox:r}=t;for(let a=n.skip;a<i;a+=n.step)a%n.skipUnit!=0&&(t.tickX=o?r.x2:r.x2-n.size,t.tickY=o?r.y1-n.size:r.y1,t.position=e[a],s.append(tX(t,n)))}}class F2 extends ks{constructor(e,t){let n=e||{};!P(n.reverse)&&!1===n.vertical&&(t||{}).rtl&&(n=Object.assign({},n,{reverse:!0})),super(0,1,n,t),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(e){let t=S({},this.options,e);return t=S({},t,{labels:{mirror:t.mirror}}),t.majorUnit=t.majorUnit||ah(t.min,t.max),t}initFields(){}render(){const e=this.elements=new Uh,t=this.renderLabels(),n=this.renderLine(),i=this.renderTicks(),o=this.renderRanges();return e.append(n,t,i,o),e}renderRanges(){const e=this.options,{min:t,max:n,vertical:i,labels:{mirror:o}}=e,r=e.ranges||[],a=new Uh,l=r.length,c=e.rangeSize||e.minorTicks.size/2;for(let u=0;u<l;u++){const h=P2(r[u],t,n),d=this.getSlot(h.from,h.to),f=i?this.lineBox():d,p=i?d:this.lineBox();i?f.x1-=c*(o?-1:1):p.y2+=c*(o?-1:1),a.append(Nw.fromRect(new De([f.x1,p.y1],[f.x2-f.x1,p.y2-p.y1]),{fill:{color:h.color,opacity:h.opacity},stroke:{}}))}return a}renderLabels(){const{labels:e,options:t}=this,n=new Uh;for(let i=0;i<e.length;i++)n.append(I2(e[i],t.labels));return n}renderLine(){const e=this.options.line,t=this.lineBox(),n=new Uh;if(e.width>0&&e.visible){const i=new Nw({stroke:{color:e.color,dashType:e.dashType,width:e.width}});i.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n.append(i)}return n}renderTicks(){const e=new Uh,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,i={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return L2(e,this.getMajorTickPositions(),i,t.majorTicks),L2(e,this.getMinorTickPositions(),i,S({},{skipUnit:n/t.minorUnit},t.minorTicks)),e}}O(F2,{min:0,max:50,majorTicks:{size:15,align:Er,color:gt,width:.5,visible:!0},minorTicks:{size:10,align:Er,color:gt,width:.5,visible:!0},line:{width:.5},labels:{position:Er,padding:2},mirror:!1,_alignLines:!1});const nX=F2;class B2 extends W{constructor(e,t){super();const{min:n,max:i}=e.options,o=this.options=S({},this.options,t);o.fill=o.color,this.scale=e,o.value=P(o.value)?Z(o.value,n,i):n}value(e){const t=this.options;if(0===arguments.length)return t.value;const{min:i,max:o}=this.scale.options;t._oldValue=P(t._oldValue)?t.value:i,t.value=Z(e,i,o),this.elements&&this.repaint()}}O(B2,{color:gt});const Ow=B2;class V2 extends Ow{constructor(e,t){super(e,t),this.options=S({track:{visible:P(t.track)}},this.options)}reflow(){const{options:e,scale:t}=this,{mirror:n,vertical:i}=t.options,o=t.lineBox(),r=e.track.size||e.size,a=e.size/2,l=Be(e.margin);let u,h,d,c=i?l[n?"left":"right"]:l[n?"bottom":"top"];c=n?-c:c,i?(d=new V(o.x1+c,o.y1,o.x1+c,o.y2),n?d.x1-=r:d.x2+=r,e.shape!==jh&&(h=new V(o.x2+c,o.y1-a,o.x2+c,o.y2+a),u=h)):(d=new V(o.x1,o.y1-c,o.x2,o.y1-c),n?d.y2+=r:d.y1-=r,e.shape!==jh&&(h=new V(o.x1-a,o.y1-c,o.x2+a,o.y1-c),u=h)),this.trackBox=d,this.pointerRangeBox=h,this.box=u||d.clone().pad(e.border.width)}getElementOptions(){const e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:P(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}}_margin(){const{scale:e,options:t}=this,{mirror:n,vertical:i}=e.options,o=Be(t.margin);return i?o[n?"left":"right"]:o[n?"bottom":"top"]}}O(V2,{shape:jh,track:{border:{width:1}},color:gt,border:{width:1},opacity:1,margin:Be(3),animation:{type:jh},visible:!0});const z2=V2;class Lw extends ss{setup(){const e=this.options,{margin:t,from:n,to:i,vertical:o}=e,r=o?"x1":"y1";e.mirror===o?(n[r]-=t,i[r]-=t):(n[r]+=t,i[r]+=t);const a=this.fromScale=new N(n.x1,n.y1),l=this.toScale=new N(i.x1,i.y1);0!==e.duration&&(e.duration=Math.max(a.distanceTo(l)/e.duration*1e3,1))}step(e){const t=Ds(this.fromScale.x,this.toScale.x,e),n=Ds(this.fromScale.y,this.toScale.y,e);this.element.transform(Ne().translate(t,n))}}O(Lw,{easing:Bg,duration:250}),ci.current.register(C2,Lw);const sX=Lw,pc=N,iX=ee,rX=class oX extends z2{constructor(e,t){super(e,t),P(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:e,options:{size:t}}=this,n=t/2,i=e.options.mirror?-1:1;let o;return o=e.options.vertical?[new pc(0,0-n),new pc(0-i*t,0),new pc(0,0+n)]:[new pc(0-n,0),new pc(0,0+i*t),new pc(0+n,0)],o}repaint(){const{scale:e,options:t}=this,n=new sX(this.elements,S(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()}render(){const{scale:e,options:t}=this,n=this.getElementOptions(),i=this.pointerShape(t.value);t.animation.type=C2;const o=new iX({stroke:n.stroke,fill:n.fill}).moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).close(),r=e.getSlot(t.value);return o.transform(Ne().translate(r.x1,r.y1)),this.elements=o,o}};class Fw extends ss{setup(){const e=this.options,t=this.axis=e.vertical?K:q,n=this.to=e.newPoints[0][t],i=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-i)/e.speed*1e3,1)),this._set(i)}step(e){const t=Ds(this.from,this.to,e);this._set(t)}_set(e){const t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}}O(Fw,{easing:Bg,speed:250}),ci.current.register(jh,Fw);const aX=Fw,{Group:lX,Path:H2}=lt,uX=class cX extends z2{constructor(e,t){super(e,t),P(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(e){const{scale:t,options:n}=this,{mirror:i,vertical:o}=t.options,r=i===o?-1:1,a=n.size*r,l=t.getSlot(t.options.min),c=t.getSlot(e),u=o?K:q,h=o?q:K,d=this._margin()*r,f=new N;f[u]=l[u+"1"],f[h]=l[h+"1"];const p=new N;p[u]=c[u+"1"],p[h]=c[h+"1"],o?(f.translate(d,0),p.translate(d,0)):(f.translate(0,d),p.translate(0,d));const g=p.clone(),y=f.clone();return o?(g.translate(a,0),y.translate(a,0)):(g.translate(0,a),y.translate(0,a)),[f,p,g,y]}repaint(){const{scale:e,options:t}=this,n=this.pointerShape(t.value),i=this.pointerPath,o=this.pointerShape(t._oldValue);i.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();const r=new aX(i,S(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(r.options.duration=0),r.setup(),r.play()}render(){const e=new lX,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());const n=this.pointerPath=new H2({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e}renderTrack(){const e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new H2.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}},fX=Ze;O(class pX extends O2{reflow(e){const t=this.pointers,n=e.origin.x,i=e.origin.y,o=new V(n,i,n+e.width(),i+e.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(let r=0;r<t.length;r++)t[r].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const e=new fX,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(let i=0;i<n.length;i++){const o=n[i];e.append(o.render()),o.value(o.options.value)}this._visuals=e}_createModel(){const e=this.options,t=this.scale=new nX(e.scale,this.contextService);this.pointers=[];let n=e.pointer;n=Qt(n)?n:[n];for(let i=0;i<n.length;i++){const o=S({},n[i],{animation:{transitions:e.transitions}});this.pointers.push(new("arrow"===o.shape?rX:uX)(t,o))}}_defaultSize(){const e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}}_getBox(e){const{scale:t,pointers:n}=this,i=e.center();let r,o=n[0].box.clone().wrap(t.box);for(let a=0;a<n.length;a++)o.wrap(n[a].box.clone());return t.options.vertical?(r=o.width()/2,o=new V(i.x-r,e.y1,i.x+r,e.y2)):(r=o.height()/2,o=new V(e.x1,i.y-r,e.x2,i.y+r)),o}_alignElements(){const{scale:e,pointers:t}=this,n=e.box,i=t[0].box.clone().wrap(e.box),o=this.bbox;for(let a=0;a<t.length;a++)i.wrap(t[a].box.clone());let r;e.options.vertical?(r=o.center().x-i.center().x,e.reflow(new V(n.x1+r,o.y1,n.x2+r,o.y2))):(r=o.center().y-i.center().y,e.reflow(new V(n.x1,n.y1+r,n.x2,n.y2+r)));for(let a=0;a<t.length;a++)t[a].reflow(this.bbox)}_shrinkScaleWidth(e){const{scale:t}=this;if(!t.options.vertical){const n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}}_shrinkElements(){const{scale:e,pointers:t}=this,n=e.box.clone(),i=e.options.vertical?"y":"x",o=t[0].box;for(let r=0;r<t.length;r++)o.wrap(t[r].box.clone());n[i+1]+=Math.max(n[i+1]-o[i+1],0),n[i+2]-=Math.max(o[i+2]-n[i+2],0),e.reflow(n);for(let r=0;r<t.length;r++)t[r].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:gX,Path:mX,Group:Hg}=lt;function j2(s,e,t,n){const i=new Hg,o=s.center,r=s.getRadiusX();if(n.visible)for(let a=0;a<e.length;a++){const l=s.pointAt(e[a]),c=new N(o.x+r-n.size,o.y).rotate(e[a],o);i.append(new mX({stroke:{color:n.color,width:n.width}}).moveTo(l).lineTo(c))}return i}function Bw(s,e,t,n){return{from:s,to:e,color:t,opacity:n}}class U2 extends ks{constructor(e,t){super(0,1,e,t)}initUserOptions(e){const t=S({},this.options,e);return t.majorUnit=t.majorUnit||ah(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t}initFields(){}render(e,t){const n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(e){const t=e.center(),n=Math.min(e.height(),e.width())/2;if(!P(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(e){const{min:t,max:n,reverse:i,startAngle:o,endAngle:r}=this.options,a=r-o;let l;return l=i?r-(e-t)/(n-t)*a:(e-t)/(n-t)*a+o,l+180}hasRanges(){const e=this.options.ranges;return e&&e.length}ticksSize(){const{majorTicks:e,minorTicks:t}=this.options;let n=0;return e.visible&&(n=e.size),t.visible&&(n=Math.max(t.size,n)),n}labelsCount(){let e=super.labelsCount();const t=this.options;return t.endAngle-t.startAngle>=360&&t.max%t.majorUnit==0&&(e-=1),e}renderLabels(){const e=this.options,t=this.arc.clone();let n=t.getRadiusX();const i=this.tickAngles(t,e.majorUnit),o=e.rangeSize=e.rangeSize||.1*n,r=new Hg;let a=.05*n;P(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;const l=e.labels,c=l.position===Er,u=P(this.labelElements);c&&(n-=this.ticksSize(),this.hasRanges()&&!u&&(n-=o+a),t.setRadiusX(n).setRadiusY(n));const h=this.labels,d=h.length,f=Be(l.padding),p=(f.left+f.right)/2,g=(f.top+f.bottom)/2;for(let y=0;y<d;y++){const x=h[y],w=x.box.width()/2,C=x.box.height()/2,A=i[y],L=(A-180)*E2,U=t.pointAt(A),J=U.x+Math.cos(L)*(w+p)*(c?1:-1),xe=U.y+Math.sin(L)*(C+g)*(c?1:-1);x.reflow(new V(J-w,xe-C,J+w,xe+C));const Je=new N(x.box.x1,x.box.y1);let Ce;if(u){Ce=this.labelElements.children[y];const Kt=Ce.bbox().origin,Pt=Ce.transform()||Ne();Pt.translate(Je.x-Kt.x,Je.y-Kt.y),Ce.transform(Pt)}else Ce=I2(x,e.labels),r.append(Ce);this.bbox=De.union(this.bbox,Ce.bbox())}return r}repositionRanges(){const e=this.ranges.children;if(e.length>0){const{rangeDistance:t,rangeSize:n}=this.options;let i=this.getRangeRadius();this.options.labels.position===Er&&(i+=n+t);const o=i+n/2;for(let r=0;r<e.length;r++)e[r]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=De.union(this.bbox,this.ranges.bbox())}}renderRanges(){const e=this.rangeSegments(),t=e.length,n=new Hg;if(t){const{rangeSize:i,reverse:o,rangeDistance:r}=this.options,a=this.getRangeRadius();this.radius(this.radius()-i-r);for(let l=0;l<t;l++){const c=e[l],u=this.slotAngle(c[o?"to":"from"]),h=this.slotAngle(c[o?"from":"to"]);h-u!=0&&n.append(this.createRange(u,h,a,c))}}return n}createRange(e,t,n,i){const o=this.options.rangeSize,r=new pr(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:e,endAngle:t});return new gX(r,{stroke:{width:o,color:i.color,opacity:i.opacity,lineCap:i.lineCap}})}rangeSegments(){const e=this.options,t=e.ranges||[],n=t.length,i=[];if(n){const{min:o,max:r,rangePlaceholderColor:a}=e;i.push(Bw(o,r,a));for(let l=0;l<n;l++){const c=P2(t[l],o,r),u=i.length;for(let h=0;h<u;h++){const d=i[h];if(d.from<=c.from&&c.from<=d.to){i.push(Bw(c.from,c.to,c.color,c.opacity)),d.from<=c.to&&c.to<=d.to&&i.push(Bw(c.to,d.to,a,c.opacity)),d.to=c.from;break}}}}return i}getRangeRadius(){const{arc:e,options:t}=this,{rangeSize:n,rangeDistance:i,majorTicks:{size:o}}=t;let r;return r=t.labels.position===Rw?e.getRadiusX()-o-i-n:e.getRadiusX()-n,r}renderArc(e,t){const n=this.options;return this.arc=new pr(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+180,endAngle:n.endAngle+180})}renderTicks(){const{arc:e,options:t}=this,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=j2(n,this.majorTickAngles,0,t.majorTicks);const i=new Hg;i.append(this.majorTicks);const o=t.majorTicks.size,r=t.minorTicks.size;if(this._tickDifference=o-r,t.labels.position===Rw){const a=n.getRadiusX();n.setRadiusX(a-o+r).setRadiusY(a-o+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=j2(n,this.minorTickAngles,0,t.minorTicks),i.append(this.minorTicks),i}normalizeTickAngles(e){const t=this.options,n=t.majorUnit/t.minorUnit;for(let i=e.length-1;i>=0;i--)i%n==0&&e.splice(i,1);return e}tickAngles(e,t){const n=this.options,r=e.endAngle-e.startAngle;let a=(n.max-n.min)/t,l=e.startAngle,c=r/a;n.reverse&&(l+=r,c=-c),r>=360&&n.max%t==0&&(a-=1);const u=[];for(let h=0;h<a;h++)u.push(B(l,3)),l+=c;return B(l)<=e.endAngle&&u.push(l),u}radius(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(e,t,n){const i=n&&this._tickDifference||0;let o=this.arc;const r=o.getRadiusX();n&&this.options.labels.position===Rw&&0!==i&&(o=this.arc.clone(),o.setRadiusX(r-i).setRadiusY(r-i));for(let a=0;a<e.length;a++){const l=o.pointAt(t[a]),c=e[a].segments,u=l.x-c[0].anchor().x,h=l.y-c[0].anchor().y;e[a].transform((new Ne).translate(u,h))}}}O(U2,{min:0,max:100,majorTicks:{size:15,align:Er,color:gt,width:.5,visible:!0},minorTicks:{size:10,align:Er,color:gt,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:Er,padding:2}});const $2=U2;class Vw extends ss{constructor(e,t){super(e,t);const n=this.options;n.duration=Math.max(Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3,1)}step(e){const t=this.options,n=Ds(t.oldAngle,t.newAngle,e);this.element.transform(Ne().rotate(n,t.center))}}O(Vw,{easing:Bg,duration:150}),ci.current.register(T2,Vw);const yX=Vw,{Circle:xX,Group:_X,Path:bX}=lt;class G2 extends Ow{setAngle(e){this.elements.transform(Ne().rotate(e,this.center))}repaint(){const{scale:e,options:t}=this,n=e.slotAngle(t._oldValue),i=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(i):new yX(this.elements,S(t.animation,{oldAngle:n,newAngle:i})).play()}render(){const{scale:e,options:t}=this,n=new _X;return!1!==t.animation&&S(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(E2),n}reflow(e){const t=this.center=e.center,n=Z(this.options.length||1,.1,1.5),i=this.radius=e.getRadiusX()*n,o=this.capSize=Math.round(i*this.options.cap.size);this.bbox=De.fromPoints(new N(t.x-o,t.y-o),new N(t.x+o,t.y+o))}_renderNeedle(){const e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,i=new bX({fill:{color:n},stroke:{color:n,width:.5}});return i.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),i}_renderCap(){const e=this.options,t=e.cap.color||e.color,n=new Ms(this.center,this.capSize);return new xX(n,{fill:{color:t},stroke:{color:t}})}}O(G2,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:T2,duration:150}});const wX=G2,CX=Ze;O(class SX extends O2{reflow(e){const t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(let n=0;n<t.length;n++)t[n].reflow(this.scale.arc),this._initialPlotArea=De.union(this._initialPlotArea,t[n].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()}_buildVisual(e,t,n){const i=this._visuals=new CX;i.append(e),i.append(n.ticks),i.append(n.ranges),this._buildPointers(t),i.append(n.labelElements)}_buildPointers(e){for(let t=0;t<e.length;t++){const n=e[t];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}}fitScale(e){const t=this.scale.arc,i=Math.abs(this.getDiff(this._initialPlotArea,e));let a,l,c,u,h,o=B(i,3),r=B(-i,3),d=0,f=0;for(;f++<100&&(d=h===c?d+1:0,!(d>5||o!==u&&(a=this.getPlotBox(o,e,t),0<=a&&a<=2)||r!==u&&(c=this.getPlotBox(r,e,t),0<=c&&c<=2)||(u=a>0&&c>0?2*o:a<0&&c<0?2*r:B((o+r)/2||1,3),l=this.getPlotBox(u,e,t),0<=l&&l<=2)));)h=c,l>0?(r=u,c=l):(o=u,a=l)}getPlotBox(e,t,n){const i=this.scale,o=this.pointers,r=n.getRadiusX(),a=n.clone();a.setRadiusX(r+e).setRadiusY(r+e),i.arc=a,i.reflow(t),this.plotBbox=i.bbox;for(let l=0;l<o.length;l++)o[l].reflow(a),this.plotBbox=De.union(this.plotBbox,o[l].bbox);return this.getDiff(this.plotBbox,t)}getDiff(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())}alignScale(e){const t=this.plotBbox.center(),n=e.center(),i=t.x-n.x,o=t.y-n.y,{scale:r,pointers:a}=this;r.arc.center.x-=i,r.arc.center.y-=o,r.reflow(e);for(let l=0;l<a.length;l++)a[l].reflow(r.arc),this.plotBbox=De.union(r.bbox,a[l].bbox)}_createModel(){const e=this.options,t=e.pointer,n=this.scale=new $2(e.scale,this.contextService);this.pointers=[];const i=Qt(t)?t:[t];for(let o=0;o<i.length;o++){const r=new wX(n,S({},i[o],{animation:{transitions:e.transitions}}));this.pointers.push(r)}}},{transitions:!0,gaugeArea:{background:""}}),O(class DX extends $2{rangeSegments(){const{min:e,max:t,rangePlaceholderColor:n,rangeLineCap:i}=this.options;return[{from:e,to:t,color:n,lineCap:i}]}hasRanges(){return!0}placeholderRangeAngle(e){const t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)}addRange(e,t,n){const i=this.options.reverse,o=this.slotAngle(i?t:e),r=this.slotAngle(i?e:t),a=this.createRange(o,r,this.getRangeRadius(),n);return this.ranges.append(a),a}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class zw extends ss{constructor(e,t){super(e,t);const n=this.options,i=Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3;n.duration=Z(i,150,800);const o=e.elements.options.get("stroke.color"),r=e.currentColor();o!==r&&(this.startColor=new Pi(o),this.color=new Pi(r))}step(e){const{options:t,startColor:n,color:i}=this,o=Ds(t.oldAngle,t.newAngle,e);if(this.element.angle(o),i){const r=B(Ds(n.r,i.r,e)),a=B(Ds(n.g,i.g,e)),l=B(Ds(n.b,i.b,e));this.element.stroke(new Pi(r,a,l).toHex())}}}O(zw,{easing:Bg,duration:150}),ci.current.register(A2,zw);const TX=zw;O(class AX extends Ow{repaint(){const{scale:e,options:t}=this,n=e.slotAngle(t._oldValue),i=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(i),this.stroke(this.currentColor())):(this.animation=new TX(this,S(t.animation,{oldAngle:n,newAngle:i})),this.animation.play())}angle(e){const t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)}stroke(e){this.elements.stroke(e)}render(){if(this.elements)return;const{scale:e,options:t}=this;!1!==t.animation&&S(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}currentColor(){const{min:e,max:t}=this.scale.options,{colors:n,color:i,value:o}=this.options,r=pe(o)?o:e;if(n)for(let a=0;a<n.length;a++){const{color:l,from:c=e,to:u=t}=n[a];if(c<=r&&r<=u)return l}return i}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:A2,duration:150}});class wa extends W{constructor(e){super(),this.setOptions(e),this.initProperties()}initProperties(){}setOptions(e){this.options=Object.assign({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(e,t,n){const i=P(e)?String(e):e;return this.initValue(i,t,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(e){throw new Error(`Character "${e}" is not valid for symbology ${this.name}.`)}}O(wa,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const kX=Object.assign;class q2 extends wa{initProperties(){super.initProperties(),kX(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const e=this.value;let t=e.length;const n=this.getWeightedSum(e,t,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),t++,t>=this.kCheckSumMinLength){let i=(n+this.getWeightedSum(e,t,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=i,this.addPattern(this.characterMap[i])}}getWeightedSum(e,t,n){let i=0;for(let o=0;o<e.length;o++)i+=this.weightedValue(this.getValue(e.charAt(o)),t,o,n);return i}weightedValue(e,t,n,i){return((t-n)%i||i)*e}getValue(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)}addCharacter(e){const t=this.getValue(e);this.addPattern(this.characterMap[t])}addPattern(e){let t;for(let n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t}}O(q2,{addCheckSum:!0});const K2=Object.assign;class Y2 extends wa{initProperties(){super.initProperties(),K2(this,{minBaseUnitLength:.7})}addData(){const e=this.value;this.addStart();for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)}addBase(){}}class Hw extends Y2{initProperties(){super.initProperties(),K2(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(e,t,n){this.width=t,this.height=n,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""}prepareValues(){const e=this.minBaseUnitLength,t=this.minRatio,n=Math.ceil(Math.max(.15*this.width,24));let i,o=this.maxRatio;if(this.height<n)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${n}px.`);for(i=this.getBaseUnit(o);i<e&&o>t;)o=parseFloat((o-.1).toFixed(1)),i=this.getBaseUnit(o);if(i<e){let r=Math.ceil(this.getBaseWidth(t)*e);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${r}px.`)}this.ratio=o,this.baseUnit=i,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))}getBaseUnit(e){return this.width/this.getBaseWidth(e)}getBaseWidth(e){return this.quietZoneLength+3*(e+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(e){this.addPattern(e.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(e){for(let t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}O(Hw,{addCheckSum:!1});const X2={addCharacter(s){this.characterMap[s]?this.addBase(this.characterMap[s]):s.charCodeAt(0)>127?this.invalidCharacterError(s):this.addExtended(s.charCodeAt(0))},addExtended(s){let e;for(let t=0;t<this.extendedMappings.length;t++)if(e=this.extendedMappings[t].call(this,s),e){for(let n=0;n<e.length;n++)this.addBase(e[n]);return void(this.dataLength+=e.length-1)}},extendedMappings:[function(s){if(97<=s&&s<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(s-32)]]},function(s){if(33<=s&&s<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(s+32)]]},function(s){if(1<=s&&s<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(s+64)]]},function(s){let e,t;if(this.specialAsciiCodes[s]){e=[];for(let n=0;n<this.specialAsciiCodes[s].length;n++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[s][n]])}else t=6*Math.floor(s/32)+(s-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(t)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},PX=Object.assign;class Z2 extends Y2{initProperties(){super.initProperties(),PX(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(e,t,n){this.value=e,this.width=t,this.height=n,this.pattern=[],this.values=[],this.dataLength=e.length}prepareValues(){let e=Math.ceil(Math.max(.15*this.width,24));if(this.height<e)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${e}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const t=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${t}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(e){this.addPattern(e.pattern),this.values.push(e.value)}pushCheckSum(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let n=0;n<e.length;n++)t=this.characterMap[this._findCharacterByValue(e[n])],this.addPattern(t.pattern)}_getCheckValues(){const e=this.values,t=e.length;let i,o,r,n=0;for(r=t-1;r>=0;r--)n+=this.weightedValue(e[r],t-r,this.cCheckSumTotal);for(i=n%this.checkSumMod,n=this.weightedValue(i,1,this.kCheckSumTotal),r=t-1;r>=0;r--)n+=this.weightedValue(e[r],t-r+1,this.kCheckSumTotal);return o=n%this.checkSumMod,[i,o]}_findCharacterByValue(e){for(let t in this.characterMap)if(this.characterMap[t].value===e)return t}weightedValue(e,t,n){return(t%n||n)*e}addPattern(e){let t;for(let n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)}}const NX=/^\d+$/,OX=Object.assign,jw=/^\d+$/,FX=/^[a-z0-9]+$/i,pi=Object.assign;class jg extends W{constructor(e){super(),this.encoding=e,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class Q2 extends jg{constructor(e,t){super(e),this.states=t,this._initMoves(t)}initProperties(){super.initProperties(),S(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let n=e.charCodeAt(t);return this.isCode(n)}move(e){let t=0;for(;!this._moves[t].call(this,e)&&t<this._moves.length;)t++}pushState(e){let o,n=e.value,i=n.length;if(ye("C",this.states)){let r=n.substr(e.index).match(/\d{4,}/g);r&&(i=n.indexOf(r[0],e.index))}for(;(o=e.value.charCodeAt(e.index))>=0&&this.isCode(o)&&e.index<i;)this.encoding.addPattern(this.getValue(o)),e.index++}_initMoves(e){this._moves=[],ye(this.FNC4,e)&&this._moves.push(this._moveFNC),ye(this.shiftKey,e)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(e){if(e.fnc)return e.fnc=!1,e.previousState===this.key}_shiftState(e){if(e.previousState===this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const gc={};gc.A=class extends Q2{initProperties(){super.initProperties(),pi(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(e){return 0<=e&&e<96}getValue(e){return e<32?e+64:e-32}},gc.B=class extends Q2{initProperties(){super.initProperties(),pi(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(e){return 32<=e&&e<128}getValue(e){return e-32}},gc.C=class extends jg{initProperties(){super.initProperties(),pi(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let n=Uw(e,t,4);return(t+4<=e.length||2===e.length)&&jw.test(n)}move(){this.encoding.addPattern(this.MOVE)}pushState(e){let t;for(;(t=Uw(e.value,e.index,2))&&jw.test(t)&&2===t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2}getValue(e){return e}},gc.FNC4=class extends jg{constructor(e,t){super(e),this._initSubStates(t)}initProperties(){super.initProperties(),pi(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(e){let t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()}is(e,t){let n=e.charCodeAt(t);return this.isCode(n)}isCode(e){return 128<=e&&e<256}pushState(e){let o,t=this._initSubState(e),n=this.encoding,i=t.value.length;if(e.index+=i,i<3)for(;t.index<i;t.index++)o=t.value.charCodeAt(t.index),t.state=this._getSubState(o),t.previousState!==t.state&&(t.previousState=t.state,n[t.state].move(t)),n.addPattern(n[t.state].MOVE),n.addPattern(n[t.state].getValue(o));else t.state!==t.previousState&&n[t.state].move(t),this._pushStart(t),n.pushData(t,this.subStates),e.index<e.value.length&&this._pushStart(t);e.fnc=!0,e.state=t.state}_pushStart(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)}_initSubState(e){const t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState===this.key?t.state:e.previousState,t}_initSubStates(e){this.subStates=[];for(let t=0;t<e.length;t++)ye(e[t],this.dependentStates)&&this.subStates.push(e[t])}_getSubState(e){for(let t=0;t<this.subStates.length;t++)if(this.encoding[this.subStates[t]].isCode(e))return this.subStates[t]}_getAll(e,t){let n,i="",o=t;for(;(n=e.charCodeAt(o++))&&this.isCode(n);)i+=String.fromCharCode(n-128);return i}},gc.FNC1=class extends jg{constructor(e,t){super(e),this.states=t}initProperties(){super.initProperties(),pi(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return ye(this.key,this.states)}pushState(e){let a,l,c,t=this.encoding,n=e.value.replace(/\s/g,""),i=new RegExp("["+this.startAI+this.endAI+"]","g"),o=e.index,r={state:this.startState};for(t.addPattern(this.START);;){if(r.index=0,c=n.charAt(o)===this.startAI?2:0,a=c>0?this.getBySeparator(n,o):this.getByLength(n,o),a.ai.length)l=o+c+a.id.length+a.ai.length;else if(l=n.indexOf(this.startAI,o+1),l<0){if(o+a.ai.max+a.id.length+c<n.length)throw new Error("Separators are required after variable length identifiers");l=n.length}if(r.value=n.substring(o,l).replace(i,""),this.validate(a,r.value),t.pushData(r,this.dependentStates),l>=n.length)break;o=l,r.state!==this.startState&&(t[this.startState].move(r),r.state=this.startState),a.ai.length||t.addPattern(this.START)}e.index=e.value.length}validate(e,t){let n=t.substr(e.id.length),i=e.ai;if(!i.type&&!jw.test(n))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===i.type&&!FX.test(n))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(i.length&&i.length!==n.length)throw new Error("Application identifier "+e.id+" must be "+i.length+" characters long.");if(i.min&&i.min>n.length)throw new Error("Application identifier "+e.id+" must be at least "+i.min+" characters long.");if(i.max&&i.max<n.length)throw new Error("Application identifier "+e.id+" must be at most "+i.max+" characters long.")}getByLength(e,t){let n,i;for(let o=2;o<=4;o++)if(n=Uw(e,t,o),i=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)),i)return{id:n,ai:i};this.unsupportedAIError(n)}unsupportedAIError(e){throw new Error("'"+e+"' is not a supported Application Identifier")}getBySeparator(e,t){let n=e.indexOf(this.startAI,t),i=e.indexOf(this.endAI,n),o=e.substring(n+1,i),r=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return r||this.unsupportedAIError(o),{ai:r,id:o}}getApplicationIdentifier(e){let t=this.applicationIdentifiers,n=t.multiKey;if(t[e])return t[e];for(let i=0;i<n.length;i++){if(n[i].ids&&ye(e,n[i].ids))return n[i].type;if(n[i].ranges){let o=n[i].ranges;for(let r=0;r<o.length;r++)if(o[r][0]<=e&&e<=o[r][1])return n[i].type}}}};class $h extends wa{constructor(e){super(e),this._initStates()}initProperties(){super.initProperties(),pi(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let e=0;e<this.states.length;e++)this[this.states[e]]=new gc[this.states[e]](this,this.states)}initValue(e,t,n){this.pattern=[],this.value=e,this.width=t,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(e,t){for(;this[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){let i=e.state;e.state=e.previousState,e.previousState=i,e.shifted=!1}else e.previousState=e.state,e.state=this.getNextState(e,t),this[e.state].move(e)}addStart(e){this[e.state].addStart(e),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(e){const t=this.characterMap[e].toString();let n;for(let i=0;i<t.length;i++)n=parseInt(t.charAt(i),10),this.pattern.push(n),this.totalUnits+=n;this.checkSum+=e*this.position++}getNextState(e,t){for(let n=0;n<t.length;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))}}function Uw(s,e,t){return s.substring(e,e+t)}const Gh=Object.assign;class Ug extends wa{initProperties(){super.initProperties(),Gh(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:qX})}initValue(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addPattern(t)}addPattern(e){for(let t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))}addCheckSum(){const t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(let n=0;n<t.length;n++)this.checkSumLength++,this.addPattern(this.characterMap[t[n]])}}const qX={Modulo10(s){let n,i,o,e=[0,""],t=s.length%2;for(n=0;n<s.length;n++)e[(n+t)%2]+=parseInt(s.charAt(n),10);for(o=e[0],i=(2*e[1]).toString(),n=0;n<i.length;n++)o+=parseInt(i.charAt(n),10);return[(10-o%10)%10]},Modulo11(s){let i,o,e=0,n=s.length;for(let r=0;r<n;r++)i=((n-r)%6||6)+1,e+=i*s.charAt(r);return o=(11-e%11)%11,10!==o?[o]:[1,0]},Modulo11Modulo10(s){let t,e=this.Modulo11(s);return t=s+e[0],e.concat(this.Modulo10(t))},Modulo10Modulo10(s){let t,e=this.Modulo10(s);return t=s+e[0],e.concat(this.Modulo10(t))}},KX=Object.assign;class J2 extends wa{initProperties(){super.initProperties(),KX(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(e,t,n){const i=String(e);if(12!==i.length||/\D/.test(i))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=t/(95+this.quietZoneLength),this.value=i,this.checksum=this.calculateChecksum(),this.leftKey=i[0],this.leftPart=i.substr(1,6),this.rightPart=i.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(e,t){for(let n=0;n<e.length;n++)t&&parseInt(this.keyTable[t].charAt(n),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[e.charAt(n)]).reverse(),!0):this.addPieces(this.characterMap.digits[e.charAt(n)],!0)}addPieces(e,t){for(let n=0;n<e.length;n++)this.pattern.push(t?{y1:0,y2:.95*this.options.height,width:e[n]}:e[n])}calculateChecksum(){let e=0,t=0,n=this.value.split("").reverse().join("");for(let o=0;o<n.length;o++)o%2?t+=parseInt(n.charAt(o),10):e+=parseInt(n.charAt(o),10);return(10-(3*e+t)%10)%10}}const YX=Object.assign,eN={code11:q2,code39:Hw,code39extended:class IX extends Hw{initProperties(){super.initProperties(),S(this,X2,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:Z2,code93extended:class RX extends Z2{initProperties(){super.initProperties(),S(this,X2,{name:"Code 93 extended",pushCheckSum:function(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let n=0;n<e.length;n++)if(t=e[n],this.shiftValuesAsciiCodes[t])this.addExtended(this.shiftValuesAsciiCodes[t]);else{const i=this._findCharacterByValue(t);this.addPattern(this.characterMap[i].pattern)}}})}},code128:class HX extends $h{initProperties(){super.initProperties(),pi(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class BX extends $h{initProperties(){super.initProperties(),pi(this,{name:"Code 128 A",states:["A"]})}},code128b:class VX extends $h{initProperties(){super.initProperties(),pi(this,{name:"Code 128 B",states:["B"]})}},code128c:class zX extends $h{initProperties(){super.initProperties(),pi(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class jX extends $h{initProperties(){super.initProperties(),pi(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class UX extends Ug{initProperties(){super.initProperties(),Gh(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class $X extends Ug{initProperties(){super.initProperties(),Gh(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class GX extends Ug{initProperties(){super.initProperties(),Gh(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class WX extends Ug{initProperties(){super.initProperties(),Gh(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class LX extends wa{initProperties(){super.initProperties(),OX(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(e,t,n){this.height=n,this.width=t,this.baseHeight=n/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(e){const t=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(t)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(e){if(NX.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),!ye(e.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(e){let t;for(let n=0;n<e.length;n++)t=this.height-this.baseHeight*e.charAt(n),this.pattern.push({width:1,y1:t,y2:this.height}),this.pattern.push(1)}},ean8:class XX extends J2{initProperties(){super.initProperties(),YX(this,{name:"EAN 8"})}initValue(e,t,n){if(7!==e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)}},ean13:J2};function tN(s,e){const t=s.style.display;"canvas"===e&&(s.style.display="block");const n={width:s.clientWidth,height:s.clientHeight};return s.style.display=t,n}O(class JX extends W{constructor(e,t,n=Sk){super(),this.options=S({},this.options,t),this.element=e,this.onError=n,this._initElement(),this._initSurface(),this._setOptions(t),t&&P(t.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Tn(this.element,"k-barcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Bh.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(e){this._setOptions(e),this._initSurface(),this.redraw()}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const e=this.options,t=e.value,n=e.text,i=Be(n.margin),o=this._getSize(),r=e.border||{},a=this.encoding,l=new V(0,0,o.width,o.height).unpad(r.width).unpad(e.padding);let u,h,d,c=l.height();const f=new Ze;this.contentBox=l,f.append(this._getBackground(o)),n.visible&&(d=Cp(t,{font:n.font}).height,c-=d+i.top+i.bottom);try{u=a.encode(t,l.width(),c)}catch(p){return this.onError(p),f}return n.visible&&(h=t,e.checksum&&P(a.checksum)&&(h+=" "+a.checksum),f.append(this._getText(h))),this.barHeight=c,this._bandsGroup=this._getBands(u.pattern,u.baseUnit),f.append(this._bandsGroup),f}exportVisual(){return this._render()}_getSize(){const t=tN(this.element,this.options.renderAs),n=new ca(300,100);return t.width>0&&(n.width=t.width),t.height>0&&(n.height=t.height),this.options.width&&(n.width=this.options.width),this.options.height&&(n.height=this.options.height),n}value(e){if(!P(e))return this.options.value;this.options.value=String(e),this.redraw()}_getBands(e,t){const n=this.contentBox;let o,r,i=n.x1;const a=new Ze;for(let l=0;l<e.length;l++){if(r=ri(e[l])?e[l]:{width:e[l],y1:0,y2:this.barHeight},o=r.width*t,l%2){const c=De.fromPoints(new N(i,r.y1+n.y1),new N(i+o,r.y2+n.y1)),u=ee.fromRect(c,{fill:{color:this.options.color},stroke:null});a.append(u)}i+=o}return a}_getBackground(e){const t=this.options,n=t.border||{},i=new V(0,0,e.width,e.height).unpad(n.width/2);return ee.fromRect(i.toRect(),{fill:{color:t.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})}_getText(e){const t=this.options.text,n=this._textbox=new is(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual}_setOptions(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",e.value="0"+e.value),"upce"===this.type&&(this.type="ean8",e.value="0"+e.value),!eN[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new eN[this.type],this.options=S({},this.options,e)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const mc=Object.assign;function nN(s,e){let t=[],n=0;for(;n<s.length;)t.push(s.substring(n,n+e)),n+=e;return t}function Hn(s,e){let t=Number(s).toString(2);return t.length<e&&(t=new Array(e-t.length+1).join(0)+t),t}function $g(s){return parseInt(s,2)}class nZ extends W{constructor(e){super(),this.matrix=e,this.row=e.length-1,this.column=e.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class sN extends W{constructor(e,t){super(),this.dataString=e,this.version=t}}class sZ extends W{getEncodingResult(e,t){let n=function zZ(s){let t,e=[],n=0,i=s;for(e.push(uN(i,8,5,8,t)),t=e[0].mode,i=i.substr(e[0].modeString.length);i.length>0;){let o=uN(i,17,9,16,t);o.mode!==t?(t=o.mode,e.push(o),n++):e[n].modeString+=o.modeString,i=i.substr(o.modeString.length)}return e}(e),i=function HZ(s){let t,e=0;for(let n=0;n<s.length;n++)t=Gw[s[n].mode],e+=t.getStringBitsLength(s[n].modeString.length);return Math.ceil(e/8)}(n),o=hN(i,t),r=function jZ(s,e){let n,t="";for(let i=0;i<s.length;i++)n=Gw[s[i].mode],t+=n.encode(s[i].modeString,e);return t}(n,o);return new sN(r,o)}}class $w extends W{constructor(){super(),this.initProperties()}initProperties(){mc(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(e){return e<10?0:e>26?2:1}getBitsCharacterCount(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]}getModeCountString(e,t){return this.modeIndicator+Hn(e,this.getBitsCharacterCount(t))}encode(){}getStringBitsLength(){}getValue(){}}let Gw={numeric:new class iZ extends $w{initProperties(){super.initProperties(),mc(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(e){return parseInt(e,10)}encode(e,t){let r,i=nN(e,3),o=this.getModeCountString(e.length,t);for(r=0;r<i.length-1;r++)o+=Hn(i[r],10);return o+Hn(i[r],1+3*i[r].length)}getStringBitsLength(e,t){let n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)}},alphanumeric:new class oZ extends $w{initProperties(){super.initProperties(),mc(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(e){return this.characters[e]}encode(e,t){let o,r,n=nN(e,2),i=this.getModeCountString(e.length,t);for(r=0;r<n.length-1;r++)o=45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)),i+=Hn(o,11);return o=2===n[r].length?45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)):this.getValue(n[r].charAt(0)),i+Hn(o,1+5*n[r].length)}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6}},byte:new class rZ extends $w{initProperties(){super.initProperties(),mc(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(e){let t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error(`Unsupported character in QR Code: "${e}".`)}encode(e,t){let n=this,i=n.getModeCountString(e.length,t);for(let o=0;o<e.length;o++)i+=Hn(n.getValue(e.charAt(o)),8);return i}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+8*e}}};class hZ extends W{constructor(){super(),this.initProperties(),this.mode=Gw[this.encodingMode]}initProperties(){mc(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(e,t){let n=this.encode(e),o=hN(this.getDataCodewordsCount(n),t),r=this.mode.getModeCountString(n.length/8,o)+n;return new sN(r,o)}getDataCodewordsCount(e){return Math.ceil((this.initialModeCountStringLength+e.length)/8)}encode(e){let t=this.utfBOM;for(let n=0;n<e.length;n++)t+=this.encodeCharacter(e.charCodeAt(n));return t}encodeCharacter(e){let t=this.getBytesCount(e),n=t-1,i="";if(1===t)i=Hn(e,8);else{let o=8-t;for(let r=0;r<n;r++)i=Hn(e>>6*r&63|128,8)+i;i=(e>>6*n|255>>o<<o).toString(2)+i}return i}getBytesCount(e){let t=this.ranges;for(let n=0;n<t.length;n++)if(e<t[n])return n+1}}const Wh=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let oN="alphanumeric",Ww={1:0},Tr={0:1},pZ={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},qw=[1,0,1,1,1],gZ=[1,0,1],mZ={L:"01",M:"00",Q:"11",H:"10"},_Z=["11101100","00010001"],Kw=[(s,e)=>(s+e)%2==0,(s,e)=>s%2==0,(s,e)=>e%3==0,(s,e)=>(s+e)%3==0,(s,e)=>(Math.floor(s/2)+Math.floor(e/3))%2==0,(s,e)=>s*e%2+s*e%3==0,(s,e)=>(s*e%2+s*e%3)%2==0,(s,e)=>((s+e)%2+s*e%3)%2==0],wZ=/^\d+/,rN="A-Z0-9 $%*+./:-",SZ=new RegExp("^[A-Z $%*+./:-]+"),aN=new RegExp("^["+rN+"]+"),lN=new RegExp("^[^"+rN+"]+");const Yw=[[1,0],[1,25,0]];function kn(s,e,t,n){for(let i=0;i<s.length;i++)s[i][t][n]=e}function cN(s,e,t,n){for(let i=0;i<Kw.length;i++)s[i][t][n]=Kw[i](t,n)?1^e:parseInt(e,10)}function NZ(s,e){let t=[];for(let i=s.length-2;i>=0;i--)t[i]=s[i]^e[i];return t}function OZ(s,e){let t=[];for(let n=0;n<s.length;n++)for(let i=0;i<e.length;i++)t[n+i]=void 0===t[n+i]?(s[n]+(e[i]>=0?e[i]:0))%255:Ww[Tr[t[n+i]]^Tr[(s[n]+e[i])%255]];return t}function FZ(s,e){let t=[],n=s.length-1;do{t[n]=Tr[(s[n]+e)%255],n--}while(void 0!==s[n]);return t}function BZ(s,e){let a,l,t=Yw[e-1],n=new Array(e).concat(s),i=new Array(n.length-t.length).concat(t),o=s.length,r=[];for(l=0;l<o;l++)a=FZ(i,Ww[n[n.length-1]]),i.splice(0,1),n=NZ(a,n);for(l=n.length-1;l>=0;l--)r[e-1-l]=Hn(n[l],8);return r}function uN(s,e,t,n,i){let h,d,o=wZ.exec(s),r=o?o[0]:"",a=SZ.exec(s),l=a?a[0]:"",c=aN.exec(s),u=c?c[0]:"";return r&&(r.length>=e||s.length===r.length||r.length>=t&&!aN.test(s.charAt(r.length)))?(h="numeric",d=r):u&&(s.length===u.length||u.length>=n||i===oN)?(h=oN,d=r||l):(h="byte",d=u?u+lN.exec(s.substring(u.length))[0]:lN.exec(s)[0]),{mode:h,modeString:d}}function hN(s,e){let t=0,n=Wh.length-1,i=Math.floor(Wh.length/2);do{s<Wh[i][e].totalDataCodewords?n=i:t=i,i=t+Math.floor((n-t)/2)}while(n-t>1);return s<=Wh[t][e].totalDataCodewords?i+1:n+1}function dN(s,e,t){let n=$g(e),i=e.length-1,o=s<<i,a=Hn(s,t-i),l=function $Z(s,e){let t=e.toString(2).length,n=s.toString(2).length,i=s;do{i^=e<<n-t,n=i.toString(2).length}while(n>=t);return i}(o,n);return l=a+Hn(l,i),l}function qh(s,e){return parseInt(s.charAt(e),10)}function fN(s,e){let n,i,t=s[0],o=0,r=e.length;for(n=0,i=8;n<=8;n++)6!==n&&kn(s,qh(e,r-1-o++),n,i);for(n=8,i=7;i>=0;i--)6!==i&&kn(s,qh(e,r-1-o++),n,i);for(o=0,i=t.length-1,n=8;i>=t.length-8;i--)kn(s,qh(e,r-1-o++),n,i);for(kn(s,1,t.length-8,8),n=t.length-7,i=8;n<t.length;n++)kn(s,qh(e,r-1-o++),n,i)}function pN(s,e){let l,c,u,n=s[0].length,o=n-11,r=n-11;for(let h=0;h<e.length;h++)l=Math.floor(h/3),c=h%3,u=qh(e,e.length-h-1),kn(s,u,0+l,o+c),kn(s,u,r+c,0+l)}function Gg(s,e,t,n){let r,i=e.length+2,o=e.length+1;for(let a=0;a<e.length;a++)for(let l=a;l<i-a;l++)r=e[a],kn(s,r,t+l,n+a),kn(s,r,t+a,n+l),kn(s,r,t+o-l,n+o-a),kn(s,r,t+o-a,n+o-l)}function Xw(s,e,t,n){let i=t,o=n,r=s[0];do{kn(s,0,i,n),kn(s,0,t,o),i+=e[0],o+=e[1]}while(i>=0&&i<r.length)}function gN(s,e,t,n,i){e[s][n]=(e[s][n]<<1^i)%128,93===e[s][n]&&(t[s]+=40)}function mN(s,e,t,n,i,o){t[s][o]===n?i[s][o]++:(t[s][o]=n,i[s][o]>=5&&(e[s]+=3+i[s][o]-5),i[s][o]=1)}function ZZ(s,e){let t=Math.floor(s/e*100),n=t%5,i=Math.abs(t-n-50),o=Math.abs(t+5-n-50);return 10*Math.min(i/5,o/5)}(function RZ(){let s,e;for(e=1;e<255;e++)s=2*Tr[e-1],s>255&&(s^=285),Tr[e]=s,Ww[s]=e;s=2*Tr[e-1]^285,Tr[e]=s,Tr[-1]=0})(),function LZ(){for(let e=2;e<=68;e++)Yw[e]=OZ(Yw[e-1],[e,0])}();const Kh=Math.round,eQ=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],yN=[[0,1],[1,1],[1,0]];O(class tQ extends W{constructor(e,t,n=Sk){super(),this.options=S({},this.options,t),this.element=e,this.wrapper=this.element,this.onError=n,this._initElement(),this._initSurface(),this.setOptions(t)}destroy(){this._destroySurface()}_initElement(){Tn(this.element,"k-qrcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Bh.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e,height:e}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const e=this.element,t=e.clientWidth,n=e.clientHeight,i={width:0,height:0};return t>0&&(i.width=t),n&&(i.height=n),i}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let t,r,a,l,c,u,e=this._value,n=this.options.border||{},i=this.options.padding||0,o=n.width||0;n.width=o;let h=new Ze;try{e&&(a=function JZ(s,e,t){let n=function QZ(s){return s&&s.toLowerCase().indexOf("utf_8")>=0?new hZ:new sZ}(t),i=n.getEncodingResult(s,e),o=i.version,r=Wh[o-1][e],a=function PZ(s,e){let t=8*e,n=0,i=0,o=s;for(;o.length<t&&n<"0000".length;)o+="0000".charAt(n++);for(o.length%8!=0&&(o+=new Array(9-o.length%8).join("0"));o.length<t;)o+=_Z[i],i^=1;return o}(i.dataString,r.totalDataCodewords),l=function VZ(s,e){let o,a,l,c,u,t=0,n=[],i=[],r=e.groups;for(let h=0;h<r.length;h++){l=r[h][0];for(let d=0;d<l;d++){a=r[h][1],o=[],c=[];for(let f=1;f<=a;f++)u=s.substring(t,t+8),o.push(u),c[a-f]=$g(u),t+=8;n.push(o),i.push(BZ(c,e.errorCodewordsPerBlock))}}return[n,i]}(a,r),c=function GZ(s){let e=[],t=17+4*s;for(let n=0;n<Kw.length;n++){e[n]=new Array(t);for(let i=0;i<t;i++)e[n][i]=new Array(t)}return e}(o);(function qZ(s){let e=s[0].length;Gg(s,qw,0,0),Xw(s,[-1,-1],7,7),Gg(s,qw,e-7,0),Xw(s,[1,-1],e-8,7),Gg(s,qw,0,e-7),Xw(s,[-1,1],7,e-8)})(c),function KZ(s,e){if(e<2)return;let r,a,t=s[0],n=t.length,i=Math.floor(e/7),o=[6],l=0;for((r=pZ[e])?a=(n-13-r)/i:r=a=(n-13)/(i+1),o.push(o[l++]+r);o[l]+a<n;)o.push(o[l++]+a);for(let c=0;c<o.length;c++)for(let u=0;u<o.length;u++)void 0===t[o[c]][o[u]]&&Gg(s,gZ,o[c]-2,o[u]-2)}(c,o),function YZ(s){let n=1,i=s[0].length;for(let o=8;o<i-8;o++)kn(s,n,6,o),kn(s,n,o,6),n^=1}(c),o>=7&&pN(c,Hn(0,18)),fN(c,Hn(0,15)),function IZ(s,e){let n,i,o,t=new nZ(s[0]);for(let r=0;r<e.length;r++)for(n=e[r],i=0;n.length>0;){for(let a=0;a<n.length;a++)for(let l=0;l<8;l++)o=t.getNextCell(),cN(s,n[a][i].charAt(l),o.row,o.column);for(i++;n[0]&&i===n[0].length;)n.splice(0,1)}for(;o=t.getNextRemainderCell();)cN(s,0,o.row,o.column)}(c,l);let u=function XZ(s){let r,a,e=[],t=[],n=[],i=[],o=[],u=s[0].length;for(a=0;a<s.length;a++)e[a]=0,n[a]=0,o[a]=[0,0],i[a]=[0,0],t[a]=[];for(let p=0;p<u;p++)for(let g=0;g<u;g++)for(let y=0;y<s.length;y++)r=s[y],n[y]+=parseInt(r[p][g],10),t[y][0]===r[p][g]&&p+1<u&&g-1>=0&&r[p+1][g]===t[y][0]&&r[p+1][g-1]===t[y][0]&&(e[y]+=3),gN(y,i,e,0,r[p][g]),gN(y,i,e,1,r[g][p]),mN(y,e,t,r[p][g],o,0),mN(y,e,t,r[g][p],o,1);let d,h=u*u,f=Number.MAX_VALUE;for(a=0;a<e.length;a++)e[a]+=ZZ(n[a],h),e[a]<f&&(f=e[a],d=a);return d}(c),h=c[u];return o>=7&&pN([h],function WZ(s){return dN(s,"1111100100101",18)}(o)),fN([h],function UZ(s){let t,n="";if(0===$g(s))return"101010000010010";t=dN($g(s),"10100110111",15);for(let i=0;i<t.length;i++)n+=t.charAt(i)^"101010000010010".charAt(i);return n}(mZ[e]+Hn(u,3))),h}(e,this.options.errorCorrection,this.options.encoding),l=this._getSize(),u=l-2*(o+i),t=this._calculateBaseUnit(u,a.length),c=a.length*t,r=o+i+(u-c)/2,h.append(this._renderBackground(l,n)),h.append(this._renderMatrix(a,t,r)),this._hasCustomLogo()?h.append(this._renderLogo(l,t)):this._isSwiss()&&h.append(this._renderSwissCode(l,t)))}catch(d){this.onError(d)}return h}_renderLogo(e,t){let n,i,o=Kh(e/2),r=this._getLogoSize(7*t),a=this.options.overlay.imageUrl,l={x:o-r.width/2,y:o-r.height/2};return i=new De(new N(l.x,l.y),new ca(r.width,r.height)),n=new g2(a,i),n}_renderSwissCode(e,t){let n=this._getLogoSize(7*t);n=Math.max(n.width,n.height);let i=n/4,o=i/2,r=e/2,a={},l=new Ze;return a.x=a.y=Math.ceil(r-t-n/2),l.append(this._renderShape(a,Math.ceil(n+2*t),yN,"#fff")),a.x=a.y=r-n/2,l.append(this._renderShape(a,n,yN,this.options.color)),a.x=r+o-n/2,a.y=r+o+i-n/2,l.append(this._renderShape(a,i,eQ,"#fff")),l}_renderShape(e,t,n,i){let o=new Ni({fill:{color:i},stroke:null});o.moveTo(e.x,e.y);for(let r=0;r<n.length;r++)o.lineTo(e.x+t*n[r][0],e.y+t*n[r][1]);return o.close(),o}_getSize(){let e;if(this.options.size)e=parseInt(this.options.size,10);else{const n=tN(this.element,this.options.renderAs),i=Math.min(n.width,n.height);e=i>0?i:200}return e}_calculateBaseUnit(e,t){let n=Math.floor(e/t);if(n<1){const i=Math.ceil(1*t);this.onError(new Error(`Insufficient size for QR Code: the current size is ${e}px and the minimum size is ${i}px.`))}else n*t>=e&&n-1>=1&&n--;return n}_renderMatrix(e,t,n){let i=new Ni({fill:{color:this.options.color},stroke:null});for(let o=0;o<e.length;o++){let r=n+o*t,a=0;for(;a<e.length;){for(;0===e[o][a]&&a<e.length;)a++;if(a<e.length){let l=a;for(;1===e[o][a];)a++;let c=Kh(n+l*t),u=Kh(r),h=Kh(n+a*t),d=Kh(r+t);i.moveTo(c,u).lineTo(c,d).lineTo(h,d).lineTo(h,u).close()}}}return i}_renderBackground(e,t){const n=new V(0,0,e,e).unpad(t.width/2);return ee.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})}setOptions(e){this.options=mc(this.options,e||{}),void 0!==e.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(e){if(void 0===e)return this._value;this._value=String(e),this.redraw()}_hasCustomLogo(){return Boolean(this.options.overlay.imageUrl)}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(e){let t=this.options.overlay.width,n=this.options.overlay.height;return t||n?t&&!n?n=t:!t&&n&&(t=n):t=n=e,{width:t,height:n}}},{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const Zw={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function zi(s){return s*s}let Ar=Math,sQ=Ar.abs,vN=Ar.atan,Wg=Ar.atan2,Mr=Ar.cos,Ro=Ar.sin,xN=Ar.tan;class Qe extends W{constructor(e,t){super(),this.initProperties(),1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t)}initProperties(){S(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(e){return e&&e.lat===this.lat&&e.lng===this.lng}clone(){return new Qe(this.lat,this.lng)}round(e){return this.lng=B(this.lng,e),this.lat=B(this.lat,e),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(e,t){return this.greatCircleTo(e,t).distance}destination(e,t,n){let i=It(t),o=n||Zw.WGS84,r=It(this.lat),a=It(this.lng),l=e/o.a,c=Ar.asin(Ro(r)*Mr(l)+Mr(r)*Ro(l)*Mr(i)),u=a+Wg(Ro(i)*Ro(l)*Mr(r),Mr(l)-Ro(r)*Ro(c));return new Qe(hr(c),hr(u))}greatCircleTo(e,t){let n=Qe.create(n),i=t||Zw.WGS84;if(!n||this.clone().round(8).equals(n.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let y,C,A,L,U,J,xe,Je,o=i.a,r=i.b,a=i.f,l=It(n.lng-this.lng),c=vN((1-a)*xN(It(this.lat))),u=Ro(c),h=Mr(c),d=vN((1-a)*xN(It(n.lat))),f=Ro(d),p=Mr(d),g=l,x=this.DISTANCE_ITERATIONS,w=!1;for(;!w&&x-- >0;){C=Ro(g),A=Mr(g),L=Ar.sqrt(zi(p*C)+zi(h*f-u*p*A)),J=u*f+h*p*A,Je=Wg(L,J);let z=h*p*C/L;U=1-zi(z),xe=0,0!==U&&(xe=J-2*u*f/U),y=g;let X=a/16*U*(4+a*(4-3*U));g=l+(1-X)*a*z*(Je+X*L*(xe+X*J*(2*zi(xe)-1))),w=sQ(g-y)<=this.DISTANCE_CONVERGENCE}let Ce=U*(zi(o)-zi(r))/zi(r),Kt=1+Ce/16384*(4096+Ce*(Ce*(320-175*Ce)-768)),Pt=Ce/1024*(256+Ce*(Ce*(74-47*Ce)-128)),sn=Pt*L*(xe+Pt/4*(J*(2*zi(xe)-1)-Pt/6*xe*(4*zi(L)-3)*(4*zi(xe)-3))),yi=Wg(p*C,h*f-u*p*A),Ui=Wg(h*C,-u*p+h*f*A);return{distance:B(r*Kt*(Je-sn),this.DISTANCE_PRECISION),azimuthFrom:hr(yi),azimuthTo:hr(Ui)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(e){return new Qe(e[1],e[0])}static fromLatLng(e){return new Qe(e[0],e[1])}static create(e,t){if(P(e))return e instanceof Qe?e.clone():1===arguments.length&&2===e.length?Qe.fromLatLng(e):new Qe(e,t)}}let kr=Math,Qw=kr.atan,_N=kr.exp,bN=kr.pow,wN=kr.sin,CN=kr.log,SN=kr.tan,DN=N,qg=kr.PI,Jw=qg/2,EN=qg/4,iQ=qg/180,oQ=Zw.WGS84;class e0 extends W{constructor(e){super(),this.initProperties(),this._initOptions(e)}_initOptions(e){this.options=S({},this.options,e)}initProperties(){S(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(e,t){let n=this,i=n.options,r=i.datum.a,a=i.centralMeridian,l=Z(e.lat,-n.MAX_LAT,n.MAX_LAT),c=t?Z(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,u=It(c-a)*r,h=n._projectLat(l);return new DN(u,h)}_projectLat(e){let t=this.options.datum,n=t.e,i=t.a,o=It(e),r=SN(EN+o/2),a=n*wN(o),l=bN((1-a)/(1+a),n/2);return i*CN(r*l)}inverse(e,t){let n=this,i=n.options,l=e.x/(iQ*i.datum.a)+i.centralMeridian,c=Z(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(l=Z(l,-n.MAX_LNG,n.MAX_LNG)),new Qe(c,l)}_inverseY(e){let c,t=this,n=t.options.datum,o=n.e,r=o/2,a=_N(-e/n.a),l=Jw-2*Qw(a);for(c=0;c<=t.INVERSE_ITERATIONS;c++){let u=o*wN(l),h=bN((1-u)/(1+u),r),d=Jw-2*Qw(a*h)-l;if(l+=d,kr.abs(d)<=t.INVERSE_CONVERGENCE)break}return hr(l)}}O(e0,{centralMeridian:0,datum:oQ});class rQ extends e0{initProperties(){super.initProperties(),S(this,{MAX_LAT:85.0511287798})}_projectLat(e){let t=this.options.datum.a,n=It(e),i=SN(EN+n/2);return t*CN(i)}_inverseY(e){let n=_N(-e/this.options.datum.a);return hr(Jw-2*Qw(n))}}class lQ extends W{constructor(){super();let t=this._proj=new rQ,n=this.c=2*qg*t.options.datum.a;this._tm=Ne().translate(.5,.5).scale(1/n,-1/n),this._itm=Ne().scale(n,-n).translate(-.5,-.5)}toPoint(e,t,n){return this._proj.forward(e,n).transform(this._tm).scale(t||1)}toLocation(e,t,n){let i=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(i,n)}}const TN=Object.defineProperty;let yc=s=>{const e=document.createElement("div");return e.innerHTML=s,e.firstChild},Yh=s=>{for(;s.firstChild;)s.removeChild(s.firstChild)},AN=(s,e)=>{e.insertBefore(s,e.firstChild)},MN=s=>s.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()}),kN=s=>{let e;return e=s&&String(s).endsWith("px")?s:String(s)+"px",e};const IN=s=>{let t,e=!1,n=[],i={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},r={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let l in i)if(i.hasOwnProperty(l)&&(n=s.match(i[l]),n)){if("windows"===l&&"plugins"in navigator)return!1;e={},e.device=l,e.tablet=t0(l,r,!1),e.browser=t0(s,a,"default"),e.name=t0(l,o),e[e.name]=!0,e.majorVersion=n[2],e.minorVersion=(n[3]||"0").replace("_","."),t=e.minorVersion.replace(".","").substr(0,2),e.flatVersion=e.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0");break}return e};function t0(s,e,t){for(let n in e)if(e.hasOwnProperty(n)&&e[n].test(s))return n;return void 0!==t?t:s}let n0=()=>{let s={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const e=Ca();return e.touch&&(e.mobileOS.ios||e.mobileOS.android)?s={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:e.pointers?s={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:e.msPointers&&(s={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),s};const Ca=()=>{const s=IN(navigator.userAgent),e=(s=>{let e=!1,t=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let i in n)if(n.hasOwnProperty(i)&&(t=s.match(n[i]),t)){e={},e[i]=!0,e[t[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||t[2],10);break}return e})(navigator.userAgent);let t=e.chrome,n=e.crios,i=e.mozilla,o=e.safari;const r={};r.mobileOS=s,r.touch="ontouchstart"in window,r.pointers=!t&&!n&&!i&&!o&&window.PointerEvent,r.msPointers=!t&&window.MSPointerEvent,r.mouseAndTouchPresent=r.touch&&!(r.mobileOS.ios||r.mobileOS.android),r.eventCapture=document.documentElement.addEventListener;let a=document.createElement("table"),l=r.transitions=!1,c=r.transforms=!1;const u="string";return["Moz","webkit","O","ms"].forEach(function(h){let d=typeof a.style[h+"Transition"]===u;if(d||typeof a.style[h+"Transform"]===u){let f=h.toLowerCase();return c={css:"ms"!==f?"-"+f+"-":"",prefix:h,event:"o"===f||"webkit"===f?f:""},d&&(l=c,l.event=l.event?l.event+"TransitionEnd":"transitionend"),!1}}),a=null,r.transforms=c,r.transitions=l,r.delayedClick=function(){if(r.touch){if(r.mobileOS.ios)return!0;if(r.mobileOS.android){if(!r.browser.chrome)return!0;if(r.browser.version<32)return!1;const h=document.querySelector("meta[name=viewport]");return!(h?h.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},r},Ye=(s,e)=>s.bind(e),In=(s,e,t,n,i)=>{mQ(s,e,t,n,i)},mQ=(s,e,t,n,i)=>{(Qt(e)?e:(e||"").split(" ")).forEach(function(r){yQ(s,r,t,n,i)})},yQ=(s,e,t,n,i)=>{let r,o=n;t&&ot(t)&&!n?o=t:t&&function gQ(s){return"string"==typeof s}(t)&&ot(o)&&(r=t),s.addEventListener(e,function(a){const l=a.target?a.target.closest(r):null;(!r||r&&a.target&&l)&&(TN(a,"currentTarget",{value:r?l:a.currentTarget}),TN(a,"delegateTarget",{value:s}),o(a))},Boolean(i))},jn=(s,e,t,n,i)=>{vQ(s,e,t,n,i)},vQ=(s,e,t,n)=>{(Qt(e)?e:(e||"").split(" ")).forEach(function(o){xQ(s,o,t,n)})},xQ=(s,e,t,n)=>{s.removeEventListener(e,t,Boolean(n))},Ps=s=>{const e=n0(navigator);return s.replace(/([^ ]+)/g,function t(o){return e[o]||o})},Kg=(s,e)=>{const t=s.prototype;t.events?e.forEach(n=>{t.events.indexOf(n)<0&&t.events.push(n)}):t.events=e},No=()=>Number(new Date),PN=()=>{},NN="function";let bQ=function(){this._defaultPrevented=!0},wQ=function(){return!0===this._defaultPrevented};class gi extends W{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(e,t,n){let o,a,l,c,h,i=this,r="string"==typeof e?[e]:e||[],u=typeof t===NN;if(void 0===t){for(o in e)i.bind(o,e[o]);return i}for(o=0,a=r.length;o<a;o++){let d=r[o];c=u?t:t[d],c&&(n&&(l=c,c=function(){i.unbind(d,c),l.apply(i,arguments)},c.original=l),h=i._events[d]=i._events[d]||[],h.push(c))}return i}one(e,t){return this.bind(e,t,!0)}first(e,t){let i,r,a,c,n=this,o="string"==typeof e?[e]:e,l=typeof t===NN;for(i=0,r=o.length;i<r;i++){let u=o[i];a=l?t:t[u],a&&(c=n._events[u]=n._events[u]||[],c.unshift(a))}return n}trigger(e,t){let o,r,n=this,i=n._events[e];if(i){let a=t||{};for(a.sender=n,a._defaultPrevented=!1,a.preventDefault=bQ,a.isDefaultPrevented=wQ,i=i.slice(),o=0,r=i.length;o<r;o++)i[o].call(n,a);return!0===a._defaultPrevented}return!1}unbind(e,t){let o,n=this,i=n._events[e];if(void 0===e)n._events={};else if(i)if(t)for(o=i.length-1;o>=0;o--)(i[o]===t||i[o].original===t)&&i.splice(o,1);else n._events[e]=[];return n}_setEvents(e){const t=(this.events||[]).length;for(let n=0;n<t;n++){let i=this.events[n];this.options[i]&&e[i]&&(this.unbind(i,this.options[i]),this._events&&this._events[i]&&delete this._events[i])}this.bind(this.events,e)}}class ON extends gi{constructor(e,t){super(),this.element=e,this._initOptions(t),this.items=[],Tn(this.element,"k-widget k-attribution")}_initOptions(e){this.options=S({},this.options,e)}filter(e,t){this._extent=e,this._zoom=t,this._render()}add(e){let t=e;P(e)&&("string"==typeof e&&(t={text:e}),this.items.push(t),this._render())}remove(e){let t=[];for(let n=0;n<this.items.length;n++){let i=this.items[n];i.text!==e&&t.push(i)}this.items=t,this._render()}clear(){this.items=[],Yh(this.element)}_render(){let e=[];for(let t=0;t<this.items.length;t++){let i=this._itemText(this.items[t]);""!==i&&e.push(i)}e.length>0?(Yh(this.element),((s,e)=>{const t=document.createElement("div");for(t.innerHTML=s;t.childNodes.length>0;)e.appendChild(t.childNodes[0])})(e.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(e){let t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),i=this._inArea(e.extent);return n&&i&&(t+=e.text),t}_inZoomLevel(e,t){let n=!0,i=re(e,-Number.MAX_VALUE),o=re(t,Number.MAX_VALUE);return n=this._zoom>i&&this._zoom<o,n}_inArea(e){let t=!0;return e&&(t=e.contains(this._extent)),t}}O(ON,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const FN={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function Yg(s){return yc('<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+FN[s].className+'" aria-label="move '+s+'"><span class="k-icon '+FN[s].iconClass+'" /></button>')}class s0 extends gi{constructor(e,t){super(),this.element=e,this._initOptions(t);const n=Yg("up"),i=Yg("right"),o=Yg("down"),r=Yg("left");this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(o),this.element.appendChild(r),Tn(this.element,"k-widget k-navigator"),In(this.element,"click",".k-button",Ye(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=Ye(this._keydown,this),In(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){jn(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let n=this.element,i="tabindex",o=t.getAttribute(i)||n.getAttribute(i);n.removeAttribute(i),t.setAttribute(i,isNaN(o)?0:o)}_initOptions(e){this.options=S({},this.options,e)}_pan(e,t){let n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})}_click(e){let t=0,n=0,i=e.currentTarget;i.matches(".k-navigator-n")?n=1:i.matches(".k-navigator-s")?n=-1:i.matches(".k-navigator-e")?t=1:i.matches(".k-navigator-w")&&(t=-1),this._pan(t,n),e.preventDefault()}_keydown(e){switch(e.which){case 38:this._pan(0,1),e.preventDefault();break;case 40:this._pan(0,-1),e.preventDefault();break;case 39:this._pan(1,0),e.preventDefault();break;case 37:this._pan(-1,0),e.preventDefault()}}}function BN(s,e){return yc('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+s+'" title="zoom-'+s+'" aria-label="zoom-'+s+'"><span class="k-icon '+e+'"></span></button>')}O(s0,{name:"Navigator",panStep:1}),Kg(s0,["pan"]);class o0 extends gi{constructor(e,t){super(),this.element=e,this._initOptions(t);const n=BN("in","k-i-plus"),i=BN("out","k-i-minus");this.element.appendChild(n),this.element.appendChild(i),Tn(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),In(this.element,"click",".k-button",this._clickHandler);let o=this.element.parentNode.closest("[data-role]");this._keyroot=o||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),In(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&jn(this.element,"click",this._clickHandler),this._keyroot&&jn(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let n=this.element,i="tabindex",o=t.getAttribute(i)||n.getAttribute(i);n.removeAttribute(i),t.setAttribute(i,isNaN(o)?0:o)}_initOptions(e){this.options=S({},this.options,e)}_change(e){this.trigger("change",{delta:e*this.options.zoomStep})}_click(e){let n=1;Ju(e.currentTarget,"k-zoom-out")&&(n=-1),this._change(n),e.preventDefault()}_keydown(e){switch(e.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}O(o0,{name:"ZoomControl",zoomStep:1}),Kg(o0,["change"]);let zN=Math,HN=zN.max,jN=zN.min;class Oo extends W{constructor(e,t){super();let n=Qe.create(e),i=Qe.create(t);n.lng+180>i.lng+180&&n.lat+90<i.lat+90?(this.se=n,this.nw=i):(this.se=i,this.nw=n)}contains(e){let t=this.nw,n=this.se,i=re(e.lng,e[1]),o=re(e.lat,e[0]);return e&&i+180>=t.lng+180&&i+180<=n.lng+180&&o+90>=n.lat+90&&o+90<=t.lat+90}center(){let e=this.nw,t=this.se;return new Qe(e.lat+(t.lat-e.lat)/2,e.lng+(t.lng-e.lng)/2)}containsAny(e){let t=!1;for(let n=0;n<e.length;n++)t=t||this.contains(e[n]);return t}include(e){let t=this.nw,n=this.se,i=re(e.lng,e[1]),o=re(e.lat,e[0]);t.lng=jN(t.lng,i),t.lat=HN(t.lat,o),n.lng=HN(n.lng,i),n.lat=jN(n.lat,o)}includeAll(e){for(let t=0;t<e.length;t++)this.include(e[t])}edges(){let e=this.nw,t=this.se;return{nw:this.nw,ne:new Qe(e.lat,t.lng),se:this.se,sw:new Qe(t.lat,e.lng)}}toArray(){let e=this.nw,t=this.se;return[e,new Qe(e.lat,t.lng),t,new Qe(t.lat,e.lng)]}overlaps(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}static create(e,t){return e instanceof Oo?e:e&&t?new Oo(e,t):e&&4===e.length&&!t?new Oo([e[0],e[1]],[e[2],e[3]]):void 0}static get World(){return new Oo([90,-180],[-90,180])}}const UN="centerChange";class $N extends W{constructor(e,t){super(),this.widgetService=e,this.options=S({},this.options,t),this.offset={x:0,y:0}}show(e,t){this.location!==t.location&&(this.anchor=e,this.location=t.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},t)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(e){const t=this.widgetService.widget._toDocumentCoordinates({x:e.left-this.offset.x,y:e.top-this.offset.y});this._anchor={left:t.left,top:t.top}}destroy(){this.widgetService=null}}O($N,{border:{width:1},opacity:1});class r0 extends W{constructor(e,t){super(),this.support=Ca(),this._initOptions(t),this.map=e;let n=document.createElement("div");Tn(n,"k-layer"),n.style.zIndex=this.options.zIndex,n.style.opacity=this.options.opacity,this.element=n,e.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(e){this.options=S({},this.options,e)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let e=this.options,t=this.map.zoom(),n=!P(e.minZoom)||t>=e.minZoom,i=!P(e.maxZoom)||t<=e.maxZoom,o=Oo.create(e.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(n&&i&&r)}_setVisibility(e){this.element.style.display=e?"":"none"}_activate(){let e=this.map;this._deactivate(),e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)}_deactivate(){let e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)}_updateAttribution(){const e=this.map.attribution;e&&e.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let Ir=Math,a0=N;function GN(s){return ot(s)?s:ZM.compile(s)}function WN(s){let e=s;return"string"!=typeof s&&(e+="px"),e}class qN extends r0{constructor(e,t){super(e,t),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let n=this._viewType();this._view=new n(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return PQ}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=iw(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let e=this._view,t=this.map,n=t.extent(),i={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(i),e.zoom(t.zoom())}_resize(){this._render()}_panEnd(e){super._panEnd(e),this._render()}_render(){this._updateView(),this._view.render()}}O(qN,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class PQ extends W{constructor(e,t){super(),this.element=e,this._initOptions(t),this.pool=new YN}_initOptions(e){this.options=S({},this.options,e)}center(e){this._center=e}extent(e){this._extent=e}viewOrigin(e){this._viewOrigin=e}zoom(e){this._zoom=e}pointToTileIndex(e){return new a0(Ir.floor(e.x/this.options.tileSize),Ir.floor(e.y/this.options.tileSize))}tileCount(){let e=this.size(),t=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,i=this.indexToPoint(t).translate(-n.x,-n.y);return{x:Ir.ceil((Ir.abs(i.x)+e.width)/this.options.tileSize),y:Ir.ceil((Ir.abs(i.y)+e.height)/this.options.tileSize)}}size(){let e=this._extent.nw,n=this._extent.se.clone().translate(-e.x,-e.y);return{width:n.x,height:n.y}}indexToPoint(e){return new a0(e.x*this.options.tileSize,e.y*this.options.tileSize)}subdomainText(){let e=this.options.subdomains;return e[this.subdomainIndex++%e.length]}destroy(){Yh(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let n,i,o,e=this.tileCount(),t=this.pointToTileIndex(this._extent.nw);for(i=0;i<e.x;i++)for(o=0;o<e.y;o++)n=this.createTile({x:t.x+i,y:t.y+o}),n.visible||n.show()}createTile(e){let t=this.tileOptions(e),n=this.pool.get(this._center,t);return n.element.parentNode||this.element.append(n.element),n}tileOptions(e){let t=this.wrapIndex(e),n=this.indexToPoint(e),i=this._viewOrigin,o=n.clone().translate(-i.x,-i.y);return{index:t,currentIndex:e,point:n,offset:(s=o,new a0(B(s.x),B(s.y))),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate};var s}wrapIndex(e){let t=Ir.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:Z(e.y,0,t-1)}}wrapValue(e,t){let n=Ir.abs(e)%t,i=e;return i=e>=0?n:t-(0===n?t:n),i}}class KN extends W{constructor(e,t){super(),this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()}destroy(){const e=this.element,t=e?e.parentNode:null;e&&(t&&t.removeChild(e),this.element=null)}_initOptions(e){this.options=S({},this.options,e)}createElement(){let e=document.createElement("img");const t=this.options.size+"px";e.style.position="absolute",e.style.display="block",e.style.width=e.style.maxWidth=t,e.style.height=e.style.maxHeight=t,this.element=e}show(){let e=this.element;e.style.top=WN(this.options.offset.y),e.style.left=WN(this.options.offset.x);let t=this.url();t&&e.setAttribute("src",t),e.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return GN(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return GN(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}}}O(KN,{urlTemplate:"",errorUrlTemplate:""});class YN extends W{constructor(){super(),this._items=[]}get(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)}empty(){let e=this._items;for(let t=0;t<e.length;t++)e[t].destroy();this._items=[]}reset(){let e=this._items;for(let t=0;t<e.length;t++)e[t].hide()}_create(e){let n,t=this._items,i=m6(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate);for(let o=0;o<t.length;o++)if(t[o].id===i){n=t[o];break}return n?n.show():(n=new KN(i,e),this._items.push(n)),n}_remove(e){let t=this._items,n=-1,i=-1;for(let o=0;o<t.length;o++){let r=t[o].options.point.distanceTo(e);r>n&&!t[o].visible&&(i=o,n=r)}-1!==i&&(t[i].destroy(),t.splice(i,1))}}O(YN,{maxSize:100});const Sa=Object.assign,Xh="change";class RQ extends gi{constructor(e,t){super();let n=this,i=e[0]||e;n.capture=!1;const o=n0(navigator);i.addEventListener?(o.down.split(" ").forEach(function(r){i.addEventListener(r,Ye(n._press,n),!0)}),o.up.split(" ").forEach(function(r){i.addEventListener(r,Ye(n._release,n),!0)})):(o.down.split(" ").forEach(function(r){i.attachEvent(r,Ye(n._press,n))}),o.up.split(" ").forEach(function(r){i.attachEvent(r,Ye(n._release,n))})),n.bind(["press","release"],t||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(e){this.trigger("press"),this.capture&&e.preventDefault()}_release(e){let t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}class XN extends gi{constructor(e){super();let t=this;t.forcedEnabled=!1,Sa(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")}makeVirtual(){Sa(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())}outOfBounds(e){return e>this.max||e<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(e){this.scale=e}update(e){let t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,o=t.getSize();0===n&&!t.forcedEnabled||(t.max=t.virtual?-t._virtualMin:0,t.size=o,t.total=i,t.min=Math.min(t.max,o-i),t.minScale=o/n,t.centerOffset=(i-o)/2,t.enabled=t.forcedEnabled||i>o,e||t.trigger(Xh,t))}}class NQ extends gi{constructor(e){super();let t=this;t.x=new XN(Sa({horizontal:!0},e)),t.y=new XN(Sa({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(Xh,e)}rescale(e){this.x.rescale(e),this.y.rescale(e),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(Xh)}}class ZN extends gi{constructor(e){super(),Sa(this,e)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(e){let t=this,n=t.dimension,i=t.axis,o=t.movable,r=o[i]+e;if(!n.enabled)return;let a=e;(r<n.min&&e<0||r>n.max&&e>0)&&(a*=t.resistance),o.translateAxis(i,a),t.trigger(Xh,t)}}class OQ extends W{constructor(e){super();let n,i,o,r,t=this;Sa(t,{elastic:!0},e),o=t.elastic?.5:0,r=t.movable,t.x=n=new ZN({axis:"x",dimension:t.dimensions.x,resistance:o,movable:r}),t.y=i=new ZN({axis:"y",dimension:t.dimensions.y,resistance:o,movable:r}),t.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){t.gesture=a,t.offset=Wl(t.dimensions.container)},press(a){const l=a.event.target.closest("a");l&&l.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let p,l=t.gesture,c=l.center,u=a.center,h=a.distance/l.distance,f=t.dimensions.maxScale;r.scale<=t.dimensions.minScale&&h<1&&(h+=.8*(1-h)),r.scale*h>=f&&(h=f/r.scale);let g=r.x+t.offset.left,y=r.y+t.offset.top;p={x:(g-c.x)*h+u.x-g,y:(y-c.y)*h+u.y-y},r.scaleWith(h),n.dragMove(p.x),i.dragMove(p.y),t.dimensions.rescale(r.scale),t.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||i.dimension.enabled?(n.dragMove(a.x.delta),i.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}}let QN=function(s,e,t){return"translate3d("+s+"px,"+e+"px,0) scale("+t+")"};class l0 extends gi{constructor(e){super();let t=this;t.support=Ca(),this.transformStyle=this.support.transitions.prefix+"Transform",t.element=e,t.element.style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1;const n=QN(t.x,t.y,t.scale);t.element.style[this.transformStyle]=n,t._saveCoordinates(n)}translateAxis(e,t){this[e]+=t,this.refresh()}scaleTo(e){this.scale=e,this.refresh()}scaleWith(e){this.scale*=e,this.refresh()}translate(e){this.x+=e.x,this.y+=e.y,this.refresh()}moveAxis(e,t){this[e]=t,this.refresh()}moveTo(e){Sa(this,e),this.refresh()}refresh(){let i,e=this,t=e.x,n=e.y;e.round&&(t=Math.round(t),n=Math.round(n)),i=QN(t,n,e.scale),i!==e.coordinates&&(e.element.style[this.transformStyle]=i,e._saveCoordinates(i),e.trigger(Xh))}_saveCoordinates(e){this.coordinates=e}}const c0=Ze;class u0 extends r0{constructor(e,t){super(e,t),this._pan=Ye(this._pan,this),this.surface=Bh.create(this.element,{width:e.scrollElement.clientWidth,height:e.scrollElement.clientHeight}),this._initRoot(),this.movable=new l0(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new c0,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const e=super._readData();return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e}_load(e){this._data=e,this._clearMarkers(),this._loader||(this._loader=new LQ(this.map,this.options.style,this));let t=new c0;for(let n=0;n<e.length;n++){let i=this._loader.parse(e[n]);i&&t.append(i)}this._root.clear(),this._root.append(t)}shapeCreated(e){let t=!1;return e instanceof yo&&this.map.options.renderPointsAsMarkers&&(t=P(this._createMarker(e))),t||(t=this.map.trigger("shapeCreated",{layer:this,shape:e})),t}featureCreated(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)}_createMarker(e){let t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t}_clearMarkers(){for(let e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(e){super._panEnd(e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))}_eventArgs(e){return{layer:this,layerIndex:this._layerIndex(),shape:e.element,shapeIndex:(this._data||[]).indexOf(e.element.dataItem),originalEvent:e.originalEvent}}_handler(e){return t=>{t.element&&this.map.trigger(e,this._eventArgs(t))}}_mouseenter(e){if(!e.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(e));const t=e.element,n=this._tooltipAnchor(e);this.map._tooltip.show(n,this._tooltipContext(t))}_tooltipContext(e){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:e.dataItem,location:e.location}}_tooltipAnchor(e){const t=this.map.eventOffset(e.originalEvent);return{top:t.y,left:t.x}}_activate(){super._activate(),this._panHandler=Ye(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}O(u0,{autoBind:!0,zIndex:100});class LQ extends W{constructor(e,t,n){super(),this.observer=n,this.locator=e,this.style=t}parse(e){let t=new c0,n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&t.children.length<2&&(t=t.children[0]),t}_shapeCreated(e){let t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t}_featureCreated(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})}_loadGeometryTo(e,t,n){let o,r,i=t.coordinates;switch(t.type){case"LineString":r=this._loadPolygon(e,[i],n),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<i.length;o++)r=this._loadPolygon(e,[i[o]],n),this._setLineFill(r);break;case"Polygon":this._loadPolygon(e,i,n);break;case"MultiPolygon":for(o=0;o<i.length;o++)this._loadPolygon(e,i[o],n);break;case"Point":this._loadPoint(e,i,n);break;case"MultiPoint":for(o=0;o<i.length;o++)this._loadPoint(e,i[o],n)}}_setLineFill(e){let t=e.segments;(t.length<4||!t[0].anchor().equals(yt(t).anchor()))&&(e.options.fill=null)}_loadShape(e,t){return this._shapeCreated(t)||e.append(t),t}_loadPolygon(e,t,n){let i=this._buildPolygon(t);return i.dataItem=n,i.location=this.locator.viewToLocation(i.bbox().center()),this._loadShape(e,i)}_buildPolygon(e){let n=new(e.length>1?Ni:ee)(this.style);for(let i=0;i<e.length;i++)for(let o=0;o<e[i].length;o++){let r=this.locator.locationToView(Qe.fromLngLat(e[i][o]));0===o?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y)}return n}_loadPoint(e,t,n){let i=Qe.fromLngLat(t),o=this.locator.locationToView(i),r=new Ms(o,10),a=new yo(r,this.style);return a.dataItem=n,a.location=i,this._loadShape(e,a)}}class JN extends u0{_readData(){return this.options.data||[]}_load(e){if(this._data=e,this.surface.clear(),0===e.length)return;let t=this.options,n=fo(t.valueField),i=e.slice(0);i.sort(function(l,c){return n(c)-n(l)});let r,o=this._scaleType(),a=fo(this.options.locationField);for(let l=0;l<i.length;l++){let c=i[l],u=a(c),h=n(c);if(P(u)&&P(h)){r||(r=new o([0,h],[t.minSize,t.maxSize])),u=Qe.create(u);let d=this.map.locationToView(u),f=r.map(h),p=this._createSymbol({center:d,size:f,style:t.style,dataItem:c,location:u});p.dataItem=c,p.location=u,p.value=h,this._drawSymbol(p)}}}_scaleType(){let e=this.options.scale;return ot(e)?e:BQ[e]}_createSymbol(e){let t=this.options.symbol;return ot(t)||(t=VQ[t]),t(e)}_drawSymbol(e){this.map.trigger("shapeCreated",{layer:this,shape:e})||this.surface.draw(e)}_tooltipContext(e){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:e.dataItem,location:e.location,value:e.value}}_tooltipAnchor(e){const n=e.element.bbox().center();return{top:n.y,left:n.x}}}O(JN,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let BQ={sqrt:class FQ extends W{constructor(e,t){super(),this._domain=e,this._range=t;let n=Math.sqrt(e[1])-Math.sqrt(e[0]);this._ratio=(t[1]-t[0])/n}map(e){let t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}},VQ={circle:function(s){let e=new Ms(s.center,s.size/2);return new yo(e,s.style)},square:function(s){let e=new ee(s.style),t=s.size/2,n=s.center;return e.moveTo(n.x-t,n.y-t).lineTo(n.x+t,n.y-t).lineTo(n.x+t,n.y+t).lineTo(n.x-t,n.y+t).close(),e}};const tO="mouseenter",nO="mouseleave",zQ=Object.assign,h0=".k-marker";class d0 extends r0{constructor(e,t){super(e,t),this._markerClickHandler=Ye(this._markerClick,this),In(this.element,"click",h0,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),jn(this.element,"click",this._markerClickHandler),this.clear()}add(e){if(!Qt(e))return this._addOne(e);for(let t=0;t<e.length;t++)this._addOne(e[t])}remove(e){e.destroy();let t=(this.items||[]).indexOf(e);t>-1&&this.items.splice(t,1)}clear(){for(let e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]}update(e){let t=e.location();t&&(e.showAt(this.map.locationToView(t)),this.map.trigger("markerActivate",{marker:e,layer:this}))}_reset(){super._reset();let e=this.items;for(let t=0;t<e.length;t++)this.update(e[t])}bind(e,t){let n=Zh.create(e,this.options);if(n.dataItem=t,!this.map.trigger("markerCreated",{marker:n,layer:this}))return this.add(n),n}_addOne(e){let t=Zh.create(e,this.options);return t.addTo(this),t}_readData(){return this.options.data||[]}_load(e){this._data=e,this.clear();let t=fo(this.options.locationField),n=fo(this.options.titleField);for(let i=0;i<e.length;i++){let o=e[i];this.bind({location:t(o),title:n(o)},o)}}_markerClick(e){const t=e.target._kendoNode;let n={layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t),originalEvent:e};this.map.trigger("markerClick",n)}_markerMouseEnter(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseEnter",t)}_markerMouseLeave(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseLeave",t)}_createMarkerEventArgs(e){const t=e.marker;return zQ({},{layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t)},e)}}O(d0,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});class Zh extends W{constructor(e){super(),this.options=e||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)}location(e){return e?(this.options.location=Qe.create(e).toArray(),this.layer&&this.layer.update(this),this):Qe.create(this.options.location)}showAt(e){this.render(),this._anchor={left:Math.round(e.x),top:Math.round(e.y)},this.element.style.left=kN(this._anchor.left),this.element.style.top=kN(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){!this.element||(this._mouseEnterHandler=Ye(this._mouseEnter,this),In(this.element,tO,h0,this._mouseEnterHandler),this._mouseLeaveHandler=Ye(this._mouseLeave,this),In(this.element,nO,h0,this._mouseLeaveHandler))}unbindEvents(){!this.element||(jn(this.element,tO,this._mouseEnterHandler),jn(this.element,nO,this._mouseLeaveHandler))}render(){if(!this.element){let e=this.options,t=this.layer;const n=document.createElement("span");Tn(n,"k-marker k-icon k-i-marker-"+MN(e.shape||"pin")),e.title&&n.setAttribute("title",e.title);const i=e.attributes||{};Object.keys(i).forEach(function(o){n.setAttribute(o,i[o])}),n._kendoNode=this,n.style.zIndex=e.zIndex,this.element=n,t&&t.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(e){const t=this._createEventArgs(e);this.layer._markerMouseEnter(t),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(e){const t=this._createEventArgs(e);this.layer._markerMouseLeave(t)}_createEventArgs(e){return{marker:this,originalEvent:e}}static create(e,t){return e instanceof Zh?e:new Zh(S({},t,e))}}const HQ=Object.assign;function sO(s){window.requestAnimationFrame(s)}class Xg extends W{constructor(){super();let e=this;e._tickProxy=Ye(e._tick,e),e._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){!this.enabled()||(this.done()?this.onEnd():(this._started=!0,sO(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let e=this;!e._started||(e.tick(),e.done()?(e._started=!1,e.onEnd()):sO(e._tickProxy))}}class iO extends Xg{constructor(e){super(),HQ(this,e)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,No()-this.startDate)}moveTo(e){let t=this;t.initial=t.movable[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=No(),t.start()}_easeProxy(e){let t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}static easeOutExpo(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t}}const Zg=Object.assign,jQ=s=>{s.preventDefault()};let oO=800,rO=0,f0="move",Qg="tap",dO="doubleTap",fO="release",pO="gesturechange",gO="gestureend",mO="gesturetap",GQ={api:0,touch:0,mouse:9,pointer:9};function yO(s){const e=Ca();let r,a,l,t=[],n=s.originalEvent||s,i=s.currentTarget,o=0;if(s.api)t.push({id:2,event:s,target:s.target,currentTarget:s.target,location:s,type:"api"});else if(s.type.match(/touch/))for(a=n?n.changedTouches:[],r=a.length;o<r;o++)l=a[o],t.push({location:l,event:s,target:l.target,currentTarget:i,id:l.identifier,type:"touch"});else t.push(e.pointers||e.msPointers?{location:n,event:s,target:s.target,currentTarget:i,id:n.pointerId,type:"pointer"}:{id:1,event:s,target:s.target,currentTarget:i,location:s,type:"mouse"});return t}class vO extends W{constructor(e,t){super();let n=this;n.support=Ca(),n.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=No()}move(e){let t=this,n=e["page"+t.axis],i=No(),o=i-t.timeStamp||1;!n&&this.invalidZeroEvents||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/o,t.timeStamp=i)}_updateLocationData(e){let t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}class qQ extends W{constructor(e,t,n){super(),Zg(this,{x:new vO("X",n.location),y:new vO("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||GQ[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(Ye(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(e){let t=this;t.userEvents._clicks++,1===t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){t._trigger(1===t.userEvents._clicks?Qg:dO,e),t.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(e){let t=this;if(!(t._finished||"api"!==e.type&&t.userEvents._shouldNotMove)){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(vc.current&&vc.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(f0,e)}}end(e){this.endTime=No(),!this._finished&&(this._finished=!0,this._trigger(fO,e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger(Qg,e)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let t=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const n=t.indexOf(this);t.splice(n,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(e){clearTimeout(this._holdTimeout),this.startTime=No(),this._moved=!0,this._trigger("start",e)}_trigger(e,t){let n=this,i=t.event;n.userEvents.notify(e,{touch:n,x:n.x,y:n.y,target:n.target,event:i})&&i.preventDefault()}_withinIgnoreThreshold(){let e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}function xO(s){let t=n0(navigator).up.split(" "),n=0,i=t.length;for(;n<i;n++)s(t[n])}class vc extends gi{constructor(e,t){super();let i,n=this;const o=Ca();if(this.support=o,this.options=t=t||{},i=n.filter=t.filter,n.threshold=t.threshold||rO,n.minHold=t.minHold||oO,n.touches=[],n._maxTouches=t.multiTouch?2:1,n.allowSelection=t.allowSelection,n.captureUpIfMoved=t.captureUpIfMoved,n.useClickAsTap=!t.fastTap&&!o.delayedClick(),n._clicks=0,n.supportDoubleTap=t.supportDoubleTap,Zg(n,{element:e,surface:!t.global||o.touch&&!o.mouseAndTouchPresent?t.surface||e:e.ownerDocument.documentElement,stopPropagation:t.stopPropagation,pressed:!1}),this._surfaceMoveHandler=Ye(this._move,this),In(n.surface,Ps("move"),this._surfaceMoveHandler),this._surfaceEndHandler=Ye(this._end,this),In(n.surface,Ps("up cancel"),this._surfaceEndHandler),this._elementStartHandler=Ye(this._start,this),In(e,Ps("down"),i,this._elementStartHandler),n.useClickAsTap&&(this._elementClickHandler=Ye(this._click,this),In(e,Ps("click"),i,this._elementClickHandler)),o.pointers||o.msPointers)if(o.browser.version<11){let a="pinch-zoom double-tap-zoom";e.style["-ms-touch-action"]=t.touchAction&&"none"!==t.touchAction?a+" "+t.touchAction:a}else e.style["touch-action"]=t.touchAction||"none";if(t.preventDragEvent&&(this._elementDragStartHandler=jQ,In(e,Ps("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=Ye(this._select,this),In(e,Ps("mousedown"),i,this._elementSelectHandler),n.captureUpIfMoved&&o.eventCapture){let a=n.surface,l=Ye(n.preventIfMoving,n);xO(function(c){a.addEventListener(c,l,!0)})}n.bind(["press","hold",Qg,dO,"start",f0,"end",fO,"cancel","gesturestart",pO,gO,mO,"select"],t)}preventIfMoving(e){this._isMoved()&&e.preventDefault()}destroy(){let e=this;const t=this.options,n=this.element;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved&&this.support.eventCapture){let i=e.surface;xO(function(o){i.removeEventListener(o,e.preventIfMoving)})}jn(e.surface,Ps("move"),this._surfaceMoveHandler),jn(e.surface,Ps("up cancel"),this._surfaceEndHandler),jn(n,Ps("down"),this._elementStartHandler),e.useClickAsTap&&jn(n,Ps("click"),this._elementClickHandler),t.preventDragEvent&&jn(n,Ps("dragstart"),this._elementDragStartHandler),jn(n,Ps("mousedown"),this._elementSelectHandler),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}}capture(){vc.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(e,t){let i=this.touches,o=e;if(this._isMultiTouch()){switch(o){case f0:o=pO;break;case"end":o=gO;break;case Qg:o=mO}Zg(t,{touches:i},function WQ(s,e){let t=s.x.location,n=s.y.location,i=e.x.location,o=e.y.location,r=t-i,a=n-o;return{center:{x:(t+i)/2,y:(n+o)/2},distance:Math.sqrt(r*r+a*a)}}(i[0],i[1]))}return this.trigger(o,Zg(t,{type:o}))}press(e,t,n){this._apiCall("_start",e,t,n)}move(e,t){this._apiCall("_move",e,t)}end(e,t){this._apiCall("_end",e,t)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let e=this.touches;for(;e.length>0;)e.pop().dispose()}_isMoved(){return es(this.touches,function(e){return e.isMoved()}).length}_select(e){(!this.allowSelection||this.trigger("select",{event:e}))&&e.preventDefault()}_start(e){let o,l,t=this,n=0,i=t.filter,r=yO(e),a=r.length,c=e.which;if(!(c&&c>1||t._maxTouchesReached()))for(vc.current=null,t.currentTarget=e.currentTarget,t.stopPropagation&&e.stopPropagation();n<a&&!t._maxTouchesReached();n++)l=r[n],o=i?l.currentTarget:t.element,(!o||0!==o.length)&&(l=new qQ(t,o,l),t.touches.push(l),l.press(),t._isMultiTouch()&&t.notify("gesturestart",{}))}_move(e){this._eachTouch("move",e)}_end(e){this._eachTouch("end",e)}_click(e){let t={touch:{initialTouch:e.target,target:e.currentTarget,endTime:No(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:e.currentTarget,event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()}_eachTouch(e,t){let a,l,c,u,i={},o=yO(t),r=this.touches;for(a=0;a<r.length;a++)l=r[a],i[l.id]=l;for(a=0;a<o.length;a++)c=o[a],u=i[c.id],u&&u[e](c)}_apiCall(e,t,n,i){this[e]({api:!0,pageX:t,pageY:n,clientX:t,clientY:n,target:i||this.element,stopPropagation:PN,preventDefault:PN})}static defaultThreshold(e){rO=e}static minHold(e){oO=e}}let xc=Object.assign,Da=Math.abs,Jg="change";class nJ extends Xg{constructor(e){super(e);let t=this;xc(t,e),t.userEvents.bind("gestureend",t.start.bind(this)),t.tapCapture.bind("press",t.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)}onEnd(){let e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}class sJ extends Xg{constructor(e){super();let t=this;xc(t,e,{transition:new iO({axis:e.axis,movable:e.movable,onEnd(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",Ye(t.start,t)),t.userEvents.bind("gestureend",Ye(t.start,t)),t.userEvents.bind("tap",Ye(t.onEnd,t))}onCancel(){this.transition.cancel()}freeze(e){this.cancel(),this._moveTo(e)}onEnd(){let e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()}done(){return Da(this.velocity)<1}start(e){let n,t=this;!t.dimension.enabled||(t.paneAxis.outOfBounds()?t.transition._started?(t.transition.cancel(),t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,55),super.start()):t._snapBack():(n=2===e.touch.id?0:e.touch[t.axis].velocity,t.velocity=Math.max(Math.min(n*t.velocityMultiplier,55),-55),t.tapCapture.captureNext(),super.start()))}tick(){let e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?.5:e.friction,i=e.velocity*=n,o=e.movable[e.axis]+i;!e.elastic&&t.outOfBounds(o)&&(o=Math.max(Math.min(o,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,o)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let e=this,t=e.dimension;e._moveTo(e.movable[e.axis]>t.max?t.max:t.min)}_moveTo(e){this.transition.moveTo({location:e,duration:500,ease:iO.easeOutExpo})}}class iJ extends Xg{constructor(e){super(e),xc(this,e,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return Da(this.offset.y)<5&&Da(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(e,t){this.offset={},this.origin=e,this.destination=t}setCallback(e){e&&ot(e)?this.callback=e:e=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class oJ extends W{constructor(e){super();let t=this,n="x"===e.axis;const o=yc('<div class="km-touch-scrollbar km-'+(n?"horizontal":"vertical")+'-scrollbar" />');xc(t,e,{element:o,elementSize:0,movable:new l0(o),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:n?"width":"height"}),t.scrollMovable.bind(Jg,t.refresh.bind(t)),t.container.appendChild(o),e.alwaysVisible&&t.show()}refresh(){let e=this,t=e.axis,n=e.dimension,i=n.size,r=i/n.total,a=Math.round(-e.scrollMovable[t]*r),l=Math.round(i*r);this.element.style.display=r>=1?"none":"",a+l>i?l=i-a:a<0&&(l+=a,a=0),e.elementSize!==l&&(e.element.style[e.size]=l+"px",e.elementSize=l),e.movable.moveAxis(t,a)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class m0 extends gi{constructor(e,t){super();let n=this;this.element=e,this._initOptions(t);const i=(s=>{const e=IN(s);return e.ios||e.android})(navigator.userAgent);n._native=n.options.useNative&&i;const o=yc('<div class="km-scroll-header"/>');if(n._native)return Tn(e,"km-native-scroller"),AN(o,e),void xc(n,{scrollElement:e,fixedContainer:e.children[0]});e.style.overflow="hidden",Tn(e,"km-scroll-wrapper"),((s,e)=>{for(s.appendChild(e);s.firstChild!==e;)e.appendChild(s.firstChild)})(e,yc('<div class="km-scroll-container"/>')),AN(o,e);let a=e.children[1],l=new RQ(e),c=new l0(a),u=new NQ({element:a,container:e,forcedEnabled:n.options.zoom}),h=this.options.avoidScrolling,d=new vc(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:n.options.zoom,supportDoubleTap:n.options.supportDoubleTap,start(y){u.refresh();let x=Da(y.x.velocity),w=Da(y.y.velocity),C=2*x>=w,A=((s,e)=>s===e||((s,e)=>{if(!e)return!1;let t=e.parentNode;for(;null!==t;){if(t===s)return!0;t=t.parentNode}return!1})(s,e))(n.fixedContainer,y.event.target),L=2*w>=x;!A&&!h(y)&&n.enabled&&(u.x.enabled&&C||u.y.enabled&&L)?d.capture():d.cancel()}}),f=new OQ({movable:c,dimensions:u,userEvents:d,elastic:n.options.elastic}),p=new nJ({movable:c,dimensions:u,userEvents:d,tapCapture:l}),g=new iJ({moveTo(y){n.scrollTo(y.x,y.y)}});c.bind(Jg,function(){n.scrollTop=-c.y,n.scrollLeft=-c.x,n.trigger("scroll",{scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})}),n.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),In(e,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),xc(n,{movable:c,dimensions:u,zoomSnapBack:p,animatedScroller:g,userEvents:d,pane:f,tapCapture:l,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:e.children[0]}),n._initAxis("x"),n._initAxis("y"),n._wheelEnd=function(){n._wheel=!1,n.userEvents.end(0,n._wheelY)},u.refresh(),n.options.pullToRefresh&&n._initPullToRefresh()}_initOptions(e){this.options=S({},this.options,e)}_wheelScroll(e){if(e.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let t=(s=>{const e=s.originalEvent||s,t=e.wheelDeltaY;let n;return e.wheelDelta?(void 0===t||t)&&(n=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(n=10*-e.detail),n})(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(e,t){this.dimensions.y.virtualSize(e,t)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(e){this._initOptions(e),e.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(e,t){this._native?(this.scrollElement.scrollLeft(Da(e)),this.scrollElement.scrollTop(Da(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))}animatedScrollTo(e,t,n){let i,o;this._native?this.scrollTo(e,t):(i={x:this.movable.x,y:this.movable.y},o={x:e,y:t},this.animatedScroller.setCoordinates(i,o),this.animatedScroller.setCallback(n),this.animatedScroller.start())}pullHandled(){}destroy(){jn(this.element,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(e){this.dimensions.rescale(e),this.movable.scaleTo(e)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(e){let t=this,n=t.movable,i=t.dimensions[e],o=t.tapCapture,r=t.pane[e],a=new oJ({axis:e,movable:n,dimension:i,container:t.element,alwaysVisible:t.options.visibleScrollHints});i.bind(Jg,function(){a.refresh()}),r.bind(Jg,function(){a.show()}),t[e+"inertia"]=new sJ({axis:e,paneAxis:r,movable:n,tapCapture:o,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}}O(m0,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),Kg(m0,["pull","scroll","resize"]);let Pr=Math,wO=Pr.min,y0=Pr.pow,CO=N,em="marker",tm="location",SO="DOMMouseScroll mousewheel";const dJ={bubble:JN,shape:u0,tile:qN,[em]:d0};function DO(s){let e=[];if(s){let t=MN(s).split("-");for(let n=0;n<t.length;n++)e.push("k-pos-"+t[n])}return e.join(" ")}class EO extends gi{constructor(e,t={},n={},i={}){super(),this._init(e,t,n,i)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),Qt(this.markers)?this.markers.forEach(e=>{e.destroy()}):this.markers.destroy();for(let e=0;e<this.layers.length;e++)this.layers[e].destroy();jn(this.element,SO,this._mousewheelHandler),super.destroy()}_init(e,t={},n={},i={}){this.support=Ca(),this.context=i,this.initObserver(i),this.initServices(i),this._notifyObserver("init"),this._initOptions(t),this._setEvents(t),this.crs=new lQ,this._initElement(e),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),In(this.element,SO,this._mousewheelHandler)}_initOptions(e){this.options=S({},this.options,e)}_initElement(e){this.element=e,Tn(e,"k-map"),e.style.position="relative",e.setAttribute("data-role","map"),Yh(e);const t=yc("<div />");this.element.appendChild(t)}initServices(e={}){this.widgetService=new class rJ{constructor(e,t={}){this.sender=t.sender||e,this.widget=e,this.rtl=Boolean(t.rtl)}notify(e,t){this.widget&&this.widget.trigger(e,t)}}(this,e)}initObserver(e={}){this.observers=[],this.addObserver(e.observer)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0}trigger(e,t={}){t.sender=this;const n=this.observers;let i=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(i=!0);return i||super.trigger(e,t),i}_notifyObserver(e,t={}){t.sender=this;const n=this.observers;let i=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(i=!0);return i}zoom(e){let n,t=this.options;if(P(e)){const i=Pr.round(Z(e,t.minZoom,t.maxZoom));t.zoom!==i&&(t.zoom=i,this.widgetService.notify("zoomChange",{zoom:t.zoom}),this._reset()),n=this}else n=t.zoom;return n}center(e){let t;if(e){const n=Qe.create(e),i=Qe.create(this.options.center);n.equals(i)||(this.options.center=n.toArray(),this.widgetService.notify(UN,{center:this.options.center}),this._reset()),t=this}else t=Qe.create(this.options.center);return t}extent(e){let t;return e?(this._setExtent(e),t=this):t=this._getExtent(),t}setOptions(e={}){const t=this.element;this.destroy(),Yh(t),this._init(t,e,{},this.context),this._reset()}locationToLayer(e,t){let n=!this.options.wraparound;const i=Qe.create(e);return this.crs.toPoint(i,this._layerSize(t),n)}layerToLocation(e,t){let n=!this.options.wraparound;const i=CO.create(e);return this.crs.toLocation(i,this._layerSize(t),n)}locationToView(e){const t=Qe.create(e);let n=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(n.scale(-1))}viewToLocation(e,t){const n=this.locationToLayer(this._getOrigin(),t),o=CO.create(e).clone().translateWith(n);return this.layerToLocation(o,t)}eventOffset(e){let t,n,i=Wl(this.element);if(e.x&&e.x[tm]||e.y&&e.y[tm])t=e.x[tm]-i.left,n=e.y[tm]-i.top;else{let r=e.originalEvent||e;t=re(r.pageX,r.clientX)-i.left,n=re(r.pageY,r.clientY)-i.top}return new N(t,n)}eventToView(e){let t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))}eventToLayer(e){return this.locationToLayer(this.eventToLocation(e))}eventToLocation(e){let t=this.eventOffset(e);return this.viewToLocation(t)}viewSize(){let e=this.element,t=this._layerSize(),n=e.clientWidth;return this.options.wraparound||(n=wO(t,n)),{width:n,height:wO(t,e.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(e,t){let i,n=this.viewSize();const o=this._origin=Qe.create(e);return i=this.locationToLayer(o,t),i.x+=n.width/2,i.y+=n.height/2,this.options.center=this.layerToLocation(i,t).toArray(),this.widgetService.notify(UN,{center:this.options.center}),this}_getOrigin(e){let n,t=this.viewSize();return(e||!this._origin)&&(n=this.locationToLayer(this.center()),n.x-=t.width/2,n.y-=t.height/2,this._origin=this.layerToLocation(n)),this._origin}_setExtent(e){let t=Oo.create(e),n=t.se.clone();this.options.wraparound&&n.lng<0&&e.nw.lng>0&&(n.lng=180+(180+n.lng));const i=new Oo(t.nw,n);this.center(i.center());let a,o=this.element.clientWidth,r=this.element.clientHeight;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let l=this.locationToLayer(i.nw,a),c=this.locationToLayer(i.se,a),u=Pr.abs(c.x-l.x),h=Pr.abs(c.y-l.y);if(u<=o&&h<=r)break}this.zoom(a)}_getExtent(){let e=this._getOrigin(),t=this.locationToLayer(e),n=this.viewSize();t.x+=n.width,t.y+=n.height;let i=this.layerToLocation(t);return new Oo(e,i)}_zoomAround(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)}_initControls(){let e=this.options.controls;e.attribution&&this._createAttribution(e.attribution),this.support.mobileOS||(e.navigator&&this._createNavigator(e.navigator),e.zoom&&this._createZoomControl(e.zoom))}_createControlElement(e,t){let n=e.position||t,i="."+DO(n).replace(" ","."),o=this.element.querySelector(".k-map-controls"+i)||[];if(0===o.length){let a=document.createElement("div");Tn(a,"k-map-controls "+DO(n)),o=a,this.element.appendChild(o)}let r=document.createElement("div");return o.appendChild(r),r}_createAttribution(e){let t=this._createControlElement(e,"bottomRight");this.attribution=new ON(t,e)}_createNavigator(e){let t=this._createControlElement(e,"topLeft"),n=this.navigator=new s0(t,e);this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)}_navigatorPan(e){let t=this.scroller,n=t.scrollLeft+e.x,i=t.scrollTop-e.y,o=this._virtualSize,a=this.element.clientHeight;n=Z(n,o.x.min,o.x.max-this.element.clientWidth),i=Z(i,o.y.min,o.y.max-a),this.scroller.one("scroll",Ye(this._scrollEnd,this)),this.scroller.scrollTo(-n,-i)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(e){let t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new o0(t,e);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)}_zoomControlChange(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))}_initScroller(){let n=this.scroller=new m0(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",Ye(this._scroll,this)),n.bind("scrollEnd",Ye(this._scrollEnd,this)),n.userEvents.bind("gesturestart",Ye(this._scaleStart,this)),n.userEvents.bind("gestureend",Ye(this._scale,this)),n.userEvents.bind("doubleTap",Ye(this._doubleTap,this)),n.userEvents.bind("tap",Ye(this._tap,this)),this.scrollElement=n.scrollElement}_initLayers(){let e=this.options.layers,t=this.layers=[];for(let n=0;n<e.length;n++){const o=this._createLayer(e[n]);t.push(o)}}_createLayer(e){let t=e.type||"shape",i=S({},t===em?this.options.markerDefaults:this.options.layerDefaults[t],e),r=new(0,dJ[t])(this,i);return t===em&&(this.markers=r),r}_createTooltip(){return new $N(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(t=>t&&t.type===em).length>0||(this.markers=new d0(this,this.options.markerDefaults),this.markers.add(this.options.markers))}_scroll(e){let t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,i=new N(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=i.x,t.y+=i.y,this._scrollOffset=i,this._tooltip.offset=i,this.hideTooltip(),this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})}_scrollEnd(e){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=No(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return No()-(this._panEndTimestamp||0)>50}_scaleStart(e){if(this.trigger("zoomStart",{originalEvent:e})){let t=e.touches[1];t&&t.cancel()}}_scale(e){let n=this._scaleToZoom(this.scroller.movable.scale),i=new N(e.center.x,e.center.y),o=this.viewToLocation(i,n),a=this.locationToLayer(o,n).translate(-i.x,-i.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:e})}_scaleToZoom(e){let n=this._layerSize()*e/this.options.minSize,i=Pr.log(n)/Pr.log(2);return Pr.round(i)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let e=this.scroller,t=e.dimensions.x,n=e.dimensions.y,i=this._layerSize(),o=this.extent().nw,r=this.locationToLayer(o).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();let a=this.zoom();e.dimensions.forcedMinScale=y0(2,this.options.minZoom-a),e.dimensions.maxScale=y0(2,this.options.maxZoom-a);let l={min:-r.x,max:i-r.x},c={min:-r.y,max:i-r.y};if(this.options.wraparound&&(l.max=20*i,l.min=-l.max),!1===this.options.pannable){let u=this.viewSize();l.min=c.min=0,l.max=u.width,c.max=u.height}t.makeVirtual(),n.makeVirtual(),t.virtualSize(l.min,l.max),n.virtualSize(c.min,c.max),this._virtualSize={x:l,y:c}}_renderLayers(){}_layerSize(e){const t=re(e,this.options.zoom);return this.options.minSize*y0(2,t)}_tap(e){if(!this._panComplete())return;let t=this.eventOffset(e);this.hideTooltip(),this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}_doubleTap(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){let n=this.zoom()+1,i=this.eventOffset(e),o=this.viewToLocation(i),a=this.locationToLayer(o,n).translate(-i.x,-i.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:e})}}_mousewheel(e){e.preventDefault();let t=f_(e)>0?-1:1,n=this.options,i=this.zoom(),o=Z(i+t,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&o!==i&&!this.trigger("zoomStart",{originalEvent:e})){let r=this.eventOffset(e),a=this.viewToLocation(r),c=this.locationToLayer(a,o).translate(-r.x,-r.y);this._zoomAround(c,o),this.trigger("zoomEnd",{originalEvent:e})}}_toDocumentCoordinates(e){const t=Wl(this.element);return{left:B(e.x+t.left),top:B(e.y+t.top)}}}O(EO,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),Kg(EO,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const v0="Arial, Helvetica, sans-serif",nm="12px "+v0,AO="16px "+v0,MO="transparent",IO=()=>({icon:{border:{width:1}},label:{font:nm,padding:3},line:{length:10,width:2},visible:!0}),TJ=s=>({visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:s.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:MO},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},heatmap:{labels:{color:"",background:MO,visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:IO(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}),zO=(s={})=>({axisDefaults:{labels:{font:nm},notes:IO(),title:{font:AO,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:TJ(s),title:{font:AO},subtitle:{font:nm},legend:{labels:{font:nm}}});var s,e,HO=["AgfZ","turOExC=","zNvUy3rPB24=","z3jVDxa=","ChvIBgLZAerHDgu=","zgf0yq==","DgLTzxn0yw1W","vM5SC2O=","rejpz2u=","DfvPvvq=","D01gsvi=","u0Xdu2y=","C2nYAxb0s2v5","Dg9mB2nHBgvtDhjPBMC=","r3bNtu8=","C2v0","ChjVzhvJDe5HBwu=","BgLJzw5ZAw5Nrg9JC1vYBa==","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","DMvYC2LVBG==","C1DHyu0=","ChjVzhvJDhm=","CNfLrgK=","uKP0uwG=","CgfYC2u=","y3DYvhq=","zxHWAxj5rgf0zq==","uMLXufK=","tM8GBgLJzw5ZzsbMB3vUzc4k","tNz1Awe=","z3jVDxbfBMq=","sK1Vvey=","zMLUza==","D2fYBG==","tfDRtxq=","CgfJA2fNzu5HBwu=","Dw5KzwzPBMvK","C3niBfO=","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","ChjVzhvJDenVzgvZ","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","uhjVz3jLC3mG","tfLwDLa=","BgvUz3rO","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","uvPnu2m=","BMfTzq==","B2jQzwn0","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","zvn3tLG=","u2vLia==","s0PPBvO=","zxbwz0u=","zg9JC1vYBa==","z2v0","DhLWzq==","y29Kzq==","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G"];s=HO,e=391,function(n){for(;--n;)s.push(s.shift())}(++e);var E=function(s,e){var t=HO[s-=0];void 0===E.IhMVZF&&(E.uAzrZg=function(o){for(var r=function(o){for(var u,h,a=String(o).replace(/=+$/,""),l="",c=0,d=0;h=a.charAt(d++);~h&&(u=c%4?64*u+h:h,c++%4)?l+=String.fromCharCode(255&u>>(-2*c&6)):0)h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(h);return l}(o),a=[],l=0,c=r.length;l<c;l++)a+="%"+("00"+r.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(a)},E.jhAfvh={},E.IhMVZF=!0);var i=E.jhAfvh[s];return void 0===i?(t=E.uAzrZg(t),E.jhAfvh[s]=t):t=i,t},IJ={data:"  {}  "},x0=new Map;function Jh(s){if(x0[E("0xf")](s[E("0x3")])&&E("0x8")==E("0x8"))return x0[E("0xb")](s[E("0x3")]);var a,e=s[E("0x22")]?" v"+s[E("0x22")]:"",t=s[E("0x3")]+e,n=JSON[E("0x27")](IJ[E("0x14")]),i=!n[E("0x1b")]&&!n[E("0x15")],o=n[E("0x1b")]&&typeof KendoLicensing===E("0x33"),r=function RJ(s,e){var t=s[E("0x24")];if(!(t&&t[E("0x0")]||E("0x26")===E("0x23")))return null;var n=new Set(e);return t[E("0x2f")](function(i){if(E("0x39")==E("0x39"))return n[E("0xf")](i[E("0xd")])})}(n,s[E("0x36")]);if(i||o?E("0x1d")==E("0x1d")&&(a={type:0,packageName:t,docsUrl:s[E("0x20")]}):E("0x25")===E("0x10")||(r?E("0x6")===E("0x2")||r[E("0x35")]<s[E("0x13")]&&E("0x2e")==E("0x2e")&&(a={type:2,packageName:t,publishDate:jO(s[E("0x13")]),expiryDate:jO(r[E("0x35")]),docsUrl:s[E("0x20")]}):E("0x31")!=E("0x31")||(a={type:1,packageName:t,docsUrl:s[E("0x20")]})),a&&typeof console===E("0x4")&&E("0x17")!==E("0x2c")){var l=E("0x38")+s[E("0x1f")],c=typeof console[E("0x12")]===E("0x11");c?E("0x18")==E("0x18")&&console[E("0x12")](l):E("0x2a")==E("0x2a")&&console[E("0x30")](l),console[E("0x30")](function PJ(s){var e=E("0x37")+s[E("0x32")]+"\n";return 2===s[E("0xc")]?E("0x16")!=E("0x16")||(e+=E("0xe")+s[E("0x29")][E("0x1c")]()+E("0x1")+s[E("0x13")][E("0x1c")]()+".\n"):0===s[E("0xc")]?E("0x28")===E("0x34")||(e+=E("0x2b")):1===s[E("0xc")]&&(E("0x9")===E("0x1a")||(e+=E("0x21"))),e+(E("0x7")+s[E("0xa")]+E("0x5"))}(a)),c&&(E("0x19")!=E("0x19")||console[E("0x2d")]())}var u=!a;return x0[E("0x1e")](s[E("0x3")],u),u}function jO(s){return new Date(1e3*s)}const{isArray:NJ}=Array,{getPrototypeOf:OJ,prototype:LJ,keys:FJ}=Object;function HJ(...s){const e=Ya(s),t=function Ka(s){return Ve(Qi(s))?s.pop():void 0}(s),{args:n,keys:i}=function BJ(s){if(1===s.length){const e=s[0];if(NJ(e))return{args:e,keys:null};if(function VJ(s){return s&&"object"==typeof s&&OJ(s)===LJ}(e)){const t=FJ(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:s,keys:null}}(s);if(0===n.length)return Yo([],e);const o=new Vt(function jJ(s,e,t=jr){return n=>{UO(e,()=>{const{length:i}=s,o=new Array(i);let r=i,a=i;for(let l=0;l<i;l++)UO(e,()=>{const c=Yo(s[l],e);let u=!1;c.subscribe(ft(n,h=>{o[l]=h,u||(u=!0,a--),a||n.next(t(o.slice()))},()=>{--r||n.complete()}))},n)},n)}}(n,e,i?r=>function zJ(s,e){return s.reduce((t,n,i)=>(t[n]=e[i],t),{})}(i,r):jr));return t?o.pipe(EM(t)):o}function UO(s,e,t){s?zs(t,s,e):e()}function WO(s){return s.ownerDocument||s.document||s}const _0=s=>WO(s).defaultView,b0=s=>WO(s).documentElement;let w0=0;function C0(s){const e=_0(s),t=b0(s),n={height:e.innerHeight,width:e.innerWidth};return t.scrollHeight-t.clientHeight>0&&(n.width-=function UJ(){if(!w0&&typeof document<"u"){const s=document.createElement("div");s.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",s.innerHTML="&nbsp;",document.body.appendChild(s),w0=s.offsetWidth-s.scrollWidth,document.body.removeChild(s)}return w0}()),n}const Rr=s=>{let e=s.getBoundingClientRect(),{left:t,top:n}=e;return!e.height&&!e.width&&(e=(s=>{const{display:e,left:t,position:n}=s.style;s.style.display="",s.style.left="-10000px",s.style.position="absolute";const i=s.getBoundingClientRect();return s.style.display=e,s.style.left=t,s.style.position=n,i})(s)),{top:n,left:t,height:e.height,width:e.width}},S0=(s,e)=>{const t=[];let n=s.parentNode;for(;n&&(t.push(n),n!==e);)n=n.parentNode;return t};function D0(s){const e=b0(s),t=_0(s);return{x:t.pageXOffset||e.scrollLeft||0,y:t.pageYOffset||e.scrollTop||0}}const KO=s=>s===(s.ownerDocument||{}).body?D0(s):{x:s.scrollLeft,y:s.scrollTop},E0=s=>{let e=s.offsetParent;for(;e&&"static"===e.style.position;)e=e.offsetParent;return e||b0(s)},YO=(s,e,t=1)=>{const n=e?E0(e):null,{top:i,left:o,height:r,width:a}=((s,e)=>{const t=_0(s),n=t.getComputedStyle(s),i=Rr(s),o=e||E0(s),r=s.ownerDocument;let l={top:0,left:0};if("fixed"!==n.position&&o!==r.body&&o!==r.documentElement){const c=t.getComputedStyle(o);l=Rr(o),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:i.top-l.top,left:i.left-l.left,height:i.height,width:i.width}})(s,n),{x:l,y:c}=((s,e)=>s?KO(s):function GJ(s){const e=E0(s);return e?KO(e):{x:0,y:0}}(e))(n,s),u=s.ownerDocument,h=n===u.body||n===u.documentElement?1:t;return{top:i+c*h,left:o+l*h,height:r,width:a}};const ZO=function(s,e,t){let n=0;return s+e>t&&(n=t-(s+e)),s<0&&(n=-s),n},QO=function({offset:s,size:e,anchorSize:t,viewPortSize:n,anchorAlignPoint:i,elementAlignPoint:o,margin:r}){let a=0;const u=2*r;if(o!==i&&"center"!==o&&"middle"!==o&&"center"!==i&&"middle"!==i){const h="top"===i||"left"===i;s<0&&h?(a=e+t+u,s+a+e>n&&(a=0)):s>=0&&!h&&(s+e>n&&(a+=-(t+e+u)),s+a<0&&(a=0))}return a},KJ=s=>{const e=[];let t=s.parentNode.firstElementChild;for(;t;)t!==s&&e.push(t),t=t.nextElementSibling;return e};!function QJ(s){let e,t=!1}(s=>{if(!tL())return!1;const e=s?s.ownerDocument:document;if(!e||!e.body)return!1;const n=e.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: 10px;">child</div>',e.body.appendChild(n);const i=10!==n.children[0].getBoundingClientRect().top;return e.body.removeChild(n),i});const tL=()=>Boolean(typeof window<"u"&&window.document&&window.document.createElement);class T0{}const Lo="*";function _ee(s,e=null){return{type:4,styles:e,timings:s}}function iL(s,e=null){return{type:2,steps:s,options:e}}function im(s){return{type:6,styles:s,offset:null}}function oL(s){Promise.resolve().then(s)}class nd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class rL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const o=this.players.length;0==o?oL(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++t==o&&this._onFinish()}),r.onDestroy(()=>{++n==o&&this._onDestroy()}),r.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((r,a)=>Math.max(r,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}const bee=["container"];function wee(s,e){}const Cee=["*"],M0=(s,e)=>s||{height:0,left:e.left,top:e.top,width:0},om=()=>typeof window<"u",Eee=/auto|scroll/,Mee=s=>(s=>`${s.style.overflow}${s.style.overflowX}${s.style.overflowY}`)(s)||(s=>{const e=window.getComputedStyle(s);return`${e.overflow}${e.overflowX}${e.overflowY}`})(s),aL=1e3/60,Pee=function Iee(s){let e,t=!1;return(...n)=>(t||(e=s(...n),t=!0),e)}(()=>{if(!Cs()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}),sd=(s,e)=>s&&1!==e?{height:s.height/e,left:s.left/e,top:s.top/e,width:s.width/e}:s,lL=new me("Popup Document Scale"),Nee=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let bc=(()=>{class s{addOffset(t,n){return{left:t.left+n.left,top:t.top+n.top}}addScroll(t,n){return function GO(s,e){return{top:s.top+e.y,left:s.left+e.x,height:s.height,width:s.width}}(t,n)}align(t){return(s=>{const{anchorRect:e,anchorAlign:t,elementRect:n,elementAlign:i,margin:o={}}=s,r=t.horizontal,a=t.vertical,l=i.horizontal,c=i.vertical;let u=o.horizontal||0,h=o.vertical||0,d=e.top,f=e.left;return"bottom"===a&&(d+=e.height),("center"===a||"middle"===a)&&(d+=Math.round(e.height/2)),"bottom"===c&&(d-=n.height,h*=-1),("center"===c||"middle"===c)&&(d-=Math.round(n.height/2),h*=-1),"right"===r&&(f+=e.width),("center"===r||"middle"===r)&&(f+=Math.round(e.width/2)),"right"===l&&(f-=n.width,u*=-1),("center"===l||"middle"===l)&&(f-=Math.round(n.width/2),u*=-1),{top:d+h,left:f+u}})(t)}boundingOffset(t){return(s=>{if(!s.getBoundingClientRect){const o=C0(s);return{bottom:o.height,left:0,right:o.width,top:0}}const{bottom:e,left:t,right:n,top:i}=s.getBoundingClientRect();return{bottom:e,left:t,right:n,top:i}})(t)}getFontStyles(t){const n=this.getWindow();if(!n||!t)return[];const i=n.getComputedStyle(t);return Nee.map(o=>({key:o,value:i[o]}))}getWindow(){return om()?window:null}hasOffsetParent(t){return!!t&&!!this.nativeElement(t).offsetParent}offset(t){return t?Rr(t):null}offsetAtPoint(t,n){if(!t)return null;const i=this.nativeElement(t),{left:o,top:r,transition:a}=i.style;i.style.transition="none",i.style.left=`${n.left}px`,i.style.top=`${n.top}px`;const l=Rr(i);return i.style.left=o,i.style.top=r,i.style.transition=a,l}nativeElement(t){return t?t.nativeElement||t:null}position(t,n,i=1){return t&&n?YO(t,this.nativeElement(n),i):null}removeScroll(t,n){return function XO(s,e){return{top:s.top-e.y,left:s.left-e.x,height:s.height,width:s.width}}(t,n)}restrictToView(t){return(s=>{const{anchorRect:e,anchorAlign:t,elementRect:n,elementAlign:i,collisions:o,viewPort:r,margin:a={}}=s,{top:l,left:c,height:u,width:h}=n,{height:d,width:f}=r,p=a.horizontal||0,g=a.vertical||0;let y=0,x=0;const w="fit"===o.vertical,C="fit"===o.horizontal,A="flip"===o.vertical,L="flip"===o.horizontal;w&&(x+=ZO(l,u,d)),C&&(y+=ZO(c,h,f)),A&&(x+=QO({margin:g,offset:l,size:u,anchorSize:e.height,viewPortSize:d,anchorAlignPoint:t.vertical,elementAlignPoint:i.vertical})),L&&(y+=QO({margin:p,offset:c,size:h,anchorSize:e.width,viewPortSize:f,anchorAlignPoint:t.horizontal,elementAlignPoint:i.horizontal}));const U=A&&0!==x,J=L&&0!==y,xe=w&&0!==x,Je=C&&0!==y;return{flipped:J||U,fitted:xe||Je,flip:{horizontal:J,vertical:U},fit:{horizontal:Je,vertical:xe},offset:{left:y,top:x}}})(t)}scrollPosition(t){return D0(this.nativeElement(t))}scrollableParents(t){return(s=>{const e=[];if(!Cs()||!om())return e;let t=s.parentElement;for(;t;)(Eee.test(Mee(t))||t.hasAttribute("data-scrollable"))&&e.push(t),t=t.parentElement;return e.push(window),e})(t)}stackingElementOffset(t){const n=this.getRelativeContextElement(t);return n?Rr(n):null}stackingElementScroll(t){const n=this.getRelativeContextElement(t);return n?{x:n.scrollLeft,y:n.scrollTop}:{x:0,y:0}}getRelativeContextElement(t){if(!t||!Pee())return null;let n=this.nativeElement(t).parentElement;for(;n;){if("none"!==window.getComputedStyle(n).transform)return n;n=n.parentElement}return null}useRelativePosition(t){return!!this.getRelativeContextElement(t)}windowViewPort(t){return C0(this.nativeElement(t))}zIndex(t,n){return((s,e)=>{if(!s||!Cs()||!om())return null;const t=((s,e)=>{const t=S0(s);let i,o,n=e;for(;n&&(i=KJ(n),o=t.reduce((r,a)=>r.concat(i.filter(l=>l===a)),[])[0],!o);)n=n.parentElement;return o})(s,e);if(!t)return null;const n=[s].concat(S0(s,t)).reduce((i,o)=>{const r=o.style.zIndex||window.getComputedStyle(o).zIndex,a=parseInt(r,10);return a>i?a:i},0);return n?n+1:null})(t,this.nativeElement(n))}zoomLevel(){return Cs()&&om()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),cL=(()=>{class s{constructor(t,n=1){this._dom=t,this.scale=n}alignElement(t){const{anchor:n,element:i,anchorAlign:o,elementAlign:r,margin:a,offset:l,positionMode:c}=t,u=this.scale||1,d="fixed"!==c&&this._dom.hasOffsetParent(i)?this.relativeRect(n,i,l,u):this.absoluteRect(n,i,l,u),f=sd(this._dom.offset(i.nativeElement),u);return this._dom.align({anchorAlign:o,anchorRect:d,elementAlign:r,elementRect:f,margin:a})}absoluteRect(t,n,i,o){const r=this.elementScrollPosition(t,n),a=M0(this._dom.offset(t),i),l=2*o,c=this._dom.stackingElementScroll(n);1!==o&&c&&(c.x/=l,c.y/=l);const u=this._dom.stackingElementOffset(n);return 1!==o&&u&&(u.left/=l,u.top/=l),this._dom.removeScroll(this._dom.addScroll(((s,e)=>e?{height:s.height,left:s.left-e.left,top:s.top-e.top,width:s.width}:s)(sd(a,o),u),c),r)}elementScrollPosition(t,n){return t?{x:0,y:0}:this._dom.scrollPosition(n)}relativeRect(t,n,i,o){const r=M0(this._dom.position(t,n,o),i);return sd(r,o)}}return s.\u0275fac=function(t){return new(t||s)(Y(bc),Y(lL,8))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),uL=(()=>{class s{constructor(t,n=1){this._dom=t,this.scale=n}positionElement(t){const{anchor:n,currentLocation:i,element:o,anchorAlign:r,elementAlign:a,collisions:l,margin:c}=t,u=this._dom,h=this.scale||1,d=u.offsetAtPoint(o,i),f=sd(d,h),p=sd(u.offset(n),h),g=M0(p,i),y=t.viewPort||u.windowViewPort(o);y.width=y.width/h,y.height=y.height/h;const x=u.restrictToView({anchorAlign:r,anchorRect:g,collisions:l,elementAlign:a,elementRect:f,margin:c,viewPort:y}),w=u.addOffset(i,x.offset);return{flip:x.flip,flipped:x.flipped,offset:w}}}return s.\u0275fac=function(t){return new(t||s)(Y(bc),Y(lL,8))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),hL=(()=>{class s{constructor(t,n){this._dom=t,this._zone=n}subscribe(t){!Cs()||this._zone.runOutsideAngular(()=>{this.subscription=zl(this._dom.getWindow(),"resize").pipe(Zu(aL)).subscribe(()=>t())})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return s.\u0275fac=function(t){return new(t||s)(Y(bc),Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),dL=(()=>{class s{constructor(t,n){this._dom=t,this._zone=n}forElement(t){return this.unsubscribe(),this.element=t,this}subscribe(t){if(!t||!Cs()||!this.element)return;const n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const i=n.map(r=>zl(r,"scroll").pipe(Zu(aL)));this.subscription=Xa(...i).subscribe(r=>{const a=r.target;(n.filter(h=>h===a).length>0||a===document||a===window)&&t(this.isVisible(this.element,a))})})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isVisible(t,n){const i=this._dom.boundingOffset(t),o=this._dom.boundingOffset(this._dom.nativeElement(n));return!(1<o.top-i.bottom||1<i.top-o.bottom||1<i.left-o.right||1<o.left-i.right)}}return s.\u0275fac=function(t){return new(t||s)(Y(bc),Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const id="left",wc="right",Cc="down",od={expand:s=>{const e="up"===s||s===Cc?"scaleY":"scaleX";let i;return i=s===Cc?"top":s===id?wc:s===wc?id:"bottom",{start:{transform:`${e}(0)`,transformOrigin:i},end:{transform:`${e}(1)`}}},slide:s=>{const e=s===id||s===wc?"translateX":"translateY";return{start:{transform:`${e}(${s===wc||s===Cc?-100:100}%)`},end:{transform:`${e}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let fL=(()=>{class s{constructor(t){this.animationBuilder=t,this.start=new de,this.end=new de}play(t,n,i){if(!this.flip||this.flip.horizontal!==i.horizontal||this.flip.vertical!==i.vertical){this.flip=i;const o=n.type||"slide",r=od[o];if(r){const l=r(this.getDirection(i,n));this.playStates(t,l,n)}else if(kx())throw new Error(`Unsupported animation type: "${o}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(t,n,i){this.stopPlayer();const o=i.duration||100,r=this.animationBuilder.build([im(n.start),_ee(`${o}ms ease-in`,im(n.end))]),a=this.player=r.create(t);a.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),a.play()}getDirection(t,n){let i=n.direction||Cc;return t.horizontal&&(i===id?i=wc:i===wc&&(i=id)),t.vertical&&(i===Cc?i="up":"up"===i&&(i=Cc)),i}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return s.\u0275fac=function(t){return new(t||s)(Y(T0))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const Fee={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1650440793,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},pL={left:-1e4,top:0};let gL=(()=>{class s{constructor(t,n,i,o,r,a,l,c,u){this.container=t,this._alignService=n,this.domService=i,this._positionService=o,this._resizeService=r,this._scrollableService=a,this.animationService=l,this._renderer=c,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=pL,this.anchorViewportLeave=new de,this.close=new de,this.open=new de,this.positionChange=new de,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,Jh(Fee),this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=pL,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=Yo(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(t){this.setContainerStyle("left",`${t.left}px`),this.setContainerStyle("top",`${t.top}px`),this._currentOffset=t}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!Cs())return;const{flip:t,offset:n}=this.position();(!this.currentOffset||((s,e)=>{const{left:t,top:n}=s,{left:i,top:o}=e;return Math.abs(t-i)>=1||Math.abs(n-o)>=1})(this.currentOffset,n))&&(this.currentOffset=n,AM(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:n,flip:t}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,t),this.resizeSensor.acceptSize()}position(){const t=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(t){const n=AM(this.anchorViewportLeave);t||!n?this.reposition():n&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(t=>this.setContainerStyle(t.key,t.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(t,n){this._renderer.setStyle(this.container.nativeElement,t,n)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(b(xs),b(cL),b(bc),b(uL),b(hL),b(dL),b(fL),b(vl),b($e))},s.\u0275cmp=M({type:s,selectors:[["kendo-popup"]],viewQuery:function(t,n){if(1&t&&(ei(bee,7),ei(Hl,7)),2&t){let i;ht(i=dt())&&(n.contentContainer=i.first),ht(i=dt())&&(n.resizeSensor=i.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[ut([cL,fL,bc,uL,hL,dL]),Qo],ngContentSelectors:Cee,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(t,n){1&t&&(function oE(s){const e=R()[16][6];if(!e.projection){const n=e.projection=cu(s?s.length:1,null),i=n.slice();let o=e.child;for(;null!==o;){const r=s?Sj(o,s):0;null!==r&&(i[r]?i[r].projectionNext=o:n[r]=o,i[r]=o),o=o.next}}}(),At(0,"div",0,1),function rE(s,e=0,t){const n=R(),i=Ae(),o=Cl(i,22+s,16,null,t||null);null===o.projection&&(o.projection=e),yy(),64!=(64&o.flags)&&function z3(s,e,t){YD(e[11],0,e,t,VD(s,t,e),UD(t.parent||e[6],t,e))}(i,n,o)}(2),Ot(3,wee,0,0,"ng-template",2),At(4,"kendo-resize-sensor",3),ao("resize",function(){return n.onResize()}),Ut()()),2&t&&(Me("ngClass",n.popupClass),nt(3),Me("ngTemplateOutlet",n.content)("ngIf",n.content),nt(1),Me("rateLimit",100))},dependencies:[Hl,$x,ip,np],encapsulation:2}),s})();const I0=new me("Popup Container");let Sc=(()=>{class s{constructor(t,n,i,o){this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i,this.container=o}get rootViewContainer(){const t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(t={}){const{component:n,nodes:i}=this.contentFrom(t.content),o=this.appendPopup(i,t.appendTo),r=o.instance;this.projectComponentInputs(o,t),o.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();const a=this.getComponentRootNode(o);return{close:()=>{n&&n.destroy(),o.destroy(),(s=>{s&&s.parentNode&&s.parentNode.removeChild(s)})(a)},content:n,popup:o,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:a,popupOpen:r.open,popupPositionChange:r.positionChange}}appendPopup(t,n){const i=this.createComponent(gL,t,n);return n||this.rootViewContainerNode.appendChild(this.getComponentRootNode(i)),i}getComponentRootNode(t){return t.location.nativeElement}getComponentFactory(t){return this.componentFactoryResolver.resolveComponentFactory(t)}createComponent(t,n,i){const o=this.getComponentFactory(t);if(i)return i.createComponent(o,void 0,this.injector,n);{const r=o.create(this.injector,n);return this.applicationRef.attachView(r.hostView),r}}projectComponentInputs(t,n){return Object.getOwnPropertyNames(n).filter(i=>"content"!==i||n.content instanceof Dn).map(i=>{t.instance[i]=n[i]}),t}contentFrom(t){if(!t||t instanceof Dn)return{component:null,nodes:[[]]};const n=this.createComponent(t);return{component:n,nodes:[n?[n.location.nativeElement]:[]]}}}return s.\u0275fac=function(t){return new(t||s)(Y(Hu),Y(vu),Y(sr),Y(I0,8))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),P0=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({providers:[Sc],imports:[[Wu,fp]]}),s})();function am(s){return"string"==typeof s}const Uee=/\{(\d+)}?\}/g;class $ee{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=Gee(e),n=this.message.replace(Uee,function(i,o){return t[parseInt(o,10)]});return`${this.name}: ${n}`}error(...e){return new Error(this.formatMessage(e))}}const Gee=function(s){return s.reduce((e,t)=>e.concat(t),[])},Dc=function(s){return Object.keys(s).reduce(function(t,n){return t[n]=new $ee({name:n,message:s[n]}),t},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),at={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Ec(s){let e;return e=am(s)?Ea(s):s,e}function Ea(s){if(at[s])return at[s];if(at.supplemental.likelySubtags){const t=s.split("-"),n=t[0],i=t.slice(1),o=function qee(s,e){const t=at.supplemental.likelySubtags;for(let n=0;n<e.length;n++){let i=t[s+"-"+e[n]];if(i)return i}if(t[s])return t[s]}(n,i),r=o?function Wee(s,e){const t=s.split("-"),n=t[0],i=t[1],o=t[2];return at[s]||-1!==e.indexOf(o)&&at[n+"-"+o]||-1!==e.indexOf(i)&&at[n+"-"+i]||at[n]}(o,i):null;if(r)return r}throw Dc.NoLocale.error(s)}const R0="decimal",rd="currency",lm="accounting",Tc="percent",mL="scientific",Fo=".",Mc="en",L0="Formats-numberSystem-latn",cm=/([#,0.]+)/g,Yee=/\xa4/g;function vL(s){return cm.lastIndex=0,s.replace(Yee,"$").replace(cm,"n").split(";")}function xL(s){return cm.lastIndex=0,cm.exec(s.split(";")[0])[0].split(Fo)[0].split(",").slice(1).map(function(i){return i.length}).reverse()}function Xee(s,e){for(let t in e)t.startsWith("unitPattern")&&(s[t]=e[t].replace("{0}","n").replace("{1}","$"))}function Zee(s,e){const t=at[s],n=t.numbers=t.numbers||{};n.symbols=n.symbols||{};for(let i in e)if("symbols-numberSystem-latn"===i)Object.assign(n.symbols,e[i]);else if(i.includes(L0)){const o=i.substr(0,i.indexOf(L0)),r=e[i].standard;n[o]={patterns:vL(r)},o===rd?(n[o].groupSize=xL((e[R0+L0]||e[i]).standard),Xee(n[o],e[i]),n[lm]={patterns:vL(e[i][lm]),groupSize:n[o].groupSize}):n[o].groupSize=xL(r)}else"currencies"===i&&(n.currencies=e[i])}const _L={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Qee=/y+/g,Jee=[["dateFormats","short"]],bL={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function ete(s){let e=[],t=Object.getOwnPropertyNames(s);for(let n=0;n<t.length;n++)e.push(s[t[n]]);return e}function um(s,e){const t={};for(let n in s){let i=t[n]={};for(let o in s[n]){let r=s[n][o];i[o]=e?r:ete(r)}}return t}function nte(s,e){const t=at[s].calendar;t.days=um(e.days),t.months=um(e.months),t.quarters=um(e.quarters),t.dayPeriods=um(e.dayPeriods,!0),t.eras=function tte(s){const e={},t=e.format={},n={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let i in s)t[n[i]]=s[i];return e}(e.eras)}function ste(s,e){const t=at[s].calendar,n={};for(let i in e){const[o,r="wide"]=i.split("-"),a=n[o]||{},l=e[i].displayName;!l||(a[r]=l,n[o]=a)}t.dateFields=n}function wL(s,e){const t=[];for(let n=0;n<s.length;n++){let i=s[n],o=e;for(let r=0;r<i.length;r++)o=o[i[r]];t.push(o)}return t.join(" ")}function ite(s,e){const t=at[s].calendar,n=t.patterns={};n.d=wL(Jee,e).replace(Qee,"y");for(let o in bL)n[o]=wL(bL[o],e);for(let o in _L)n[o]=_L[o];const i=e.dateTimeFormats;t.dateTimeFormats={full:i.full,long:i.long,medium:i.medium,short:i.short,availableFormats:i.availableFormats},t.timeFormats=e.timeFormats,t.dateFormats=e.dateFormats}function ote(s,e){const t=at[s].calendar=at[s].calendar||{};for(let n in e)"timeZoneNames"===n?(t.gmtFormat=e[n].gmtFormat,t.gmtZeroFormat=e[n].gmtZeroFormat):"calendars"===n&&e[n].gregorian?(ite(s,e[n].gregorian),nte(s,e[n].gregorian)):"fields"===n&&ste(s,e.fields)}function hm(s){if(s.territory)return s.territory;const t=s.identity;let n;return n=t&&t.territory?t.territory:function rte(s,e){const t=at.supplemental.likelySubtags;let n=s.split("-");if(t){const o=t[s]||t[n[0]];o&&(n=o.split("-"))}if(e)for(let o=n.length-1;o>=1;o--){const r=n[o];(r===e.variant||r===e.script)&&n.splice(o,1)}const i=n.length;if(i>1)return n[i-1].toUpperCase()}(s.name,t),s.territory=n,n}const F0="duration-millisecond",cte=/\{0\}\s?/;function B0(s){return(s["unitPattern-count-one"]||s["unitPattern-count-other"]).replace(cte,"")}function ute(s,e){s.calendar.dateFields.millisecond={narrow:B0(e.narrow[F0]),short:B0(e.short[F0]),wide:B0(e.long[F0])}}function hte(s,e){for(let t in e)"numbers"===t?Zee(s,e[t]):"dates"===t&&ote(s,e[t])}function CL(s,e){const{type:t,nameType:n,standAlone:i,lower:o}=e,l=(o?"lower-":"")+n,c=Ec(s).calendar[t][i?"stand-alone":"format"];let u=c[l];return!u&&o&&(u=c[l]=function mte(s){return Array.isArray(s)?function pte(s){const e=[];for(let t=0;t<s.length;t++)e.push(s[t].toLowerCase());return e}(s):function gte(s){const e={};for(let t in s)e[t]=s[t].toLowerCase();return e}(s)}(c[n])),u}function V0(s){const e=s.split("-"),t=parseInt(e[0],10),n=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(t,n,i)}const{NoCurrency:yte,NoCurrencyDisplay:vte,NoSupplementalCurrency:xte,NoCurrencyRegion:_te,NoValidCurrency:bte}=Dc,z0="symbol",DL={"001":"USD",150:"EUR"};function EL(s,e,t){const i=Ec(s).numbers.currencies;if(!i){if(t)throw yte.error();return}const o=i[e];if(o)return o;if(t)throw vte.error()}function Cte(s,e){return e.length-s.length}function TL(s,e){const t=Ec(s),n=t.numbers;if(!n.localeCurrency){const i=function Ate(s,e=!0){if(DL[s])return DL[s];const t=at.supplemental.currencyData;if(!t){if(e)throw xte.error();return}const n=t.region[s];if(n)return function Ste(s){let e,t,n,i;for(let o=0;o<s.length;o++){const r=s[o],a=Object.keys(r)[0],l=r[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){const c=V0(l._from),u=V0(l._to);(!t||t.to<u||t.from<c)&&(e=a,t={from:c,to:u})}}else{const c=V0(l._from);(!i||i<c)&&(n=a,i=c)}}return n||e}(n);if(e)throw _te.error(s)}(hm(t),e);if(!i&&e)throw bte.error(t.name);n.localeCurrency=i}return n.localeCurrency}const H0=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:Mte,NoFirstDay:kte}=Dc;function AL(s){const e=Ec(s);if(!isNaN(e.firstDay))return e.firstDay;const t=at.supplemental.weekData;if(!t)throw Mte.error();const n=t.firstDay[hm(e)]||t.firstDay["001"];if(!n)throw kte.error();return e.firstDay=H0.indexOf(n),e.firstDay}const{NoWeekData:Ite}=Dc;function ML(s){return 1/s==-1/0}function kL(s,e={}){return e.currency||(e.currency=TL(s,!0)),function Ete(s,e){const{value:t,currency:n,currencyDisplay:i=z0}=e;if("code"===i)return n;const o=EL(s,n,!0);let r;return r=i===z0?o["symbol-alt-narrow"]||o[z0]:typeof t>"u"||1!==t?o["displayName-count-other"]:o["displayName-count-one"],r}(s,e)}function IL(s,e,t,n,i){const o=i.numbers.symbols,r=s.indexOf(o.decimal),a=n.groupSize.slice();let l=a.shift(),c=-1!==r?r:t+1,u=s.substring(e,c),h=s;const d=u.length;if(d>=l){let f=d,p=[];for(;f>-1;){let g=u.substring(f-l,f);g&&p.push(g),f-=l;let y=a.shift();if(l=void 0!==y?y:l,0===l){g=u.substring(0,f),g&&p.push(g);break}}u=p.reverse().join(o.group),h=s.substring(0,e)+u+s.substring(c)}return h}function U0(s){return s===rd||s===lm}function Pn(s,e=2,t=!1){const n=e-String(s).length;let i=s;if(n>0){const o=new Array(n+1).join("0");i=t?s+o:o+s}return i}function ad(s,e){let t=s,n=e||0;return t=t.toString().split("e"),t=Math.round(Number(t[0]+"e"+(t[1]?Number(t[1])+n:n))),t=t.toString().split("e"),t=Number(t[0]+"e"+(t[1]?Number(t[1])-n:-n)),t.toFixed(Math.min(n,20))}const Fte=/0+$/;function Hte(s,e,t){const n=t.numbers.symbols,{style:i}=e,o=U0(i);if(i===mL)return(void 0!==e.minimumFractionDigits?s.toExponential(e.minimumFractionDigits):s.toExponential()).replace(Fo,n.decimal);let a,r=s;o&&(e.value=r,a=kL(t,e)),i===Tc&&(r*=100,a=n.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function Bte(s){let{minimumFractionDigits:e,maximumFractionDigits:t,style:n}=s;const i=U0(n);let o;return i&&(o=function Tte(s){let e=2,t=2;const n=((at.supplemental.currencyData||{}).fractions||{})[s];return n&&n._digits&&(t=e=parseInt(n._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:t}}(s.currency)),void 0===e&&(e=i?o.minimumFractionDigits:0),void 0===t&&(t=n===Tc?Math.max(e,0):i?Math.max(e,o.maximumFractionDigits):Math.max(e,3)),{minimumFractionDigits:e,maximumFractionDigits:t}}(e);r=ad(r,c);const u=r<0,h=ML(s),d=r.split(Fo);let f=d[0],p=Pn(d[1]?d[1].replace(Fte,""):"",l,!0);u&&(f=f.substring(1)),e.minimumIntegerDigits&&(f=Pn(f,e.minimumIntegerDigits));let y,g=!1!==e.useGrouping?IL(f,0,f.length,e,t):f;if(p&&(g+=n.decimal+p),o&&"name"===e.currencyDisplay)y=function zte(s,e){const t=s.numbers.currency;let n=1!==e?t["unitPattern-count-other"]:t["unitPattern-count-one"];return e<0&&(n=n.replace("n","-n")),n}(t,s);else{const w=e.patterns;y=u||h?w[1]||"-"+w[0]:w[0]}return"n"!==y||u?function Vte(s,e,t){let n="";for(let i=0,o=e.length;i<o;i++){let r=e.charAt(i);n+="n"===r?s:"$"===r||"%"===r?t:r}return n}(g,y,a):g}const jte=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function RL(s,e){const t=s.format;-1!==t.indexOf("%")&&(s.style=Tc,s.symbol=e.numbers.symbols.percentSign,s.number*=100),-1!==t.indexOf("$")&&(s.style=rd,s.symbol=kL(e))}function NL(s){let e=s.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){const t=s.literals=[];s.format=e.replace(jte,function(n){const i=n.charAt(0).replace("\\",""),o=n.slice(1).replace(i,"");return t.push(o),"__??__"})}}const $te=/(\.(?:[0-9]*[1-9])?)0+$/g,Gte=/\.$/,Wte=/,/g;function OL(s,e,t){let n;return n=-1===s&&-1!==e?e:-1!==s&&-1===e?s:t?Math.min(s,e):Math.max(s,e),n}function nne(s,e,t){const n={negative:s<0,number:Math.abs(s),negativeZero:ML(s),format:e};return function Xte(s){let{number:e,format:t}=s;if(t=t.split(";"),(s.negative||s.negativeZero)&&t[1])t=t[1],s.hasNegativeFormat=!0;else if(0===e){const n=t[2];t=n||t[0],n&&function Yte(s){return-1===s.indexOf("#")&&-1===s.indexOf("0")}(n)&&(s.constant=n)}else t=t[0];s.format=t}(n),n.constant?n.constant:(NL(n),RL(n,t),function Zte(s){s.hasGroup=s.format.indexOf(",")>-1,s.hasGroup&&(s.format=s.format.replace(Wte,""))}(n),function Kte(s){let{number:e,format:t}=s,n=t.indexOf(Fo);if(-1!==n){const i=t.lastIndexOf("0")-n,o=t.lastIndexOf("#")-n,r=i>-1,a=o>-1;let l=e.toString().split("e");l=l[1]?ad(e,Math.abs(l[1])):l[0],l=l.split(Fo)[1]||"";let c=l.length,u=-1;r||a?r&&i>o?c=i:o>i&&(a&&c>o?c=o:r&&c<i&&(c=i),u=r?i:0):(s.format=t.substring(0,n)+t.substring(n+1),n=-1,c=0),c>-1&&(e=ad(e,c),u>-1&&(e=function qte(s,e){let t;return t=0===e?$te:new RegExp(`(\\.[0-9]{${e}}[1-9]*)0+$`,"g"),s.replace(t,"$1").replace(Gte,"")}(e,u)))}else e=ad(e);s.negative&&-1*e>=0&&!s.negativeZero&&(s.negative=!1),s.number=e,s.decimalIndex=n}(n),function Qte(s){const e=s.format;let t=e.indexOf("#"),n=e.indexOf("0"),i=OL(t,n,!0);t=e.lastIndexOf("#"),n=e.lastIndexOf("0");let o=OL(t,n);i===e.length&&(o=i),s.start=i,s.end=o,s.lastZeroIndex=n}(n),function tne(s,e){let t=s.number;return-1!==s.start&&(t=function ene(s,e){const{start:t,end:n,negative:i,negativeZero:o,format:r,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:c,hasGroup:u}=s;let h=s.number;const d=h.toString().split(Fo),f=r.length,p=d[0],g=d[1]||"",y=p.length;let x="";h=r.substring(0,t),(i||o)&&!c&&(h+="-");for(let w=t;w<f;w++){let C=r.charAt(w);if(-1===a){if(n-w<y){h+=p;break}}else if(-1!==l&&l<w&&(x=""),a-w<=y&&a-w>-1&&(h+=p,w=a),a===w){h+=(g?e.numbers.symbols.decimal:"")+g,w+=n-a+1;continue}"0"===C?(h+=C,x=C):"#"===C&&(h+=x)}return u&&(h=IL(h,t+(i&&!c?1:0),Math.max(n,y+t),e.numbers.decimal,e)),n>=t&&(h+=r.substring(n+1)),h}(s,e),t=function Jte(s,e,t){let n=s;if(e===rd||e===Tc){n="";for(let i=0,o=s.length;i<o;i++){let r=s.charAt(i);n+="$"===r||"%"===r?t:r}}return n}(t,s.style,s.symbol),t=function Ute(s,e){let t=s;if(e){const n=e.length;for(let i=0;i<n;i++)t=t.replace("__??__",e[i])}return t}(t,s.literals)),t}(n,t))}const sne=/^(n|c|p|e|a)(\d*)$/i;function LL(s){let e;return e=am(s)?function ine(s){const e=sne.exec(s);if(e){const t={style:R0};let n=e[1].toLowerCase();return"c"===n?t.style=rd:"a"===n?t.style=lm:"p"===n?t.style=Tc:"e"===n&&(t.style=mL),e[2]&&(t.minimumFractionDigits=t.maximumFractionDigits=parseInt(e[2],10)),t}}(s):s,e}function FL(s,e="n",t=Mc){if(null==s)return"";if(!isFinite(s))return String(s);const n=Ea(t),i=LL(e);let o;return o=i?Hte(s,Object.assign({},n.numbers[i.style||R0],i),n):nne(s,e,n),o}function $0(s){return"number"==typeof s}const one=/[eE][-+]?[0-9]+/,BL=/\u00A0/g;function VL(s,e){if(e.length>1){const t=(e[1]||"").replace("$","").split("n");if(s.indexOf(t[0])>-1&&s.indexOf(t[1])>-1)return s.replace(t[0],"").replace(t[1],"")}}const une=/\{(\d+)}/g;function G0(s){const e=arguments;return s.replace(une,(t,n)=>e[parseInt(n,10)+1])}const zL=[2,1,5,3,4],yne={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},vne={numeric:1,"2-digit":2,short:3,long:4,narrow:5},xne=/[hHmsSzZoOvVxX]/,HL=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function _ne(s){return s.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],jL={e:"c",E:"c",M:"L",Q:"q"},W0={},kc={};function q0(s){return W0[s]||(W0[s]=new RegExp(s+"+")),W0[s]}function dm(s){const e=[];let t=s.charAt(0),n=t;for(let i=1;i<s.length;i++){let o=s.charAt(i);o===n?t+=o:(e.push(t),t=n=o)}return e.push(t),e}function K0(s,e){const t=s.length;let i,o,n=-Number.MAX_VALUE;for(let r in e){const a=[];let l=r.replace("v","z"),c=0;for(let u=0;u<t;u++){const h=s[u];let f=(q0(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){let p=Math.max(Math.min(zL[f.length]-zL[h.length],2),-2);c-=yne[p]}}else c-=120;if(a.push(f),c<n)break}l.length&&(c-=20*dm(l).length),c>n&&(n=c,i=a,o=e[r])}o=o.replace("v","z");for(let r=0;r<t;r++){const a=i[r];if(a&&a!==s[r]){const l=i[r][0];o=o.replace(q0(l),s[r]),jL[l]&&(o=o.replace(q0(jL[l]),s[r]))}}return o}function Y0(s,e){const t=e.calendar;let n;if(am(s))n=t.patterns[s]?t.patterns[s]:s;else if(s){if(s.pattern)return s.pattern;let i=s.skeleton;i||(s.datetime?n=G0(t.dateTimeFormats[s.datetime],t.timeFormats[s.datetime],t.dateFormats[s.datetime]):s.date?n=t.dateFormats[s.date]:s.time?n=t.timeFormats[s.time]:i=function Cne(s){let e=[];for(let t=0;t<HL.length;t++){let n=HL[t],o=s[n.key];if(o){let r=n.specifier||n.getSpecifier(s);e.push(r.repeat(vne[o]))}}return e.join("")}(s)),i&&(n=function wne(s,e){const t=e.calendar.dateTimeFormats.availableFormats;if(t[s])return t[s];if(kc[e.name]&&kc[e.name][s])return kc[e.name][s];const n=s.search(xne);let i;if(n>0){const o=s.substr(0,n),r=s.substr(n);i=G0(e.calendar.dateTimeFormats.short,t[r]||K0(dm(r),t),t[o]||K0(dm(o),t))}else i=K0(dm(s),t);return function bne(s,e,t){kc[t]||(kc[t]={}),kc[t][s]=e}(s,i,e.name),i}(i,e))}return n||(n=t.patterns.d),n}function UL(s){let e;return s<=3?e="abbreviated":4===s?e="wide":5===s?e="narrow":6===s&&(e="short"),e}function mi(s,e,t,n,i){return CL(s,{type:e,nameType:UL(t),standAlone:n,lower:i})}function $L(s){return"function"==typeof s}function X0(s){return Boolean(s)&&$L(s.getTime)&&$L(s.getMonth)}const fm="hour",pm="zone",Z0="weekday",WL="quarter",Sne={G:"era",y:"year",q:WL,Q:WL,M:"month",L:"month",d:"day",E:Z0,c:Z0,e:Z0,h:fm,H:fm,k:fm,K:fm,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:pm,X:pm,z:pm,Z:pm},ud=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function qL(s,e,t,n){return e<=2?Pn(s+1,e):mi(t,"months",e,n)[s]}function KL(s,e,t,n){const i=Math.floor(s.getMonth()/3);return e<3?i+1:mi(t,"quarters",e,n)[i]}function gm(s,e,t){const{shortHours:n,optionalMinutes:i,separator:o,localizedName:r,zZeroOffset:a}=t,l=s.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0;let d=c+(n?u[0]:Pn(u[0],2));return(h||!i)&&(d+=(o?":":"")+Pn(h,2)),r&&(d=G0(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,d)),d}function YL(s,e,t,n){let i;return i=e<3?function Dne(s,e,t){const n=AL(t);let i;return i=s<n?7-n+s:s-n,i+1}(s.getDay(),0,t):mi(t,"days",e,n)[s.getDay()],i}const _t={};function XL(s,e,t=Mc){if(!X0(s))return s??"";const n=Ea(t);return Y0(e,n).replace(ud,function(o){let a,r=o.length;return a=o.includes("'")||o.includes('"')?o.slice(1,r-1):_t[o[0]](s,r,n),a})}function ZL(s,e,t){const n=s.getTimezoneOffset(),i=new Date(s.getTime()+6e4*(e-t)),o=i.getTimezoneOffset();return new Date(i.getTime()+6e4*(o-n))}_t.d=function(s,e){return Pn(s.getDate(),e)},_t.E=function(s,e,t){return mi(t,"days",e)[s.getDay()]},_t.M=function(s,e,t){return qL(s.getMonth(),e,t,!1)},_t.L=function(s,e,t){return qL(s.getMonth(),e,t,!0)},_t.y=function(s,e){let t=s.getFullYear();return 2===e&&(t%=100),Pn(t,e)},_t.h=function(s,e){return Pn(s.getHours()%12||12,e)},_t.H=function(s,e){return Pn(s.getHours(),e)},_t.k=function(s,e){return Pn(s.getHours()||24,e)},_t.K=function(s,e){return Pn(s.getHours()%12,e)},_t.m=function(s,e){return Pn(s.getMinutes(),e)},_t.s=function(s,e){return Pn(s.getSeconds(),e)},_t.S=function(s,e){const t=s.getMilliseconds();let n;return n=0!==t?Pn(String(t/1e3).split(".")[1].substr(0,e),e,!0):Pn("",e),n},_t.a=function(s,e,t){return mi(t,"dayPeriods",e)[s.getHours()<12?"am":"pm"]},_t.z=function(s,e,t){return gm(s,t,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},_t.Z=function(s,e,t){return gm(s,t,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},_t.x=function(s,e,t){return gm(s,t,{optionalMinutes:1===e,separator:3===e||5===e})},_t.X=function(s,e,t){return gm(s,t,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},_t.G=function(s,e,t){let n=s.getFullYear()>=0?1:0;return mi(t,"eras",e)[n]},_t.e=YL,_t.c=function(s,e,t){return YL(s,e,t,!0)},_t.q=function(s,e,t){return KL(s,e,t,!0)},_t.Q=KL;const Tne=/([+|-]\d{1,2})(:?)(\d{2})?/,Ane=/^\/Date\((.*?)\)\/$/,Mne=/[+-]\d*/,kne={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Ine=/\d+/,Pne=/^ */,Rne=/ *$/,Nne=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],JL=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Rs(s,e,t){return!(s>=e&&s<=t)}function nn(s,e){let{format:t,idx:n}=e,i=0;for(;t[n]===s;)i++,n++;return i>0&&(n-=1),e.idx=n,i}function Hi(s,e){let t=s?kne[s]||new RegExp("^\\d{1,"+s+"}"):Ine,n=e.value.substr(e.valueIdx,s).match(t);return n?(n=n[0],e.valueIdx+=n.length,parseInt(n,10)):null}function Ta(s,e,t){let o,r,c,n=0,i=s.length,a=0,l=0;for(;n<i;n++)o=s[n],r=o.length,c=e.value.substr(e.valueIdx,r),t&&(c=c.toLowerCase()),c===o&&r>a&&(a=r,l=n);return a?(e.valueIdx+=a,l+1):null}function Q0(s){let e=!1;return s.value.charAt(s.valueIdx)===s.format[s.idx]&&(s.valueIdx++,e=!0),e}function mm(s,e,t){const{shortHours:n,noSeparator:i,optionalMinutes:o,localizedName:r,zLiteral:a}=t;if(s.UTC=!0,a&&"Z"===s.value.charAt(s.valueIdx))return s.valueIdx++,!1;if(r&&!Ta(function Lne(s){const{gmtFormat:e,gmtZeroFormat:t}=s;if(!e)throw Dc.NoGMTInfo.error();return[e.replace("{0}","").toLowerCase(),t.replace("{0}","").toLowerCase()]}(e.calendar),s,!0))return!0;const l=Tne.exec(s.value.substr(s.valueIdx,6));if(!l)return!r;const c=l[1],u=l[3],h=parseInt(c,10),d=l[2];let f=parseInt(u,10);if(isNaN(h)||!n&&3!==c.length||!o&&isNaN(f)||i&&d||(isNaN(f)&&(f=null),Rs(h,-12,13)||f&&Rs(f,0,59)))return!0;s.valueIdx+=l[0].length,s.hoursOffset=h,s.minutesOffset=f}function eF(s,e,t){const n=nn(s,e),i=mi(t,"months",n,"L"===s,!0),o=n<3?Hi(2,e):Ta(i,e,!0);if(null===o||Rs(o,1,12))return!0;e.month=o-1}function tF(s,e,t){const n=nn(s,e),i=mi(t,"days",n,"c"===s,!0);let o=n<3?Hi(1,e):Ta(i,e,!0);if(!o&&0!==o||Rs(o,1,7))return!0}const Dt={};function Bne(s,e){return`${Pne.exec(e)[0]}${s}${Rne.exec(e)[0]}`}function Vne(s,e,t){let n=Y0(e,t).split("");const i={format:n,idx:0,value:Bne(s,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=n.length;let r=!1;for(;i.idx<o;i.idx++){let a=n[i.idx];if(r)"'"===a&&(r=!1),Q0(i);else if(Dt[a]){if(Dt[a](i,t))return null}else if("'"===a)r=!0,Q0(i);else if(!Q0(i))return null}return i.valueIdx<s.length?null:function Fne(s){let{year:e,month:t,day:n,hours:i,minutes:o,seconds:r,milliseconds:a,pmHour:l,UTC:c,hoursOffset:u,minutesOffset:h}=s;const d=null!==i||null!==o||r||null,f=new Date;let p;return null===e&&null===t&&null===n&&d?(e=f.getFullYear(),t=f.getMonth(),n=f.getDate()):(null===e&&(e=f.getFullYear()),null===n&&(n=1)),l&&i<12&&(i+=12),c?(u&&(i+=-u),h&&(o+=-h*(u<0?-1:1)),p=new Date(Date.UTC(e,t,n,i,o,r,a))):(p=new Date(e,t,n,i,o,r,a),function Ene(s,e){!e&&23===s.getHours()&&s.setHours(s.getHours()+2)}(p,i)),e<100&&p.setFullYear(e),p.getDate()!==n&&void 0===c?null:p}(i)||null}Dt.d=function(s){nn("d",s);const e=Hi(2,s);if(null===e||Rs(e,1,31))return!0;null===s.day&&(s.day=e)},Dt.E=function(s,e){if(null===Ta(mi(e,"days",nn("E",s),!1,!0),s,!0))return!0},Dt.M=function(s,e){return eF("M",s,e)},Dt.L=function(s,e){return eF("L",s,e)},Dt.y=function(s){const e=nn("y",s);let t=Hi(1===e?void 0:e,s);if(null===t)return!0;if(2===e){const n=(new Date).getFullYear();t=n-n%100+t,t>2029&&(t-=100)}s.year=t},Dt.h=function(s){nn("h",s);let e=Hi(2,s);if(12===e&&(e=0),null===e||Rs(e,0,11))return!0;s.hours=e},Dt.K=function(s){nn("K",s);let e=Hi(2,s);if(null===e||Rs(e,0,11))return!0;s.hours=e},Dt.a=function(s,e){let n=mi(e,"dayPeriods",nn("a",s),!1,!0);const i=Ta([n.pm],s,!0);if(!i&&!Ta([n.am],s,!0))return!0;s.pmHour=i},Dt.H=function(s){nn("H",s);const e=Hi(2,s);if(null===e||Rs(e,0,23))return!0;s.hours=e},Dt.k=function(s){nn("k",s);let e=Hi(2,s);if(null===e||Rs(e,1,24))return!0;s.hours=24===e?0:e},Dt.m=function(s){nn("m",s);const e=Hi(2,s);if(null===e||Rs(e,0,59))return!0;s.minutes=e},Dt.s=function(s){nn("s",s);const e=Hi(2,s);if(null===e||Rs(e,0,59))return!0;s.seconds=e},Dt.S=function(s){const e=nn("S",s),t=s.value.substr(s.valueIdx,e);let n=null;if(isNaN(parseInt(t,10))||(n=parseFloat("0."+t,10),n=ad(n,3),n*=1e3,s.valueIdx+=e),null===n||Rs(n,0,999))return!0;s.milliseconds=n},Dt.z=function(s,e){const n=nn("z",s)<4,i=mm(s,e,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Dt.Z=function(s,e){const t=nn("Z",s),n=mm(s,e,{noSeparator:t<4,zLiteral:5===t,localizedName:4===t});if(n)return n},Dt.x=function(s,e){const t=nn("x",s),n=mm(s,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t});if(n)return n},Dt.X=function(s,e){const t=nn("X",s),n=mm(s,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t,zLiteral:!0});if(n)return n},Dt.G=function(s,e){const n=mi(e,"eras",nn("G",s),!1,!0);if(null===Ta([n[0],n[1]],s,!0))return!0},Dt.e=function(s,e){return tF("e",s,e)},Dt.c=function(s,e){return tF("c",s,e)};const $ne={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},nF="literal";function J0(s,e){const t=s[s.length-1];t&&t.type===nF?t.pattern+=e:s.push({type:nF,pattern:e})}function Gne(s){return"h"===s||"K"===s}const qne=/\{(\d+)(:[^}]+)?\}/g;function sF(s,e,t){if(e){if(X0(s))return XL(s,e,t);if($0(s))return FL(s,e,t)}return s??""}const Yne={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1657539082,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Bo="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",iF={NoCurrency:`Solution: ${Bo}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${Bo}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${Bo}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${Bo}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${Bo}#toc-no-first-day`,NoGMTInfo:`Solution: ${Bo}#toc-no-gmt-info`,NoLocale:`Solution: ${Bo}#toc-no-locale`,NoValidCurrency:`Solution: ${Bo}#toc-no-valid-currency`,NoWeekData:`Solution: ${Bo}#toc-no-week-data`};function ls(s){return function(...e){try{return s.apply(null,e)}catch(t){throw t.message=function oF(s){const e=s.message,t=iF[Object.keys(iF).filter(n=>0===e.indexOf(n))[0]];return t?`${e} ${t}`:e}(t),t}}}const Xne=ls(CL),Zne=ls(function fte(s,e=Mc){const n=Ea(e).calendar.dateFields;if(!n)throw Dc.NoDateFieldNames.error();const i=n[s.type]||{};return i[s.nameType]||i.wide}),Qne=ls(AL),Jne=ls(function Kne(s,e,t){return s.replace(qne,function(n,i,o){return sF(e[parseInt(i,10)],o?o.substring(1):"",t)})}),ese=ls(XL),tse=ls(FL),nse=(ls(function dte(){const s=arguments.length;for(let e=0;e<s;e++){let t=arguments[e];if(t.main){let n=Object.keys(t.main)[0],i=t.main[n],o=at[n]=at[n]||{};i.units?ute(o,i.units):(o.name=o.name||n,o.identity=o.identity||i.identity,hm(o),hte(n,i))}else if(t.supplemental)if(t.supplemental.weekData)at.supplemental.weekData={firstDay:t.supplemental.weekData.firstDay,weekendStart:t.supplemental.weekData.weekendStart,weekendEnd:t.supplemental.weekData.weekendEnd};else if(t.supplemental.likelySubtags)at.supplemental.likelySubtags=Object.assign(at.supplemental.likelySubtags,t.supplemental.likelySubtags);else if(t.supplemental.currencyData){const n=at.supplemental.currencyData;n.region=Object.assign(n.region||{},t.supplemental.currencyData.region),n.fractions=Object.assign(n.fractions||{},t.supplemental.currencyData.fractions)}}}),ls(function Rte(s){return Ec(s).numbers.symbols})),sse=ls(function Une(s,e,t=Mc){if(!s)return null;if(X0(s))return s;let n=String(s).trim(),i=function Hne(s){if(s&&0===s.indexOf("/D")){let e=Ane.exec(s);if(e){e=e[1];let t=Mne.exec(e.substring(1));return e=new Date(parseInt(e,10)),t&&(t=function zne(s){const e="-"===s.substr(0,1)?-1:1;let t=s.substring(1);return t=60*parseInt(t.substr(0,2),10)+parseInt(t.substring(2),10),e*t}(t[0]),e=ZL(e,e.getTimezoneOffset(),0),e=ZL(e,0,-1*t)),e}}}(n);if(i)return i;const o=Ea(t);let r=e||function jne(s){const e=[],t=s.patterns,n=JL.length;for(let i=0;i<n;i++)e.push(t[JL[i]]);return e.concat(Nne)}(o.calendar);r=Array.isArray(r)?r:[r];const a=r.length;for(let l=0;l<a;l++)if(i=Vne(n,r[l],o),i)return i;return i}),ise=ls(function cne(s,e=Mc,t={}){if(!s&&0!==s)return null;if($0(s))return s;const n=Ea(e),i=n.numbers.symbols;let a,o=s.toString(),r=t||{};if(am(t)&&(r={format:t},NL(r),o=function ane(s,e){const t=e.literals;let n=s;if(t)for(let i=0;i<t.length;i++)n=n.replace(t[i],"");return n}(o,r),RL(r,n)),(r.style===Tc||o.indexOf(i.percentSign)>-1)&&(o=o.replace(i.percentSign,""),a=!0),one.test(o))return o=parseFloat(o.replace(i.decimal,Fo)),isNaN(o)?null:o;const{negative:l,number:c}=function rne(s,e,t){const n=LL(t)||{};let r,i=U0(n.style),o=s;const a=n.currency||TL(e,i);if(a){const l=function Dte(s,e,t=!0){const n=EL(s,e,t);if(n){if(!n.displays){const i=[e];for(let o in n)i.push(n[o]);i.sort(Cte),n.displays=i}return n.displays}}(e,a,i);if(l)for(let c=0;c<l.length;c++){let u=l[c];if(o.includes(u)){o=o.replace(u,""),i=!0;break}}if(i){const c=VL(o,e.numbers.currency.patterns)||VL(o,e.numbers.accounting.patterns);c&&(r=!0,o=c)}}return{number:o,negative:r}}(o,n,r);o=String(c).trim();const u=o.indexOf("-");if(u>0)return null;let h=u>-1;return h=void 0!==l?l:h,o=o.replace("-","").replace(BL," ").split(i.group.replace(BL," ")).join("").replace(i.decimal,Fo),o=parseFloat(o),isNaN(o)?o=null:h&&(o*=-1),o&&a&&(o=function lne(s){const e=String(s),t=e.indexOf(Fo);let i=s/Math.pow(10,2);return-1===t||String(i).length<=e.length+2?i:parseFloat(i.toFixed(e.length-t+1+2))}(o)),o}),ose=ls(function Wne(s,e=Mc){const n=Y0(s,Ea(e)),i=[];let o=ud.lastIndex=0,r=ud.exec(n);for(;r;){let a=r[0];if(o<r.index&&J0(i,n.substring(o,r.index)),a.startsWith('"')||a.startsWith("'"))J0(i,a);else{const l=a[0],c=Sne[l],u={type:c,pattern:a};"hour"===c&&(u.hour12=Gne(a));const h=$ne[c];if(h){const d=$0(h.minLength)?h.minLength:h.minLength[l],f=a.length;f>=d&&(u.names={type:h.type,nameType:UL(f),standAlone:h.standAlone===l})}i.push(u)}o=ud.lastIndex,r=ud.exec(n)}return o<n.length&&J0(i,n.substring(o)),i}),rse=ls(sF),ase=ls(function Pte(s){const e=Ec(s);if(e.weekendRange)return e.weekendRange;const t=at.supplemental.weekData;if(!t)throw Ite.error();const n=hm(e),o=t.weekendEnd[n]||t.weekendEnd["001"];return e.weekendRange={start:H0.indexOf(t.weekendStart[n]||t.weekendStart["001"]),end:H0.indexOf(o)},e.weekendRange}),lse=/_/g;let Vo=(()=>{class s{constructor(){this.changes=new de,Jh(Yne)}notify(){this.changes.emit()}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:function(t){let n=null;return n=t?new t:function cse(s){return new use(s)}(Y(Bn)),n},providedIn:"root"}),s})(),use=(()=>{class s extends Vo{constructor(t){super(),this.localeId=t}get localeId(){return this.locale}set localeId(t){const n=t.replace(lse,"-");n!==this.locale&&(this.locale=n,this.notify())}format(t,...n){return Jne(t,n,this.localeId)}toString(t,n,i){return rse(t,n,i||this.localeId)}formatDate(t,n,i){return ese(t,n,i||this.localeId)}parseDate(t,n,i){return sse(t,n,i||this.localeId)}parseNumber(t,n,i){return ise(t,i||this.localeId,n)}formatNumber(t,n,i){return tse(t,n,i||this.localeId)}dateFieldName(t,n){return Zne(t,n||this.localeId)}dateFormatNames(t,n){return Xne(n||this.localeId,t)}splitDateFormat(t,n){return ose(t,n||this.localeId)}numberSymbols(t){return nse(t||this.localeId)}firstDay(t){return Qne(t||this.localeId)}weekendRange(t){return ase(t||this.localeId)}}return s.\u0275fac=function(t){return new(t||s)(Y(Bn))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const rF=["content"];function dse(s,e){if(1&s&&(At(0,"div",1),ku(1),Ut()),2&s){const t=Zs();Me("ngStyle",t.style),nt(1),Iu(" ",t.value," ")}}function fse(s,e){if(1&s&&Ti(0,"kendo-chart-crosshair-tooltip",1),2&s){const t=e.$implicit,n=Zs();Me("key",t)("popupSettings",n.popupSettings)}}function pse(s,e){}function gse(s,e){if(1&s&&Ot(0,pse,0,0,"ng-template",5),2&s){const t=Zs(2);Me("ngTemplateOutlet",t.seriesTooltipTemplateRef)("ngTemplateOutletContext",t.seriesTooltipContext)}}function mse(s,e){}function yse(s,e){if(1&s&&Ot(0,mse,0,0,"ng-template",5),2&s){const t=Zs(2);Me("ngTemplateOutlet",t.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",t.seriesSharedTooltipContext)}}function vse(s,e){if(1&s&&(At(0,"div",3),Ot(1,gse,1,2,null,4),Ot(2,yse,1,2,null,4),Ut()),2&s){const t=Zs();Me("ngClass",t.popupClasses)("ngStyle",t.style),nt(1),Me("ngIf",!t.shared),nt(1),Me("ngIf",t.shared)}}function xse(s,e){1&s&&Ti(0,"span",6),2&s&&Me("innerHTML",e.formattedValue,aD)}function _se(s,e){if(1&s&&(At(0,"td"),Ti(1,"span",8),Ut()),2&s){const t=Zs().$implicit;nt(1),Zv("background-color",t.series.color)}}function bse(s,e){if(1&s&&(Tu(0),ku(1),Au()),2&s){const t=Zs(2).$implicit;nt(1),Jv(t.series.name)}}function wse(s,e){1&s&&(Tu(0),ku(1,"\xa0"),Au())}function Cse(s,e){if(1&s&&(At(0,"td"),Ot(1,bse,2,1,"ng-container",4),Ot(2,wse,2,0,"ng-container",4),Ut()),2&s){const t=Zs().$implicit;nt(1),Me("ngIf",void 0!==t.series.name),nt(1),Me("ngIf",void 0===t.series.name)}}function Sse(s,e){}function Dse(s,e){if(1&s&&(At(0,"tr"),Ot(1,_se,2,2,"td",4),Ot(2,Cse,3,2,"td",4),At(3,"td"),Ot(4,Sse,0,0,"ng-template",5),Ut()()),2&s){const t=e.$implicit,n=Zs(),i=n.colorMarker,o=n.nameColumn;nt(1),Me("ngIf",i),nt(1),Me("ngIf",o),nt(2),Me("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t)}}function Ese(s,e){if(1&s&&(At(0,"table")(1,"tr")(2,"th"),ku(3),Ut()(),Ot(4,Dse,5,4,"tr",7),Ut()),2&s){const t=e.points,n=e.categoryText,i=e.colspan;nt(2),qv("colspan",i),nt(1),Iu(" ",n," "),nt(1),Me("ngForOf",t)}}const Tse=["surface"];function Ase(s,e){}function Mse(s,e){if(1&s&&(At(0,"div",6),Ot(1,Ase,0,0,"ng-template",7),Ut()),2&s){const t=Zs();Me("ngStyle",t.donutCenterStyle),nt(1),Me("ngTemplateOutlet",t.donutCenterTemplate.templateRef)}}const kse=s=>({x:{location:s.pageX},y:{location:s.pageY}});function Pse(s,e){for(let t=0;t<s.length;t++)if(e[s[t]])return!0;return!1}const aF=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];class Rse{constructor(e,t){this.hammerInstance=e,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),t&&this.bind(t)}tap(e){this.trigger("tap",e)}press(e){this.trigger("press",e)}panstart(e){delete this.previous,this.previous=this.trigger("start",e)}panmove(e){this.previous=this.trigger("move",e)}panend(e){this.trigger("end",e),delete this.previous}pinchstart(e){this.trigger("gesturestart",e)}pinchmove(e){this.trigger("gesturechange",e)}pinchend(e){this.trigger("gestureend",e)}trigger(e,t){const n=((s,e)=>{const t=s.pointers,n=t[0],i=n.pageX,o=n.pageY;let r=0;if(t.length>1){const a=t[0],l=t[1];r=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:r,event:s.srcEvent,preventDefault:function(){s.preventDefault()},target:s.target,touches:t.map(kse),type:s.type,x:{delta:e?i-e.x.location:0,initialDelta:s.deltaX,location:i,startLocation:i-s.deltaX},y:{delta:e?o-e.y.location:0,initialDelta:s.deltaY,location:o,startLocation:o-s.deltaY}}})(t,this.previous);return this.eventHandlers[e]&&this.eventHandlers[e](n),n}bind(e={}){this.unbind(),this.eventHandlers=e;for(let t=0;t<aF.length;t++){const n=aF[t],i=Object.keys(n);if(Pse(i,e))for(let o=0;o<i.length;o++){const r=n[i[o]];this.hammerInstance.on(r,this[r])}}}unbind(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}destroy(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}toggleDrag(e){this.toggle("pan",e)}toggleZoom(e){this.toggle("pinch",e)}toggle(e,t){this.hammerInstance&&this.hammerInstance.get(e).set({enable:t})}}const Fse=RI.prototype.options.labels.dateFormats,lF={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(yh.prototype.options.labels.dateFormats,lF),Object.assign(Fse,lF),W_.register(class Ose{static create(e,t){if(typeof window<"u"){const n=window.Hammer;if(!n){if(kx())throw new Error("Hammerjs is not loaded.Solution: http://www.telerik.com/kendo-angular-ui/components/charts/troubleshooting/#toc-hammerjs-is-not-loaded");return}const i=new n(e,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new Rse(i,t)}}});let cF=(()=>{class s{constructor(t){this.templateRef=t}}return s.\u0275fac=function(t){return new(t||s)(b(Dn,8))},s.\u0275dir=Tt({type:s,selectors:[["","kendoChartDonutCenterTemplate",""]]}),s})();class Bse{constructor(e,t){this.sender=e,this.options=t}}let Et=(()=>{class s{constructor(){this.source=new Ur,this.onItemChange$=this.source.asObservable()}notify(t){this.source.next(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();function eC(s,e){for(const t in s){if(!s.hasOwnProperty(t))continue;const n=s[t].currentValue;void 0===n?delete e[t]:e[t]=n}}function tC(s){const e={};for(const t in s)!s.hasOwnProperty(t)||(e[t]=new oS(null,s[t],!1));return e}const uF=1e3/60;class nC{constructor(e,t){this.key=e,this.value=t}}let T=(()=>{class s{constructor(t){this.ngZone=t,this.store={},this.source=new r_({}),this.initSource()}initSource(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(Zu(uF))}push(t){this.store=t,this.next()}notify(t){this.set(t.key,t.value),this.next()}set(t,n){let i=this.store;const o=t.split(".");let r=o.shift();for(;o.length>0;)i=i[r]=i[r]||{},r=o.shift();i[r]=n}next(){this.ngZone.runOutsideAngular(()=>{this.source.next(this.store)})}}return s.\u0275fac=function(t){return new(t||s)(Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),Ic=(()=>{class s{constructor(t,n){this.configurationService=t,this.collectionService=n,this.options={},this.subscription=t.onFastChange$.subscribe(i=>{this.options=i,this.notify()})}ngOnChanges(t){const n=this.configurationService.store;eC(t,n),this.configurationService.push(n)}notifyChanges(t){this.ngOnChanges(tC(t))}ngOnDestroy(){this.subscription.unsubscribe()}notify(){!this.collectionService||this.collectionService.notify(new Bse(this,this.options))}}return s.\u0275fac=function(t){return new(t||s)(b(T),b(Et))},s.\u0275dir=Tt({type:s,features:[Qo]}),s})(),G=(()=>{class s{constructor(t,n){if(this.configKey=t,this.configurationService=n,this.store={},void 0===t)throw new Error("Configuration key not set")}ngOnDestroy(){this.store=void 0,this.notify()}ngOnChanges(t){eC(t,this.store),this.notify()}notifyChanges(t){this.ngOnChanges(tC(t))}markAsVisible(){this.store.visible=!0,this.notify()}notify(){this.configurationService.notify(new nC(this.configKey,this.store))}}return s.\u0275fac=function(t){vf()},s.\u0275dir=Tt({type:s,features:[Qo]}),s})(),sC=(()=>{class s extends G{constructor(t){super("tooltip",t),this.configurationService=t,this.markAsVisible()}get seriesTooltipTemplateRef(){return this.seriesTooltipTemplate}}return s.\u0275fac=function(t){return new(t||s)(b(T))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(t,n,i){if(1&t&&Fn(i,Dn,5),2&t){let o;ht(o=dt())&&(n.seriesTooltipTemplate=o.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},features:[k],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),s})();const hF=s=>void 0!==s&&!s;let hd=(()=>{class s extends Ic{constructor(t,n){super(t,n),this.configurationService=t,this.collectionService=n}toggleVisibility(){this.options.visible=hF(this.options.visible),this.notify()}togglePointVisibility(t){const n=this.options.pointVisibility=this.options.pointVisibility||{};n[t]=hF(n[t]),this.notify()}get seriesTooltipTemplateRef(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}}return s.\u0275fac=function(t){return new(t||s)(b(T),b(Et))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-series-item"]],contentQueries:function(t,n,i){if(1&t&&Fn(i,sC,5),2&t){let o;ht(o=dt())&&(n.seriesTooltip=o.first)}},inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",mean:"mean",meanField:"meanField",median:"median",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},features:[ut([T]),k],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),s})();const zse={horizontal:"fit",vertical:"fit"};let dF=(()=>{class s{constructor(t,n){this.popupService=t,this.localizationService=n,this.style={},this.popupRef=null}get active(){return null!==this.popupRef}show(t){const n=t.anchor.align,i=this.position(t.anchor.point);if(this.style=t.style,this.popupRef){const o=this.popupRef.popup.instance;o.offset=i,o.popupAlign=n}else this.popupRef=this.popupService.open(Object.assign({offset:i,popupAlign:n,animate:this.animate,content:this.templateRef,collision:zse,positionMode:"absolute"},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit()}hide(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}onInit(){}ngOnDestroy(){this.hide()}position(t){if(!this.popupSettings||!this.popupSettings.appendTo)return t;const n=this.popupSettings.appendTo.element.nativeElement,i=n.getBoundingClientRect(),{scrollLeft:o,scrollTop:r}=this.scrollOffset(n);return{left:t.left-i.left-o,top:t.top-i.top-r}}scrollOffset(t){if(!t)return null;let n=t.scrollLeft,i=t.scrollTop,o=t.parentElement;for(;o;)n+=o.scrollLeft,i+=o.scrollTop,o=o.parentElement;return{scrollLeft:n,scrollTop:i}}}return s.\u0275fac=function(t){return new(t||s)(b(Sc),b(uo))},s.\u0275dir=Tt({type:s}),s})();function fF(){if(Cs())return new xs(document.body)}let iC=(()=>{class s extends dF{constructor(t,n){super(t,n),this.animate=!1}show(t){super.show(t),this.value=t.value,this.popupRef.popup.changeDetectorRef.detectChanges()}}return s.\u0275fac=function(t){return new(t||s)(b(Sc),b(uo))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(t,n){if(1&t&&ei(rF,7),2&t){let i;ht(i=dt())&&(n.templateRef=i.first)}},inputs:{key:"key",popupSettings:"popupSettings"},features:[ut([Sc,{provide:I0,useFactory:fF}]),k],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(t,n){1&t&&Ot(0,dse,2,2,"ng-template",null,0,mx)},dependencies:[sp],encapsulation:2}),s})();const pF=["categoryAxis","valueAxis","xAxis","yAxis"];let dd=(()=>{class s{constructor(){this.tooltipKeys=[],this.tooltipsMap={}}show(t){const n=this.crossahirTooltipComponents.toArray(),i=t.axisName,o=t.axisIndex;for(let r=0;r<n.length;r++)if(n[r].key===i+o){n[r].show(t);break}}hide(){const t=this.crossahirTooltipComponents.toArray();for(let n=0;n<t.length;n++)t[n].hide()}get active(){return this.tooltipKeys.length>0}createCrosshairTooltips(t){const n=this.mapTooltips(t),i=this.tooltipsMap;for(let o in i)n[o]||(this.removeTooltip(o),delete i[o]);for(let o in n)i[o]||(i[o]=n[o],this.tooltipKeys.push(o))}removeTooltip(t){const n=this.tooltipKeys;for(let i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}}mapTooltips(t){const n={};for(let i=0;i<pF.length;i++){const o=this.axesCrosshairTooltipOptions(t,pF[i]);for(let r=0;r<o.length;r++){const a=o[r];n[a.name+a.index]=a}}return n}axesCrosshairTooltipOptions(t,n){const i=[];if(t[n]){const o=[].concat(t[n]);for(let r=0;r<o.length;r++){const a=(o[r].crosshair||{}).tooltip;a&&a.visible&&i.push({index:r,name:n})}}return i}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(t,n){if(1&t&&ei(iC,5),2&t){let i;ht(i=dt())&&(n.crossahirTooltipComponents=i)}},inputs:{popupSettings:"popupSettings"},decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(t,n){1&t&&Ot(0,fse,1,2,"kendo-chart-crosshair-tooltip",0),2&t&&Me("ngForOf",n.tooltipKeys)},dependencies:[iC,tp],encapsulation:2}),s})(),ym=(()=>{class s{constructor(t){this.templateRef=t}}return s.\u0275fac=function(t){return new(t||s)(b(Dn,8))},s.\u0275dir=Tt({type:s,selectors:[["","kendoChartSeriesTooltipTemplate",""]]}),s})(),vm=(()=>{class s{constructor(t){this.templateRef=t}}return s.\u0275fac=function(t){return new(t||s)(b(Dn,8))},s.\u0275dir=Tt({type:s,selectors:[["","kendoChartSharedTooltipTemplate",""]]}),s})();class gF{constructor(e,t,n){this.value=e.value,this.category=e.category,this.categoryIndex=e.categoryIx,this.series=e.series,this.dataItem=e.dataItem,this.percentage=e.percentage,this.runningTotal=e.runningTotal,this.total=e.total,this.low=e.low,this.high=e.high,this.xLow=e.xLow,this.xHigh=e.xHigh,this.yLow=e.yLow,this.yHigh=e.yHigh,this.template=n,this.point=e,this.format=t}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}}function oC(s,e){let t=s;for(;t&&t!==e;)t=t.parentNode;return!!t}let Aa=(()=>{class s{setTemplate(t){this.template=t}getTemplate(t){return this.seriesTemplates&&this.seriesTemplates[t]?this.seriesTemplates[t]:this.template}setSeriesTemplates(t){this.seriesTemplates=t}setSharedTemplate(t){this.sharedTemplate=t}getSharedTemplate(){return this.sharedTemplate}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),fd=(()=>{class s extends dF{constructor(t,n,i,o){super(t,i),this.popupService=t,this.templateService=n,this.localizationService=i,this.ngZone=o,this.seriesTooltipContext={},this.seriesSharedTooltipContext={},this.animate=!0,this.wrapperClass="k-chart-tooltip-wrapper",this.leave=new de,this.popupClasses={}}show(t){this.shared=t.shared,this.popupClasses=Object.assign({"k-chart-shared-tooltip":t.shared,"k-chart-tooltip":!0,[t.className]:!!t.className},this.classNames),t.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(t)):(this.seriesTooltipContext=new gF(t.point,t.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(t.point)),super.show(t)}containsElement(t){if(this.popupRef)return oC(t,this.popupRef.popupElement)}sharedTemplateContext(t){const i=t.points.filter(a=>typeof a.series.name<"u").length>0,o=t.series.length>1;let r=1;return i&&r++,o&&r++,{category:t.category,categoryText:t.categoryText,colorMarker:o,colspan:r,nameColumn:i,points:this.wrapPoints(t.points,t.format)}}pointTemplateRef(t){return this.templateService.getTemplate(t.series.index)||this.defaultSeriesTooltipTemplate.templateRef}wrapPoints(t,n){const i=[];for(let o=0;o<t.length;o++){const r=t[o],a=this.pointTemplateRef(r);i.push(new gF(r,((r.options||{}).tooltip||{}).format||n,a))}return i}onInit(){this.ngZone.runOutsideAngular(()=>{this.mouseleaveSubscription=this.popupRef.popupElement.addEventListener("mouseleave",t=>{this.leave.emit(t)})}),this.popupRef.popupElement.className+=` ${this.wrapperClass}`}hide(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),super.hide()}}return s.\u0275fac=function(t){return new(t||s)(b(Sc),b(Aa),b(uo),b($e))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(t,n){if(1&t&&(ei(ym,5),ei(vm,5),ei(rF,7)),2&t){let i;ht(i=dt())&&(n.defaultSeriesTooltipTemplate=i.first),ht(i=dt())&&(n.defaultSharedTooltipTemplate=i.first),ht(i=dt())&&(n.templateRef=i.first)}},inputs:{animate:"animate",classNames:"classNames",popupSettings:"popupSettings",wrapperClass:"wrapperClass"},outputs:{leave:"leave"},features:[ut([Sc,{provide:I0,useFactory:fF}]),k],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(t,n){1&t&&(Ot(0,vse,3,4,"ng-template",null,0,mx),Ot(2,xse,1,1,"ng-template",1),Ot(3,Ese,5,3,"ng-template",2))},dependencies:[$x,sp,np,ip,ym,vm,tp],encapsulation:2}),s})();class Use extends d_{constructor(e){super(e),this.handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"}}}let cs=(()=>{class s{constructor(t){this.sender=t}}return s.\u0275fac=function(t){vf()},s.\u0275dir=Tt({type:s}),s})(),Or=(()=>{class s extends cs{constructor(){super(...arguments),this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}return s.\u0275fac=function(){let e;return function(n){return(e||(e=function Ay(s){return Zo(()=>{const e=s.prototype.constructor,t=e[Ji]||My(e),n=Object.prototype;let i=Object.getPrototypeOf(s.prototype).constructor;for(;i&&i!==n;){const o=i[Ji]||My(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(s)))(n||s)}}(),s.\u0275dir=Tt({type:s,features:[k]}),s})();class rC extends Or{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}}class aC extends cs{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}}class mF extends cs{constructor(e,t){super(t)}}class lC extends Or{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}}const yF={axisLabelClick:class $se extends cs{constructor(e,t){super(t),this.axis=e.axis,this.dataItem=e.dataItem,this.index=e.index,this.text=e.text,this.value=e.value}},drag:class Gse extends Or{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragEnd:class Wse extends cs{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragStart:class qse extends Or{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},legendItemHover:class Kse extends rC{preventDefault(){super.preventDefault()}},legendItemLeave:class Yse extends rC{preventDefault(){}isDefaultPrevented(){return!1}},noteClick:class Xse extends aC{},noteHover:class Zse extends aC{},noteLeave:class Qse extends aC{},paneRender:class Jse extends cs{constructor(e,t){super(t),Object.assign(this,e)}},plotAreaClick:class eie extends cs{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaHover:class tie extends cs{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaLeave:class nie extends cs{},render:mF,select:class sie extends Or{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectEnd:class iie extends cs{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectStart:class oie extends Or{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},seriesClick:class rie extends cs{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},seriesHover:class aie extends lC{},seriesOver:class lie extends lC{},seriesLeave:class cie extends lC{},zoom:class uie extends Or{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.delta=e.delta,this.originalEvent=e.originalEvent}},zoomEnd:class hie extends cs{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},zoomStart:class die extends Or{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}}};class pd{create(e,t,n){if(yF[e])return new yF[e](t,n)}}class fie extends rC{preventDefault(){super.preventDefault()}}const cC={name:"@progress/kendo-angular-charts",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1663057706,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},xm=s=>`${s.fontWeight} ${s.fontSize} ${s.fontFamily}`,vF=s=>window.getComputedStyle(s).backgroundColor;let _m=(()=>{class s extends T{constructor(t){super(t),this.loaded=!1}loadTheme(){this.loaded||!Cs()||(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}readTheme(){this.createElement();const t=this.queryColor("accent")!==this.queryColor("accent-contrast");try{t&&(this.push(zO()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return t}readDefaultTheme(){this.push(Object.assign({},zO(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}createElement(){const t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=`\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n    <div class="k-var--chart-area-inactive-opacity"></div>\n    <div class="k-var--chart-line-inactive-opacity"></div>\n\n    <div class="k-widget k-chart">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-pane-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series-unset"></div>\n    <div class="k-var--series">\n      ${(()=>{let s='\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n  ';for(let e=0;e<30;e++)s+=`\n      <div class="k-var--series-${e+1}"></div>`;return s})()}\n    </div>\n`,document.body.appendChild(t)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}setStyle(t,n){this.set(t,n)}setColors(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color"),this.mapColor("subtitle.color","normal-text-color");const t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.radarArea.opacity",t),this.setStyle("seriesDefaults.verticalArea.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t)),this.setInactiveOpacity(["area","verticalArea"],"chart-area-inactive-opacity"),this.setInactiveOpacity(["line","verticalLine"],"chart-line-inactive-opacity")}setInactiveOpacity(t,n){const i=parseFloat(this.queryStyle(n).opacity);!isNaN(i)&&i<1&&t.forEach(o=>this.setStyle(`seriesDefaults.${o}.highlight.inactiveOpacity`,i))}setFonts(){const t=xm(this.queryStyle("chart-font")),n=xm(this.queryStyle("chart-title-font")),i=xm(this.queryStyle("chart-pane-title-font")),o=xm(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",o),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",o),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",n),this.setStyle("subtitle.font",i),this.setStyle("paneDefaults.title.font",i)}setSeriesColors(){const t=this.element,n=[].slice.call(t.querySelectorAll(".k-var--series div")),i=vF(t.querySelector(".k-var--series-unset")),o=n.reduce((r,a)=>{const l=(s=>{const e=s.match(/series-([a-z])$/);if(null!==e)return(s=>s.toLowerCase().charCodeAt(0)-"a".charCodeAt(0))(e[1]);const t=s.split("--series-")[1];return parseInt(t,10)-1})(a.className),c=vF(a);return c!==i&&(r[l]=c),r},[]);this.setStyle("seriesColors",o)}mapColor(t,n){this.setStyle(t,this.queryColor(n))}queryColor(t){return this.queryStyle(t).backgroundColor}queryStyle(t){const n=this.element.querySelector(`.k-var--${t}`);return window.getComputedStyle(n)}}return s.\u0275fac=function(t){return new(t||s)(Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();function uC(s){return s.observers.length>0}let bm=(()=>{class s{constructor(t,n,i,o,r,a,l,c,u){this.configurationService=t,this.themeService=n,this.element=i,this.intl=o,this.localizationService=r,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=u,this.axisLabelClick=new de,this.drag=new de,this.dragEnd=new de,this.dragStart=new de,this.legendItemHover=new de,this.legendItemLeave=new de,this.noteClick=new de,this.noteHover=new de,this.noteLeave=new de,this.paneRender=new de,this.plotAreaClick=new de,this.plotAreaHover=new de,this.plotAreaLeave=new de,this.render=new de,this.select=new de,this.selectEnd=new de,this.selectStart=new de,this.seriesClick=new de,this.seriesHover=new de,this.seriesOver=new de,this.seriesLeave=new de,this.zoom=new de,this.zoomEnd=new de,this.zoomStart=new de,this.legendItemClick=new de,this.resizeRateLimit=10,this.theme=null,this.suppressTransitions=!1,this.rtl=!1,this.hostClasses=["k-chart","k-widget"],Jh(cC),this.themeService.loadTheme(),this.refreshWait()}ngOnInit(){this.element&&(this.hostClasses.forEach(t=>{this.renderer.addClass(this.element.nativeElement,t)}),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}ngAfterViewInit(){this.canRender&&this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(this.surfaceElement.nativeElement,"mouseleave",this.chartMouseleave.bind(this));this.domSubscriptions=()=>{t()}}),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}ngAfterViewChecked(){this.instance&&this.autoResize&&this.ngZone.runOutsideAngular(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resize()},0)})}ngOnChanges(t){const n=this.configurationService.store;eC(t,n),n.popupSettings=null,this.configurationService.push(n)}notifyChanges(t){this.ngOnChanges(tC(t))}ngOnDestroy(){this.destroyed=!0,this.optionsChange&&this.optionsChange.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}createInstance(t,n){this.instance=new Tw(t,this.options,this.theme,{intlService:this.intl,observer:n,rtl:this.rtl,sender:this})}exportImage(t={}){return _2(this.exportVisual(t),t)}exportSVG(t={}){return b2(this.exportVisual(t),t)}exportVisual(t={}){return this.instance.exportVisual(t)}findAxisByName(t){if(this.instance)return this.instance.findAxisByName(t)}findPaneByIndex(t){if(this.instance)return this.instance.findPaneByIndex(t)}findPaneByName(t){if(this.instance)return this.instance.findPaneByName(t)}getPlotArea(){if(this.instance)return this.instance.plotArea()}toggleHighlight(t,n){this.instance&&this.instance.toggleHighlight(t,n)}hideTooltip(){this.instance&&this.instance.hideTooltip()}showTooltip(t){this.instance&&this.instance.showTooltip(t)}init(){if(!this.canRender)return;const t=this.surfaceElement.nativeElement,n=new Use(this);this.createInstance(t,n)}resize(){this.instance&&this.instance.resize()}onResize(){this.autoResize&&this.resize()}onLegendItemClick(t){this.run(()=>{const n=new fie(t,this);if(this.legendItemClick.emit(n),!n.isDefaultPrevented()){const i=this.seriesComponents.toArray()[t.series.index];if(!i)return;void 0===t.pointIndex?i.toggleVisibility():i.togglePointVisibility(t.pointIndex),this.suppressTransitions=!0}},uC(this.legendItemClick),this.seriesComponents.length>0)}onInit(t){this.instance=t.sender}onRender(t){const n=this.getDonutCenterStyle();this.run(()=>{const i=new mF(t,this);this.surface=t.sender.surface,this.render.emit(i),this.donutCenterStyle=n},uC(this.render),this.donutCenterStyle!==n)}onShowTooltip(t){this.run(()=>{t.crosshair?this.crossahirTooltips.show(t):this.tooltipInstance.show(t)},!t.crosshair,!0)}onHideTooltip(t){t.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}trigger(t,n){if("resize"===t)return;const i=this.activeEmitter(t);if(i){const o=this.instanceEventService.create(t,n,this);return this.run(()=>{i.emit(o)}),o.isDefaultPrevented&&o.isDefaultPrevented()}}requiresHandlers(t){for(let n=0;n<t.length;n++)if(this.activeEmitter(t[n]))return!0;return!1}refresh(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),!this.instance)return void this.init();const t=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=t,this.suppressTransitions=!1)}setChartAreaSize(){if(!this.element)return;const t=this.element.nativeElement,n=this.options.chartArea||{};n.width&&(t.style.width=`${n.width}px`),n.height&&(t.style.height=`${n.height}px`)}updateOptions(){this.instance.setOptions(this.options)}tooltipMouseleave(t){const n=t.relatedTarget;this.instance&&(!n||!oC(n,this.element.nativeElement))&&this.instance.hideElements()}chartMouseleave(t){const n=t.relatedTarget,i=this.element.nativeElement;this.instance&&(!n||!this.tooltipInstance.containsElement(n)&&!oC(n,i))&&!this.instance.handlingTap&&this.instance.hideElements()}get canRender(){return Cs()&&Boolean(this.surfaceElement)}get autoResize(){return this.resizeRateLimit>0}activeEmitter(t){const n=this[t];if(n&&n.emit&&uC(n))return n}getDonutCenterStyle(){if(!this.instance||!this.options||!this.options.series)return;const t=this.options.series[0],n=this.instance._plotArea.charts;if(!t||"donut"!==t.type||!n||0===n[0].points.length)return;const i=n[0].points[0],o=i.box.center(),r=i.sector.innerRadius,c=2*r;return{height:c+"px",left:o.x-r+"px",top:o.y-r+"px",width:c+"px"}}refreshWait(){this.ngZone.runOutsideAngular(()=>{this.optionsChange=HJ(this.configurationService.onChange$,this.themeService.onChange$).pipe(FM(t=>{this.options=t[0],this.theme=t[1]}),Zu(uF)).subscribe(()=>{this.refresh()})})}run(t,n=!0,i){n?(i&&this.changeDetector.markForCheck(),this.ngZone.run(t)):(t(),i&&this.detectChanges())}detectChanges(){this.destroyed||this.changeDetector.detectChanges()}intlChange(){this.instance&&this.deferredRedraw()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}deferredRedraw(){this.ngZone.runOutsideAngular(()=>{clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(()=>{this.updateDirection(),this.instance.noTransitionsRedraw()},0)})}updateDirection(){const t=this.isRTL;this.rtl!==t&&(this.setDirection(),this.instance&&this.instance.setDirection(t))}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return Boolean(this.localizationService.rtl)}}return s.\u0275fac=function(t){return new(t||s)(b(T),b(_m),b(xs),b(Vo),b(uo),b($e),b(pd),b(Hf),b(vl))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart"]],contentQueries:function(t,n,i){if(1&t&&(Fn(i,cF,5),Fn(i,hd,5)),2&t){let o;ht(o=dt())&&(n.donutCenterTemplate=o.first),ht(o=dt())&&(n.seriesComponents=o)}},viewQuery:function(t,n){if(1&t&&(ei(fd,7),ei(dd,7),ei(Tse,7)),2&t){let i;ht(i=dt())&&(n.tooltipInstance=i.first),ht(i=dt())&&(n.crossahirTooltips=i.first),ht(i=dt())&&(n.surfaceElement=i.first)}},inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",subtitle:"subtitle",title:"title",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",paneDefaults:"paneDefaults",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis",resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart",legendItemClick:"legendItemClick"},exportAs:["kendoChart"],features:[ut([T,Aa,pd,uo,{provide:pp,useValue:"kendo.chart"}]),Qo],decls:6,vars:4,consts:[[1,"k-chart-surface"],["surface",""],[3,"popupSettings"],[3,"popupSettings","leave"],[3,"rateLimit","resize"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],[1,"k-chart-donut-center",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(t,n){1&t&&(Ti(0,"div",0,1)(2,"kendo-chart-crosshair-tooltips-container",2),At(3,"kendo-chart-tooltip-popup",3),ao("leave",function(o){return n.tooltipMouseleave(o)}),Ut(),At(4,"kendo-resize-sensor",4),ao("resize",function(){return n.onResize()}),Ut(),Ot(5,Mse,2,2,"div",5)),2&t&&(nt(2),Me("popupSettings",n.popupSettings),nt(1),Me("popupSettings",n.popupSettings),nt(1),Me("rateLimit",n.resizeRateLimit),nt(1),Me("ngIf",n.donutCenterStyle&&n.donutCenterTemplate))},dependencies:[dd,fd,Hl,np,sp,ip],encapsulation:2,changeDetection:0}),s})(),Pc=(()=>{class s{constructor(t,n,i){this.configKey=t,this.configurationService=n,this.collectionService=i,this.items=[],this.subscription=i.onItemChange$.subscribe(o=>this.processChanges(o))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterContentInit(){this.readItems(),this.children.changes.subscribe(()=>this.readItems())}processChanges(t){if(!this.children)return;const n=this.children.toArray().indexOf(t.sender);n<0||(this.items[n]=t.options,this.change())}readItems(){this.items=this.children.map(t=>t.options),this.change()}change(){this.configurationService.notify(new nC(this.configKey,0===this.items.length?void 0:this.items))}}return s.\u0275fac=function(t){vf()},s.\u0275dir=Tt({type:s}),s})(),EF=(()=>{class s extends G{constructor(t){super("legend",t),this.configurationService=t,this.markAsVisible()}}return s.\u0275fac=function(t){return new(t||s)(b(T))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-legend"]],inputs:{align:"align",background:"background",border:"border",height:"height",labels:"labels",margin:"margin",offsetX:"offsetX",offsetY:"offsetY",orientation:"orientation",padding:"padding",position:"position",reverse:"reverse",visible:"visible",width:"width",markers:"markers",spacing:"spacing",inactiveItems:"inactiveItems",item:"item",title:"title"},features:[k],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),s})(),pC=(()=>{class s extends Pc{constructor(t,n,i){super("series",t,n),this.configurationService=t,this.collectionService=n,this.tooltipTemplateService=i}ngAfterContentChecked(){this.readTooltipTemplates()}readTooltipTemplates(){const t=this.children.map(n=>n.seriesTooltipTemplateRef);this.tooltipTemplateService.setSeriesTemplates(t)}}return s.\u0275fac=function(t){return new(t||s)(b(T),b(Et),b(Aa))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-series"]],contentQueries:function(t,n,i){if(1&t&&Fn(i,hd,4),2&t){let o;ht(o=dt())&&(n.children=o)}},features:[ut([Et]),k],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),s})(),VF=(()=>{class s extends G{constructor(t){super("title",t),this.configurationService=t}}return s.\u0275fac=function(t){return new(t||s)(b(T))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-title"]],inputs:{align:"align",background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",text:"text",visible:"visible"},features:[k],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),s})(),zF=(()=>{class s extends G{constructor(t,n){super("tooltip",t),this.configurationService=t,this.templateService=n,this.markAsVisible()}ngAfterContentChecked(){this.templateService.setTemplate(this.seriesTooltipTemplate?this.seriesTooltipTemplate.templateRef:null),this.templateService.setSharedTemplate(this.sharedTooltipTemplate?this.sharedTooltipTemplate.templateRef:null)}}return s.\u0275fac=function(t){return new(t||s)(b(T),b(Aa))},s.\u0275cmp=M({type:s,selectors:[["kendo-chart-tooltip"]],contentQueries:function(t,n,i){if(1&t&&(Fn(i,ym,5),Fn(i,vm,5)),2&t){let o;ht(o=dt())&&(n.seriesTooltipTemplate=o.first),ht(o=dt())&&(n.sharedTooltipTemplate=o.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",opacity:"opacity",padding:"padding",shared:"shared",visible:"visible"},features:[k],decls:0,vars:0,template:function(t,n){},encapsulation:2}),s})();new me("configuration prefix");let gd=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({providers:[_m],imports:[[Wu,P0,fp]]}),s})(),woe=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({imports:[[gd,Wu,P0,fp],gd]}),s})(),Coe=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({imports:[[gd,Wu,P0,fp],gd]}),s})(),Soe=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({imports:[gd,Coe,woe]}),s})();function Doe(s,e){if(1&s&&Ti(0,"kendo-chart-series-item",5),2&s){const t=e.$implicit;Me("data",t.data)("name",t.name)("markers",t.markers)}}const Eoe=function(s){return{categories:s}};let Toe=(()=>{class s{constructor(){this.series=[{name:"India",data:[3.907,7.943,7.848,9.284,9.263,9.801,3.89,8.238,9.552,6.855]},{name:"Russian Federation",data:[4.743,7.295,7.175,6.376,8.153,8.535,5.247,-7.832,4.3,4.3]},{name:"Germany",data:[.01,-.375,1.161,.684,3.7,3.269,1.083,-5.127,3.69,2.995]},{name:"World",data:[1.988,2.733,3.994,3.464,4.001,3.939,1.333,-2.245,4.339,2.727]}],this.categories=[2002,2003,2004,2005,2006,2007,2008,2009,2010,2011]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=M({type:s,selectors:[["app-root"]],decls:6,vars:5,consts:[[3,"categoryAxis"],["text","Gross domestic product growth /GDP annual %/"],["position","bottom","orientation","horizontal"],["format","{0}%",3,"shared"],["type","line","style","smooth",3,"data","name","markers",4,"ngFor","ngForOf"],["type","line",3,"data","name","markers"]],template:function(t,n){1&t&&(At(0,"kendo-chart",0),Ti(1,"kendo-chart-title",1)(2,"kendo-chart-legend",2)(3,"kendo-chart-tooltip",3),At(4,"kendo-chart-series"),Ot(5,Doe,1,3,"kendo-chart-series-item",4),Ut()()),2&t&&(Me("categoryAxis",IT(3,Eoe,n.categories)),nt(3),Me("shared",!1),nt(2),Me("ngForOf",n.series))},dependencies:[tp,bm,EF,pC,hd,VF,zF],encapsulation:2}),s})();function KF(s){return new F(3e3,!1)}function lre(){return typeof window<"u"&&typeof window.document<"u"}function mC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Lr(s){switch(s.length){case 0:return new nd;case 1:return s[0];default:return new rL(s)}}function YF(s,e,t,n,i=new Map,o=new Map){const r=[],a=[];let l=-1,c=null;if(n.forEach(u=>{const h=u.get("offset"),d=h==l,f=d&&c||new Map;u.forEach((p,g)=>{let y=g,x=p;if("offset"!==g)switch(y=e.normalizePropertyName(y,r),x){case"!":x=i.get(g);break;case Lo:x=o.get(g);break;default:x=e.normalizeStyleValue(g,y,x,r)}f.set(y,x)}),d||a.push(f),c=f,l=h}),r.length)throw function Xoe(s){return new F(3502,!1)}();return a}function yC(s,e,t,n){switch(e){case"start":s.onStart(()=>n(t&&vC(t,"start",s)));break;case"done":s.onDone(()=>n(t&&vC(t,"done",s)));break;case"destroy":s.onDestroy(()=>n(t&&vC(t,"destroy",s)))}}function vC(s,e,t){const o=xC(s.element,s.triggerName,s.fromState,s.toState,e||s.phaseName,t.totalTime??s.totalTime,!!t.disabled),r=s._data;return null!=r&&(o._data=r),o}function xC(s,e,t,n,i="",o=0,r){return{element:s,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:o,disabled:!!r}}function us(s,e,t){let n=s.get(e);return n||s.set(e,n=t),n}function XF(s){const e=s.indexOf(":");return[s.substring(1,e),s.slice(e+1)]}let _C=(s,e)=>!1,ZF=(s,e,t)=>[],QF=null;function bC(s){const e=s.parentNode||s.host;return e===QF?null:e}(mC()||typeof Element<"u")&&(lre()?(QF=(()=>document.documentElement)(),_C=(s,e)=>{for(;e;){if(e===s)return!0;e=bC(e)}return!1}):_C=(s,e)=>s.contains(e),ZF=(s,e,t)=>{if(t)return Array.from(s.querySelectorAll(e));const n=s.querySelector(e);return n?[n]:[]});let Ma=null,JF=!1;const eB=_C,tB=ZF;let nB=(()=>{class s{validateStyleProperty(t){return function ure(s){Ma||(Ma=function hre(){return typeof document<"u"?document.body:null}()||{},JF=!!Ma.style&&"WebkitAppearance"in Ma.style);let e=!0;return Ma.style&&!function cre(s){return"ebkit"==s.substring(1,6)}(s)&&(e=s in Ma.style,!e&&JF&&(e="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in Ma.style)),e}(t)}matchesElement(t,n){return!1}containsElement(t,n){return eB(t,n)}getParentElement(t){return bC(t)}query(t,n,i){return tB(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,o,r,a=[],l){return new nd(i,o)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})(),wC=(()=>{class s{}return s.NOOP=new nB,s})();const CC="ng-enter",Cm="ng-leave",Sm="ng-trigger",Dm=".ng-trigger",iB="ng-animating",SC=".ng-animating";function zo(s){if("number"==typeof s)return s;const e=s.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DC(parseFloat(e[1]),e[2])}function DC(s,e){return"s"===e?1e3*s:s}function Em(s,e,t){return s.hasOwnProperty("duration")?s:function pre(s,e,t){let i,o=0,r="";if("string"==typeof s){const a=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(KF()),{duration:0,delay:0,easing:""};i=DC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=DC(parseFloat(l),a[4]));const c=a[5];c&&(r=c)}else i=s;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Aoe(){return new F(3100,!1)}()),a=!0),o<0&&(e.push(function Moe(){return new F(3101,!1)}()),a=!0),a&&e.splice(l,0,KF())}return{duration:i,delay:o,easing:r}}(s,e,t)}function md(s,e={}){return Object.keys(s).forEach(t=>{e[t]=s[t]}),e}function oB(s){const e=new Map;return Object.keys(s).forEach(t=>{e.set(t,s[t])}),e}function Fr(s,e=new Map,t){if(t)for(let[n,i]of t)e.set(n,i);for(let[n,i]of s)e.set(n,i);return e}function aB(s,e,t){return t?e+":"+t+";":""}function lB(s){let e="";for(let t=0;t<s.style.length;t++){const n=s.style.item(t);e+=aB(0,n,s.style.getPropertyValue(n))}for(const t in s.style)s.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aB(0,vre(t),s.style[t]));s.setAttribute("style",e)}function ji(s,e,t){s.style&&(e.forEach((n,i)=>{const o=TC(i);t&&!t.has(i)&&t.set(i,s.style[o]),s.style[o]=n}),mC()&&lB(s))}function ka(s,e){s.style&&(e.forEach((t,n)=>{const i=TC(n);s.style[i]=""}),mC()&&lB(s))}function yd(s){return Array.isArray(s)?1==s.length?s[0]:iL(s):s}const EC=new RegExp("{{\\s*(.+?)\\s*}}","g");function cB(s){let e=[];if("string"==typeof s){let t;for(;t=EC.exec(s);)e.push(t[1]);EC.lastIndex=0}return e}function vd(s,e,t){const n=s.toString(),i=n.replace(EC,(o,r)=>{let a=e[r];return null==a&&(t.push(function Ioe(s){return new F(3003,!1)}()),a=""),a.toString()});return i==n?s:i}function Tm(s){const e=[];let t=s.next();for(;!t.done;)e.push(t.value),t=s.next();return e}const yre=/-+([a-z0-9])/g;function TC(s){return s.replace(yre,(...e)=>e[1].toUpperCase())}function vre(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hs(s,e,t){switch(e.type){case 7:return s.visitTrigger(e,t);case 0:return s.visitState(e,t);case 1:return s.visitTransition(e,t);case 2:return s.visitSequence(e,t);case 3:return s.visitGroup(e,t);case 4:return s.visitAnimate(e,t);case 5:return s.visitKeyframes(e,t);case 6:return s.visitStyle(e,t);case 8:return s.visitReference(e,t);case 9:return s.visitAnimateChild(e,t);case 10:return s.visitAnimateRef(e,t);case 11:return s.visitQuery(e,t);case 12:return s.visitStagger(e,t);default:throw function Poe(s){return new F(3004,!1)}()}}function uB(s,e){return window.getComputedStyle(s)[e]}function Sre(s,e){const t=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(n=>function Dre(s,e,t){if(":"==s[0]){const l=function Ere(s,e){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function Woe(s){return new F(3016,!1)}()),"* => *"}}(s,t);if("function"==typeof l)return void e.push(l);s=l}const n=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function Goe(s){return new F(3015,!1)}()),e;const i=n[1],o=n[2],r=n[3];e.push(hB(i,r));"<"==o[0]&&!("*"==i&&"*"==r)&&e.push(hB(r,i))}(n,t,e)):t.push(s),t}const Im=new Set(["true","1"]),Pm=new Set(["false","0"]);function hB(s,e){const t=Im.has(s)||Pm.has(s),n=Im.has(e)||Pm.has(e);return(i,o)=>{let r="*"==s||s==i,a="*"==e||e==o;return!r&&t&&"boolean"==typeof i&&(r=i?Im.has(s):Pm.has(s)),!a&&n&&"boolean"==typeof o&&(a=o?Im.has(e):Pm.has(e)),r&&a}}const Tre=new RegExp("s*:selfs*,?","g");function AC(s,e,t,n){return new Are(s).build(e,t,n)}class Are{constructor(e){this._driver=e}build(e,t,n){const i=new Ire(t);return this._resetContextStyleTimingState(i),hs(this,yd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push(function Noe(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,r.push(l)}else t.errors.push(function Ooe(){return new F(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:r,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{cB(l).forEach(c=>{r.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Tm(o.values()),t.errors.push(function Loe(s,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=hs(this,yd(e.animation),t);return{type:1,matchers:Sre(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ia(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>hs(this,n,t)),options:Ia(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const o=e.steps.map(r=>{t.currentTime=n;const a=hs(this,r,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Ia(e.options)}}visitAnimate(e,t){const n=function Rre(s,e){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return MC(Em(s,e).duration,0,"");const t=s;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=MC(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=Em(t,e);return MC(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let i,o=e.styles?e.styles:im({});if(5==o.type)i=this.visitKeyframes(o,t);else{let r=e.styles,a=!1;if(!r){a=!0;const c={};n.easing&&(c.easing=n.easing),r=im(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(r,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Lo?n.push(a):t.errors.push(new F(3002,!1)):n.push(oB(a));let o=!1,r=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(r=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(r=>{"string"!=typeof r&&r.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function Boe(s,e,t,n,i){return new F(3010,!1)}()),h=!1),o=u.startTime),h&&c.set(l,{startTime:o,endTime:i}),t.options&&function mre(s,e,t){const n=e.params||{},i=cB(s);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||t.push(function koe(s){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Voe(){return new F(3011,!1)}()),n;let o=0;const r=[];let a=!1,l=!1,c=0;const u=e.steps.map(x=>{const w=this._makeStyleAst(x,t);let C=null!=w.offset?w.offset:function Pre(s){if("string"==typeof s)return null;let e=null;if(Array.isArray(s))s.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const t=s;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),A=0;return null!=C&&(o++,A=w.offset=C),l=l||A<0||A>1,a=a||A<c,c=A,r.push(A),w});l&&t.errors.push(function zoe(){return new F(3012,!1)}()),a&&t.errors.push(function Hoe(){return new F(3200,!1)}());const h=e.steps.length;let d=0;o>0&&o<h?t.errors.push(function joe(){return new F(3202,!1)}()):0==o&&(d=1/(h-1));const f=h-1,p=t.currentTime,g=t.currentAnimateTimings,y=g.duration;return u.forEach((x,w)=>{const C=d>0?w==f?1:d*w:r[w],A=C*y;t.currentTime=p+g.delay+A,g.duration=A,this._validateStyleAst(x,t),x.offset=C,n.styles.push(x)}),n}visitReference(e,t){return{type:8,animation:hs(this,yd(e.animation),t),options:Ia(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ia(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ia(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,r]=function Mre(s){const e=!!s.split(/\s*,\s*/).find(t=>":self"==t);return e&&(s=s.replace(Tre,"")),s=s.replace(/@\*/g,Dm).replace(/@\w+/g,t=>Dm+"-"+t.slice(1)).replace(/:animating/g,SC),[s,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,us(t.collectedStyles,t.currentQuerySelector,new Map);const a=hs(this,yd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:a,originalSelector:e.selector,options:Ia(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Uoe(){return new F(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Em(e.timings,t.errors,!0);return{type:12,animation:hs(this,yd(e.animation),t),timings:n,options:null}}}class Ire{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ia(s){return s?(s=md(s)).params&&(s.params=function kre(s){return s?md(s):null}(s.params)):s={},s}function MC(s,e,t){return{duration:s,delay:e,easing:t}}function kC(s,e,t,n,i,o,r=null,a=!1){return{type:1,element:s,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:r,subTimeline:a}}class Rm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Lre=new RegExp(":enter","g"),Bre=new RegExp(":leave","g");function IC(s,e,t,n,i,o=new Map,r=new Map,a,l,c=[]){return(new Vre).buildKeyframes(s,e,t,n,i,o,r,a,l,c)}class Vre{buildKeyframes(e,t,n,i,o,r,a,l,c,u=[]){c=c||new Rm;const h=new PC(e,t,c,i,o,u,[]);h.options=l;const d=l.delay?zo(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([r],null,h.errors,l),hs(this,n,h);const f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const y=f[g];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[kC(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const i of e){const o=i?.delay;if(o){const r="number"==typeof o?o:zo(vd(o,i?.params??{},t.errors));n.delayNextStep(r)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime;const r=null!=n.duration?zo(n.duration):null,a=null!=n.delay?zo(n.delay):null;return 0!==r&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,r,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),hs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nm);const r=zo(o.delay);i.delayNextStep(r)}e.steps.length&&(e.steps.forEach(r=>hs(this,r,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?zo(e.options.delay):0;e.steps.forEach(r=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),hs(this,r,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(r=>t.currentTimeline.mergeTimelineCollectedStyles(r)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Em(t.params?vd(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?zo(i.delay):0;o&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Nm);let r=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),hs(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),a=r*(t.currentQueryTotal-1);let l=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;hs(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-h+(i.startTime-n.currentTimeline.startTime)}}const Nm={};class PC{constructor(e,t,n,i,o,r,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Om(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=zo(n.duration)),null!=n.delay&&(i.delay=zo(n.delay));const o=n.params;if(o){let r=i.params;r||(r=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!r.hasOwnProperty(a))&&(r[a]=vd(o[a],r,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,o=new PC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Nm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new zre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,r){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Lre,"."+this._enterClassName)).replace(Bre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&0==a.length&&r.push(function $oe(s){return new F(3014,!1)}()),a}}class Om{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Om(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Lo),this._currentKeyframe.set(t,Lo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},r=function Hre(s,e){const t=new Map;let n;return s.forEach(i=>{if("*"===i){n=n||e.keys();for(let o of n)t.set(o,Lo)}else Fr(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of r){const c=vd(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Lo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Fr(a,new Map,this._backFill);c.forEach((u,h)=>{"!"===u?e.add(h):u===Lo&&t.add(h)}),n||c.set("offset",l/this.duration),i.push(c)});const o=e.size?Tm(e.values()):[],r=t.size?Tm(t.values()):[];if(n){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return kC(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)}}class zre extends Om{constructor(e,t,n,i,o,r,a=!1){super(e,t,r.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],r=n+t,a=t/r,l=Fr(e[0]);l.set("offset",0),o.push(l);const c=Fr(e[0]);c.set("offset",pB(a)),o.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=Fr(e[h]);const f=d.get("offset");d.set("offset",pB((t+f*n)/r)),o.push(d)}n=r,t=0,i="",e=o}return kC(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function pB(s,e=3){const t=Math.pow(10,e-1);return Math.round(s*t)/t}class RC{}const jre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ure extends RC{normalizePropertyName(e,t){return TC(e)}normalizeStyleValue(e,t,n,i){let o="";const r=n.toString().trim();if(jre.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Roe(s,e){return new F(3005,!1)}())}return r+o}}function gB(s,e,t,n,i,o,r,a,l,c,u,h,d){return{type:0,element:s,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:n,toStyles:r,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const NC={};class mB{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function $re(s,e,t,n,i){return s.some(o=>o(e,t,n,i))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,o,r,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||NC,p=this.buildStyles(n,a&&a.params||NC,h),g=l&&l.params||NC,y=this.buildStyles(i,g,h),x=new Set,w=new Map,C=new Map,A="void"===i,L={params:Gre(g,d),delay:this.ast.options?.delay},U=u?[]:IC(e,t,this.ast.animation,o,r,p,y,L,c,h);let J=0;if(U.forEach(Je=>{J=Math.max(Je.duration+Je.delay,J)}),h.length)return gB(t,this._triggerName,n,i,A,p,y,[],[],w,C,J,h);U.forEach(Je=>{const Ce=Je.element,Kt=us(w,Ce,new Set);Je.preStyleProps.forEach(sn=>Kt.add(sn));const Pt=us(C,Ce,new Set);Je.postStyleProps.forEach(sn=>Pt.add(sn)),Ce!==t&&x.add(Ce)});const xe=Tm(x.values());return gB(t,this._triggerName,n,i,A,p,y,U,xe,w,C,J)}}function Gre(s,e){const t=md(e);for(const n in s)s.hasOwnProperty(n)&&null!=s[n]&&(t[n]=s[n]);return t}class Wre{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,i=md(this.defaultParams);return Object.keys(e).forEach(o=>{const r=e[o];null!==r&&(i[o]=r)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((r,a)=>{r&&(r=vd(r,i,t));const l=this.normalizer.normalizePropertyName(a,t);r=this.normalizer.normalizeStyleValue(a,l,r,t),n.set(l,r)})}),n}}class Kre{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Wre(i.style,i.options&&i.options.params||{},n))}),yB(this.states,"true","1"),yB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mB(e,i,this.states))}),this.fallbackTransition=function Yre(s,e,t){return new mB(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function yB(s,e,t){s.has(e)?s.has(t)||s.set(t,s.get(e)):s.has(t)&&s.set(e,s.get(t))}const Xre=new Rm;class Zre{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],o=AC(this._driver,t,n,[]);if(n.length)throw function Zoe(s){return new F(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,n){const i=e.element,o=YF(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],o=this._animations.get(e);let r;const a=new Map;if(o?(r=IC(this._driver,t,o,CC,Cm,new Map,new Map,n,Xre,i),r.forEach(u=>{const h=us(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(function Qoe(){return new F(3300,!1)}()),r=[]),i.length)throw function Joe(s){return new F(3504,!1)}();a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,Lo))})});const c=Lr(r.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ere(s){return new F(3301,!1)}();return t}listen(e,t,n,i){const o=xC(t,"","","");return yC(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const vB="ng-animate-queued",OC="ng-animate-disabled",nae=[],xB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ns="__ng_removed";class LC{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function aae(s){return s??null}(n?e.value:e),n){const o=md(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(i=>{null==n[i]&&(n[i]=t[i])})}}}const xd="void",FC=new LC(xd);class iae{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Os(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw function tre(s,e){return new F(3302,!1)}();if(null==n||0==n.length)throw function nre(s){return new F(3303,!1)}();if(!function lae(s){return"start"==s||"done"==s}(n))throw function sre(s,e){return new F(3400,!1)}();const o=us(this._elementListeners,e,[]),r={name:t,phase:n,callback:i};o.push(r);const a=us(this._engine.statesByElement,e,new Map);return a.has(t)||(Os(e,Sm),Os(e,Sm+"-"+t),a.set(t,FC)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(r);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ire(s){return new F(3401,!1)}();return t}trigger(e,t,n,i=!0){const o=this._getTrigger(t),r=new BC(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Os(e,Sm),Os(e,Sm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new LC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=FC),c.value!==xd&&l.value===c.value){if(!function hae(s,e){const t=Object.keys(s),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||s[o]!==e[o])return!1}return!0}(l.params,c.params)){const g=[],y=o.matchStyles(l.value,l.params,g),x=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ka(e,y),ji(e,x)})}return}const d=us(this._engine.playersByElement,e,[]);d.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:r,isFallbackTransition:p}),p||(Os(e,vB),r.onStart(()=>{Rc(e,vB)})),r.onDone(()=>{let g=this.players.indexOf(r);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(e);if(y){let x=y.indexOf(r);x>=0&&y.splice(x,1)}}),this.players.push(r),d.push(r),r}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Dm,!0);n.forEach(i=>{if(i[Ns])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(r=>r.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){const o=this._engine.statesByElement.get(e),r=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,xd,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,r),n&&Lr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const i=new Set;t.forEach(o=>{const r=o.name;if(i.has(r))return;i.add(r);const l=this._triggers.get(r).fallbackTransition,c=n.get(r)||FC,u=new LC(xd),h=new BC(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let r=e;for(;r=r.parentNode;)if(n.statesByElement.get(r)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ns];(!o||o===xB)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Os(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(a=>{if(a.name==n.triggerName){const l=xC(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,yC(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{const o=n.transition.ast.depCount,r=i.transition.ast.depCount;return 0==o||0==r?o-r:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class oae{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new iae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let r=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,e),r=!0;break}a=this.driver.getParentElement(a)}r||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,n,i){if(Lm(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Lm(t))return;const o=t[Ns];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Os(e,OC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rc(e,OC))}removeNode(e,t,n,i){if(Lm(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i,o){this.collectedLeaveElements.push(t),t[Ns]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,i,o){return Lm(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Dm,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,SC,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ns];if(t&&t.setForRemoval){if(e[Ns]=xB,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(OC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Os(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Lr(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function ore(s){return new F(3402,!1)}()}_flushAnimations(e,t){const n=new Rm,i=[],o=new Map,r=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const X=this.driver.query(z,".ng-animate-queued",!0);for(let ie=0;ie<X.length;ie++)u.add(X[ie])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=wB(d,this.collectedEnterElements),p=new Map;let g=0;f.forEach((z,X)=>{const ie=CC+g++;p.set(X,ie),z.forEach(Le=>Os(Le,ie))});const y=[],x=new Set,w=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const X=this.collectedLeaveElements[z],ie=X[Ns];ie&&ie.setForRemoval&&(y.push(X),x.add(X),ie.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(Le=>x.add(Le)):w.add(X))}const C=new Map,A=wB(d,Array.from(x));A.forEach((z,X)=>{const ie=Cm+g++;C.set(X,ie),z.forEach(Le=>Os(Le,ie))}),e.push(()=>{f.forEach((z,X)=>{const ie=p.get(X);z.forEach(Le=>Rc(Le,ie))}),A.forEach((z,X)=>{const ie=C.get(X);z.forEach(Le=>Rc(Le,ie))}),y.forEach(z=>{this.processLeaveNode(z)})});const L=[],U=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(ie=>{const Le=ie.player,on=ie.element;if(L.push(Le),this.collectedEnterElements.length){const mn=on[Ns];if(mn&&mn.setForMove){if(mn.previousTriggersValues&&mn.previousTriggersValues.has(ie.triggerName)){const Pa=mn.previousTriggersValues.get(ie.triggerName),Ls=this.statesByElement.get(ie.element);if(Ls&&Ls.has(ie.triggerName)){const Vm=Ls.get(ie.triggerName);Vm.value=Pa,Ls.set(ie.triggerName,Vm)}}return void Le.destroy()}}const $i=!h||!this.driver.containsElement(h,on),ds=C.get(on),Br=p.get(on),bt=this._buildInstruction(ie,n,Br,ds,$i);if(bt.errors&&bt.errors.length)return void U.push(bt);if($i)return Le.onStart(()=>ka(on,bt.fromStyles)),Le.onDestroy(()=>ji(on,bt.toStyles)),void i.push(Le);if(ie.isFallbackTransition)return Le.onStart(()=>ka(on,bt.fromStyles)),Le.onDestroy(()=>ji(on,bt.toStyles)),void i.push(Le);const IB=[];bt.timelines.forEach(mn=>{mn.stretchStartingKeyframe=!0,this.disabledNodes.has(mn.element)||IB.push(mn)}),bt.timelines=IB,n.append(on,bt.timelines),r.push({instruction:bt,player:Le,element:on}),bt.queriedElements.forEach(mn=>us(a,mn,[]).push(Le)),bt.preStyleProps.forEach((mn,Pa)=>{if(mn.size){let Ls=l.get(Pa);Ls||l.set(Pa,Ls=new Set),mn.forEach((Vm,HC)=>Ls.add(HC))}}),bt.postStyleProps.forEach((mn,Pa)=>{let Ls=c.get(Pa);Ls||c.set(Pa,Ls=new Set),mn.forEach((Vm,HC)=>Ls.add(HC))})});if(U.length){const z=[];U.forEach(X=>{z.push(function rre(s,e){return new F(3505,!1)}())}),L.forEach(X=>X.destroy()),this.reportError(z)}const J=new Map,xe=new Map;r.forEach(z=>{const X=z.element;n.has(X)&&(xe.set(X,X),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,J))}),i.forEach(z=>{const X=z.element;this._getPreviousPlayers(X,!1,z.namespaceId,z.triggerName,null).forEach(Le=>{us(J,X,[]).push(Le),Le.destroy()})});const Je=y.filter(z=>SB(z,l,c)),Ce=new Map;bB(Ce,this.driver,w,c,Lo).forEach(z=>{SB(z,l,c)&&Je.push(z)});const Pt=new Map;f.forEach((z,X)=>{bB(Pt,this.driver,new Set(z),l,"!")}),Je.forEach(z=>{const X=Ce.get(z),ie=Pt.get(z);Ce.set(z,new Map([...Array.from(X?.entries()??[]),...Array.from(ie?.entries()??[])]))});const sn=[],yi=[],Ui={};r.forEach(z=>{const{element:X,player:ie,instruction:Le}=z;if(n.has(X)){if(u.has(X))return ie.onDestroy(()=>ji(X,Le.toStyles)),ie.disabled=!0,ie.overrideTotalTime(Le.totalTime),void i.push(ie);let on=Ui;if(xe.size>1){let ds=X;const Br=[];for(;ds=ds.parentNode;){const bt=xe.get(ds);if(bt){on=bt;break}Br.push(ds)}Br.forEach(bt=>xe.set(bt,on))}const $i=this._buildAnimation(ie.namespaceId,Le,J,o,Pt,Ce);if(ie.setRealPlayer($i),on===Ui)sn.push(ie);else{const ds=this.playersByElement.get(on);ds&&ds.length&&(ie.parentPlayer=Lr(ds)),i.push(ie)}}else ka(X,Le.fromStyles),ie.onDestroy(()=>ji(X,Le.toStyles)),yi.push(ie),u.has(X)&&i.push(ie)}),yi.forEach(z=>{const X=o.get(z.element);if(X&&X.length){const ie=Lr(X);z.setRealPlayer(ie)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<y.length;z++){const X=y[z],ie=X[Ns];if(Rc(X,Cm),ie&&ie.hasAnimation)continue;let Le=[];if(a.size){let $i=a.get(X);$i&&$i.length&&Le.push(...$i);let ds=this.driver.query(X,SC,!0);for(let Br=0;Br<ds.length;Br++){let bt=a.get(ds[Br]);bt&&bt.length&&Le.push(...bt)}}const on=Le.filter($i=>!$i.destroyed);on.length?cae(this,X,on):this.processLeaveNode(X)}return y.length=0,sn.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const X=this.players.indexOf(z);this.players.splice(X,1)}),z.play()}),sn}elementContainsData(e,t){let n=!1;const i=t[Ns];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let r=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(r=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==xd;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||r.push(c)})}}return(n||i)&&(r=r.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),r}_beforeAnimationBuild(e,t,n){const o=t.element,r=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,h=us(n,c,[]);this._getPreviousPlayers(c,u,r,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}ka(o,t.fromStyles)}_buildAnimation(e,t,n,i,o,r){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(p=>{const g=p.element;u.add(g);const y=g[Ns];if(y&&y.removedBeforeQueried)return new nd(p.duration,p.delay);const x=g!==l,w=function uae(s){const e=[];return CB(s,e),e}((n.get(g)||nae).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===g),C=o.get(g),A=r.get(g),L=YF(0,this._normalizer,0,p.keyframes,C,A),U=this._buildPlayer(p,L,w);if(p.subTimeline&&i&&h.add(g),x){const J=new BC(e,a,g);J.setRealPlayer(U),c.push(J)}return U});c.forEach(p=>{us(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function rae(s,e,t){let n=s.get(e);if(n){if(n.length){const i=n.indexOf(t);n.splice(i,1)}0==n.length&&s.delete(e)}return n}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Os(p,iB));const f=Lr(d);return f.onDestroy(()=>{u.forEach(p=>Rc(p,iB)),ji(l,t.toStyles)}),h.forEach(p=>{us(i,p,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new nd(e.duration,e.delay)}}class BC{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new nd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>yC(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){us(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Lm(s){return s&&1===s.nodeType}function _B(s,e){const t=s.style.display;return s.style.display=e??"none",t}function bB(s,e,t,n,i){const o=[];t.forEach(l=>o.push(_B(l)));const r=[];n.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=e.computeStyle(c,h,i);u.set(h,d),(!d||0==d.length)&&(c[Ns]=sae,r.push(c))}),s.set(c,u)});let a=0;return t.forEach(l=>_B(l,o[a++])),r}function wB(s,e){const t=new Map;if(s.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function r(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:r(c),o.set(a,l),l}return e.forEach(a=>{const l=r(a);1!==l&&t.get(l).push(a)}),t}function Os(s,e){s.classList?.add(e)}function Rc(s,e){s.classList?.remove(e)}function cae(s,e,t){Lr(t).onDone(()=>s.processLeaveNode(e))}function CB(s,e){for(let t=0;t<s.length;t++){const n=s[t];n instanceof rL?CB(n.players,e):e.push(n)}}function SB(s,e,t){const n=t.get(s);if(!n)return!1;let i=e.get(s);return i?n.forEach(o=>i.add(o)):e.set(s,n),t.delete(s),!0}class Fm{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new oae(e,t,n),this._timelineEngine=new Zre(e,t,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,n,i,o){const r=e+"-"+i;let a=this._triggerCache[r];if(!a){const l=[],u=AC(this._driver,o,l,[]);if(l.length)throw function Yoe(s,e){return new F(3404,!1)}();a=function qre(s,e,t){return new Kre(s,e,t)}(i,u,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[o,r]=XF(n);this._timelineEngine.command(o,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if("@"==n.charAt(0)){const[r,a]=XF(n);return this._timelineEngine.listen(r,t,a,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fae=(()=>{class s{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let o=s.initialStylesByElement.get(t);o||s.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ji(this._element,this._initialStyles),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),ji(this._element,this._initialStyles),this._state=3)}}return s.initialStylesByElement=new WeakMap,s})();function VC(s){let e=null;return s.forEach((t,n)=>{(function pae(s){return"display"===s||"position"===s})(n)&&(e=e||new Map,e.set(n,t))}),e}class DB{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&e.set(i,this._finished?n:uB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class gae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eB(e,t)}getParentElement(e){return bC(e)}query(e,t,n){return tB(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,i,o,r=[]){const l={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=r.filter(f=>f instanceof DB);(function xre(s,e){return 0===s||0===e})(n,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let h=function gre(s){return s.length?s[0]instanceof Map?s:s.map(e=>oB(e)):[]}(t).map(f=>Fr(f));h=function _re(s,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((o,r)=>{n.has(r)||i.push(r),n.set(r,o)}),i.length)for(let o=1;o<e.length;o++){let r=e[o];i.forEach(a=>r.set(a,uB(s,a)))}}return e}(e,h,c);const d=function dae(s,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=VC(e[0]),e.length>1&&(n=VC(e[e.length-1]))):e instanceof Map&&(t=VC(e)),t||n?new fae(s,t,n):null}(e,h);return new DB(e,h,l,d)}}let mae=(()=>{class s extends T0{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Gs.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?iL(t):t;return EB(this._renderer,null,n,"register",[i]),new yae(n,this._renderer)}}return s.\u0275fac=function(t){return new(t||s)(Y(xu),Y(ni))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();class yae extends class xee{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new vae(this._id,e,t||{},this._renderer)}}class vae{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EB(s,e,t,n,i){return s.setProperty(e,`@@${t}:${n}`,i)}const TB="@.disabled";let xae=(()=>{class s{constructor(t,n,i){this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,r)=>{const a=r?.parentNode(o);a&&r.removeChild(a,o)}}createRenderer(t,n){const o=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(o);return u||(u=new AB("",o,this.engine),this._rendererCache.set(o,u)),u}const r=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(r,a,t,u.name,u)};return n.data.animation.forEach(l),new _ae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,i){t>=0&&t<this._microtaskId?this._zone.run(()=>n(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[r,a]=o;r(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(t){return new(t||s)(Y(xu),Y(Fm),Y($e))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();class AB{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==TB?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _ae extends AB{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==TB?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function bae(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(e);let o=t.slice(1),r="";return"@"!=o.charAt(0)&&([o,r]=function wae(s){const e=s.indexOf(".");return[s.substring(0,e),s.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,r,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let Cae=(()=>{class s extends Fm{constructor(t,n,i,o){super(t.body,n,i)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(t){return new(t||s)(Y(ni),Y(wC),Y(RC),Y(Hu))},s.\u0275prov=le({token:s,factory:s.\u0275fac}),s})();const MB=[{provide:T0,useClass:mae},{provide:RC,useFactory:function Sae(){return new Ure}},{provide:Fm,useClass:Cae},{provide:xu,useFactory:function Dae(s,e,t){return new xae(s,e,t)},deps:[up,Fm,$e]}],zC=[{provide:wC,useFactory:()=>new gae},{provide:fA,useValue:"BrowserAnimations"},...MB],kB=[{provide:wC,useClass:nB},{provide:fA,useValue:"NoopAnimations"},...MB];let Eae=(()=>{class s{static withConfig(t){return{ngModule:s,providers:t.disableAnimations?kB:zC}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s}),s.\u0275inj=Wn({providers:zC,imports:[bM]}),s})();Rn(386);let Tae=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=gs({type:s,bootstrap:[Toe]}),s.\u0275inj=Wn({imports:[bM,Soe,Eae]}),s})();(function O8(){if(kA)throw new Error("Cannot enable prod mode after platform setup.");MA=!1})(),sG().bootstrapModule(Tae).catch(s=>console.error(s))},386:(Ra,Nc,Rn)=>{var vi;!function(Yt,Na,_d,lt){"use strict";var Un,Ve=["","webkit","Moz","MS","ms","o"],bd=Na.createElement("div"),Fs=Math.round,Bt=Math.abs,Oa=Date.now;function La(m,v,_){return setTimeout(Fc(m,_),v)}function Gi(m,v,_){return!!Array.isArray(m)&&(rn(m,_[v],_),!0)}function rn(m,v,_){var D;if(m)if(m.forEach)m.forEach(v,_);else if(m.length!==lt)for(D=0;D<m.length;)v.call(_,m[D],D,m),D++;else for(D in m)m.hasOwnProperty(D)&&v.call(_,m[D],D,m)}function Vr(m,v,_){var D="DEPRECATED METHOD: "+v+"\n"+_+" AT \n";return function(){var I=new Error("get-stack-trace"),$=I&&I.stack?I.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",be=Yt.console&&(Yt.console.warn||Yt.console.log);return be&&be.call(Yt.console,D,$),m.apply(this,arguments)}}Un="function"!=typeof Object.assign?function(v){if(v===lt||null===v)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(v),D=1;D<arguments.length;D++){var I=arguments[D];if(I!==lt&&null!==I)for(var $ in I)I.hasOwnProperty($)&&(_[$]=I[$])}return _}:Object.assign;var Lc=Vr(function(v,_,D){for(var I=Object.keys(_),$=0;$<I.length;)(!D||D&&v[I[$]]===lt)&&(v[I[$]]=_[I[$]]),$++;return v},"extend","Use `assign`."),zm=Vr(function(v,_){return Lc(v,_,!0)},"merge","Use `assign`.");function yn(m,v,_){var I,D=v.prototype;(I=m.prototype=Object.create(D)).constructor=m,I._super=D,_&&Un(I,_)}function Fc(m,v){return function(){return m.apply(v,arguments)}}function zr(m,v){return"function"==typeof m?m.apply(v&&v[0]||lt,v):m}function xi(m,v){return m===lt?v:m}function Wi(m,v,_){rn(Ho(v),function(D){m.addEventListener(D,_,!1)})}function Fa(m,v,_){rn(Ho(v),function(D){m.removeEventListener(D,_,!1)})}function Ba(m,v){for(;m;){if(m==v)return!0;m=m.parentNode}return!1}function qi(m,v){return m.indexOf(v)>-1}function Ho(m){return m.trim().split(/\s+/g)}function jo(m,v,_){if(m.indexOf&&!_)return m.indexOf(v);for(var D=0;D<m.length;){if(_&&m[D][_]==v||!_&&m[D]===v)return D;D++}return-1}function _i(m){return Array.prototype.slice.call(m,0)}function Hr(m,v,_){for(var D=[],I=[],$=0;$<m.length;){var be=v?m[$][v]:m[$];jo(I,be)<0&&D.push(m[$]),I[$]=be,$++}return _&&(D=v?D.sort(function(et,cn){return et[v]>cn[v]}):D.sort()),D}function Va(m,v){for(var _,D,I=v[0].toUpperCase()+v.slice(1),$=0;$<Ve.length;){if((D=(_=Ve[$])?_+I:v)in m)return D;$++}return lt}var Bc=1;function za(m){var v=m.ownerDocument||m;return v.defaultView||v.parentWindow||Yt}var jm="ontouchstart"in Yt,wd=Va(Yt,"PointerEvent")!==lt,Vt=jm&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Uo="touch",Vc="mouse",Wm=["x","y"],Ua=["clientX","clientY"];function $n(m,v){var _=this;this.manager=m,this.callback=v,this.element=m.element,this.target=m.options.inputTarget,this.domHandler=function(D){zr(m.options.enable,[m])&&_.handler(D)},this.init()}function jC(m,v,_){var D=_.pointers.length,I=_.changedPointers.length,$=1&v&&D-I==0,be=12&v&&D-I==0;_.isFirst=!!$,_.isFinal=!!be,$&&(m.session={}),_.eventType=v,function Sd(m,v){var _=m.session,D=v.pointers,I=D.length;_.firstInput||(_.firstInput=Km(v)),I>1&&!_.firstMultiple?_.firstMultiple=Km(v):1===I&&(_.firstMultiple=!1);var $=_.firstInput,be=_.firstMultiple,zt=be?be.center:$.center,et=v.center=Ym(D);v.timeStamp=Oa(),v.deltaTime=v.timeStamp-$.timeStamp,v.angle=Hc(zt,et),v.distance=zc(zt,et),function qm(m,v){var _=v.center,D=m.offsetDelta||{},I=m.prevDelta||{},$=m.prevInput||{};(1===v.eventType||4===$.eventType)&&(I=m.prevDelta={x:$.deltaX||0,y:$.deltaY||0},D=m.offsetDelta={x:_.x,y:_.y}),v.deltaX=I.x+(_.x-D.x),v.deltaY=I.y+(_.y-D.y)}(_,v),v.offsetDirection=Dd(v.deltaX,v.deltaY);var cn=bi(v.deltaTime,v.deltaX,v.deltaY);v.overallVelocityX=cn.x,v.overallVelocityY=cn.y,v.overallVelocity=Bt(cn.x)>Bt(cn.y)?cn.x:cn.y,v.scale=be?function Xm(m,v){return zc(v[0],v[1],Ua)/zc(m[0],m[1],Ua)}(be.pointers,D):1,v.rotation=be?function $C(m,v){return Hc(v[1],v[0],Ua)+Hc(m[1],m[0],Ua)}(be.pointers,D):0,v.maxPointers=_.prevInput?v.pointers.length>_.prevInput.maxPointers?v.pointers.length:_.prevInput.maxPointers:v.pointers.length,function UC(m,v){var I,$,be,zt,_=m.lastInterval||v,D=v.timeStamp-_.timeStamp;if(8!=v.eventType&&(D>25||_.velocity===lt)){var et=v.deltaX-_.deltaX,cn=v.deltaY-_.deltaY,Us=bi(D,et,cn);$=Us.x,be=Us.y,I=Bt(Us.x)>Bt(Us.y)?Us.x:Us.y,zt=Dd(et,cn),m.lastInterval=v}else I=_.velocity,$=_.velocityX,be=_.velocityY,zt=_.direction;v.velocity=I,v.velocityX=$,v.velocityY=be,v.direction=zt}(_,v);var Us=m.element;Ba(v.srcEvent.target,Us)&&(Us=v.srcEvent.target),v.target=Us}(m,_),m.emit("hammer.input",_),m.recognize(_),m.session.prevInput=_}function Km(m){for(var v=[],_=0;_<m.pointers.length;)v[_]={clientX:Fs(m.pointers[_].clientX),clientY:Fs(m.pointers[_].clientY)},_++;return{timeStamp:Oa(),pointers:v,center:Ym(v),deltaX:m.deltaX,deltaY:m.deltaY}}function Ym(m){var v=m.length;if(1===v)return{x:Fs(m[0].clientX),y:Fs(m[0].clientY)};for(var _=0,D=0,I=0;I<v;)_+=m[I].clientX,D+=m[I].clientY,I++;return{x:Fs(_/v),y:Fs(D/v)}}function bi(m,v,_){return{x:v/m||0,y:_/m||0}}function Dd(m,v){return m===v?1:Bt(m)>=Bt(v)?m<0?2:4:v<0?8:16}function zc(m,v,_){_||(_=Wm);var D=v[_[0]]-m[_[0]],I=v[_[1]]-m[_[1]];return Math.sqrt(D*D+I*I)}function Hc(m,v,_){return _||(_=Wm),180*Math.atan2(v[_[1]]-m[_[1]],v[_[0]]-m[_[0]])/Math.PI}$n.prototype={handler:function(){},init:function(){this.evEl&&Wi(this.element,this.evEl,this.domHandler),this.evTarget&&Wi(this.target,this.evTarget,this.domHandler),this.evWin&&Wi(za(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Fa(this.element,this.evEl,this.domHandler),this.evTarget&&Fa(this.target,this.evTarget,this.domHandler),this.evWin&&Fa(za(this.element),this.evWin,this.domHandler)}};var GC={mousedown:1,mousemove:2,mouseup:4},WC="mousedown",qC="mousemove mouseup";function jc(){this.evEl=WC,this.evWin=qC,this.pressed=!1,$n.apply(this,arguments)}yn(jc,$n,{handler:function(v){var _=GC[v.type];1&_&&0===v.button&&(this.pressed=!0),2&_&&1!==v.which&&(_=4),this.pressed&&(4&_&&(this.pressed=!1),this.callback(this.manager,_,{pointers:[v],changedPointers:[v],pointerType:Vc,srcEvent:v}))}});var KC={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Uc={2:Uo,3:"pen",4:Vc,5:"kinect"},$c="pointerdown",Gc="pointermove pointerup pointercancel";function $a(){this.evEl=$c,this.evWin=Gc,$n.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Yt.MSPointerEvent&&!Yt.PointerEvent&&($c="MSPointerDown",Gc="MSPointerMove MSPointerUp MSPointerCancel"),yn($a,$n,{handler:function(v){var _=this.store,D=!1,I=v.type.toLowerCase().replace("ms",""),$=KC[I],be=Uc[v.pointerType]||v.pointerType,zt=be==Uo,et=jo(_,v.pointerId,"pointerId");1&$&&(0===v.button||zt)?et<0&&(_.push(v),et=_.length-1):12&$&&(D=!0),!(et<0)&&(_[et]=v,this.callback(this.manager,$,{pointers:_,changedPointers:[v],pointerType:be,srcEvent:v}),D&&_.splice(et,1))}});var Ed={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Zm="touchstart",Td="touchstart touchmove touchend touchcancel";function Wc(){this.evTarget=Zm,this.evWin=Td,this.started=!1,$n.apply(this,arguments)}function Ad(m,v){var _=_i(m.touches),D=_i(m.changedTouches);return 12&v&&(_=Hr(_.concat(D),"identifier",!0)),[_,D]}yn(Wc,$n,{handler:function(v){var _=Ed[v.type];if(1===_&&(this.started=!0),this.started){var D=Ad.call(this,v,_);12&_&&D[0].length-D[1].length==0&&(this.started=!1),this.callback(this.manager,_,{pointers:D[0],changedPointers:D[1],pointerType:Uo,srcEvent:v})}}});var Md={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Vs="touchstart touchmove touchend touchcancel";function Ga(){this.evTarget=Vs,this.targetIds={},$n.apply(this,arguments)}function Qm(m,v){var _=_i(m.touches),D=this.targetIds;if(3&v&&1===_.length)return D[_[0].identifier]=!0,[_,_];var I,$,be=_i(m.changedTouches),zt=[],et=this.target;if($=_.filter(function(cn){return Ba(cn.target,et)}),1===v)for(I=0;I<$.length;)D[$[I].identifier]=!0,I++;for(I=0;I<be.length;)D[be[I].identifier]&&zt.push(be[I]),12&v&&delete D[be[I].identifier],I++;return zt.length?[Hr($.concat(zt),"identifier",!0),zt]:void 0}function Wa(){$n.apply(this,arguments);var m=Fc(this.handler,this);this.touch=new Ga(this.manager,m),this.mouse=new jc(this.manager,m),this.primaryTouch=null,this.lastTouches=[]}function ey(m,v){1&m?(this.primaryTouch=v.changedPointers[0].identifier,Id.call(this,v)):12&m&&Id.call(this,v)}function Id(m){var v=m.changedPointers[0];if(v.identifier===this.primaryTouch){var _={x:v.clientX,y:v.clientY};this.lastTouches.push(_);var D=this.lastTouches;setTimeout(function(){var $=D.indexOf(_);$>-1&&D.splice($,1)},2500)}}function zs(m){for(var v=m.srcEvent.clientX,_=m.srcEvent.clientY,D=0;D<this.lastTouches.length;D++){var I=this.lastTouches[D],$=Math.abs(v-I.x),be=Math.abs(_-I.y);if($<=25&&be<=25)return!0}return!1}yn(Ga,$n,{handler:function(v){var _=Md[v.type],D=Qm.call(this,v,_);!D||this.callback(this.manager,_,{pointers:D[0],changedPointers:D[1],pointerType:Uo,srcEvent:v})}}),yn(Wa,$n,{handler:function(v,_,D){var $=D.pointerType==Vc;if(!($&&D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents)){if(D.pointerType==Uo)ey.call(this,_,D);else if($&&zs.call(this,D))return;this.callback(v,_,D)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Pd=Va(bd.style,"touchAction"),qa=Pd!==lt,Rd="compute",Nd="manipulation",Zi="none",Wo="pan-x",Qi="pan-y",Ka=function Od(){if(!qa)return!1;var m={},v=Yt.CSS&&Yt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(_){m[_]=!v||Yt.CSS.supports("touch-action",_)}),m}();function Ya(m,v){this.manager=m,this.set(v)}function js(m){this.options=Un({},this.defaults,m||{}),this.id=function Hm(){return Bc++}(),this.manager=null,this.options.enable=xi(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Yo(m){return 16&m?"cancel":8&m?"end":4&m?"move":2&m?"start":""}function Xa(m){return 16==m?"down":8==m?"up":2==m?"left":4==m?"right":""}function Za(m,v){var _=v.manager;return _?_.get(m):m}function vn(){js.apply(this,arguments)}function Fe(){vn.apply(this,arguments),this.pX=null,this.pY=null}function Gr(){vn.apply(this,arguments)}function ze(){js.apply(this,arguments),this._timer=null,this._input=null}function Wr(){vn.apply(this,arguments)}function Kc(){vn.apply(this,arguments)}function Xo(){js.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(m,v){return(v=v||{}).recognizers=xi(v.recognizers,Q.defaults.preset),new F(m,v)}function F(m,v){this.options=Un({},Q.defaults,v||{}),this.options.inputTarget=this.options.inputTarget||m,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=m,this.input=function Cd(m){return new(m.options.inputClass||(wd?$a:Vt?Ga:jm?Wa:jc))(m,jC)}(this),this.touchAction=new Ya(this,this.options.touchAction),qr(this,!0),rn(this.options.recognizers,function(_){var D=this.add(new _[0](_[1]));_[2]&&D.recognizeWith(_[2]),_[3]&&D.requireFailure(_[3])},this)}function qr(m,v){var D,_=m.element;_.style&&(rn(m.options.cssProps,function(I,$){D=Va(_.style,$),v?(m.oldCssProps[D]=_.style[D],_.style[D]=I):_.style[D]=m.oldCssProps[D]||""}),v||(m.oldCssProps={}))}Ya.prototype={set:function(m){m==Rd&&(m=this.compute()),qa&&this.manager.element.style&&Ka[m]&&(this.manager.element.style[Pd]=m),this.actions=m.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var m=[];return rn(this.manager.recognizers,function(v){zr(v.options.enable,[v])&&(m=m.concat(v.getTouchAction()))}),function ty(m){if(qi(m,Zi))return Zi;var v=qi(m,Wo),_=qi(m,Qi);return v&&_?Zi:v||_?v?Wo:Qi:qi(m,Nd)?Nd:"auto"}(m.join(" "))},preventDefaults:function(m){var v=m.srcEvent,_=m.offsetDirection;if(!this.manager.session.prevented){var D=this.actions,I=qi(D,Zi)&&!Ka[Zi],$=qi(D,Qi)&&!Ka[Qi],be=qi(D,Wo)&&!Ka[Wo];if(I&&1===m.pointers.length&&m.distance<2&&m.deltaTime<250)return;return be&&$||!(I||$&&6&_||be&&24&_)?void 0:this.preventSrc(v)}v.preventDefault()},preventSrc:function(m){this.manager.session.prevented=!0,m.preventDefault()}},js.prototype={defaults:{},set:function(m){return Un(this.options,m),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(m){if(Gi(m,"recognizeWith",this))return this;var v=this.simultaneous;return v[(m=Za(m,this)).id]||(v[m.id]=m,m.recognizeWith(this)),this},dropRecognizeWith:function(m){return Gi(m,"dropRecognizeWith",this)||(m=Za(m,this),delete this.simultaneous[m.id]),this},requireFailure:function(m){if(Gi(m,"requireFailure",this))return this;var v=this.requireFail;return-1===jo(v,m=Za(m,this))&&(v.push(m),m.requireFailure(this)),this},dropRequireFailure:function(m){if(Gi(m,"dropRequireFailure",this))return this;m=Za(m,this);var v=jo(this.requireFail,m);return v>-1&&this.requireFail.splice(v,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(m){return!!this.simultaneous[m.id]},emit:function(m){var v=this,_=this.state;function D(I){v.manager.emit(I,m)}_<8&&D(v.options.event+Yo(_)),D(v.options.event),m.additionalEvent&&D(m.additionalEvent),_>=8&&D(v.options.event+Yo(_))},tryEmit:function(m){if(this.canEmit())return this.emit(m);this.state=32},canEmit:function(){for(var m=0;m<this.requireFail.length;){if(!(33&this.requireFail[m].state))return!1;m++}return!0},recognize:function(m){var v=Un({},m);if(!zr(this.options.enable,[this,v]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(v),30&this.state&&this.tryEmit(v)},process:function(m){},getTouchAction:function(){},reset:function(){}},yn(vn,js,{defaults:{pointers:1},attrTest:function(m){var v=this.options.pointers;return 0===v||m.pointers.length===v},process:function(m){var v=this.state,_=m.eventType,D=6&v,I=this.attrTest(m);return D&&(8&_||!I)?16|v:D||I?4&_?8|v:2&v?4|v:2:32}}),yn(Fe,vn,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var m=this.options.direction,v=[];return 6&m&&v.push(Qi),24&m&&v.push(Wo),v},directionTest:function(m){var v=this.options,_=!0,D=m.distance,I=m.direction,$=m.deltaX,be=m.deltaY;return I&v.direction||(6&v.direction?(I=0===$?1:$<0?2:4,_=$!=this.pX,D=Math.abs(m.deltaX)):(I=0===be?1:be<0?8:16,_=be!=this.pY,D=Math.abs(m.deltaY))),m.direction=I,_&&D>v.threshold&&I&v.direction},attrTest:function(m){return vn.prototype.attrTest.call(this,m)&&(2&this.state||!(2&this.state)&&this.directionTest(m))},emit:function(m){this.pX=m.deltaX,this.pY=m.deltaY;var v=Xa(m.direction);v&&(m.additionalEvent=this.options.event+v),this._super.emit.call(this,m)}}),yn(Gr,vn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zi]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.scale-1)>this.options.threshold||2&this.state)},emit:function(m){1!==m.scale&&(m.additionalEvent=this.options.event+(m.scale<1?"in":"out")),this._super.emit.call(this,m)}}),yn(ze,js,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(m){var v=this.options,_=m.pointers.length===v.pointers,D=m.distance<v.threshold,I=m.deltaTime>v.time;if(this._input=m,!D||!_||12&m.eventType&&!I)this.reset();else if(1&m.eventType)this.reset(),this._timer=La(function(){this.state=8,this.tryEmit()},v.time,this);else if(4&m.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(m){8===this.state&&(m&&4&m.eventType?this.manager.emit(this.options.event+"up",m):(this._input.timeStamp=Oa(),this.manager.emit(this.options.event,this._input)))}}),yn(Wr,vn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zi]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.rotation)>this.options.threshold||2&this.state)}}),yn(Kc,vn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Fe.prototype.getTouchAction.call(this)},attrTest:function(m){var _,v=this.options.direction;return 30&v?_=m.overallVelocity:6&v?_=m.overallVelocityX:24&v&&(_=m.overallVelocityY),this._super.attrTest.call(this,m)&&v&m.offsetDirection&&m.distance>this.options.threshold&&m.maxPointers==this.options.pointers&&Bt(_)>this.options.velocity&&4&m.eventType},emit:function(m){var v=Xa(m.offsetDirection);v&&this.manager.emit(this.options.event+v,m),this.manager.emit(this.options.event,m)}}),yn(Xo,js,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Nd]},process:function(m){var v=this.options,_=m.pointers.length===v.pointers,D=m.distance<v.threshold,I=m.deltaTime<v.time;if(this.reset(),1&m.eventType&&0===this.count)return this.failTimeout();if(D&&I&&_){if(4!=m.eventType)return this.failTimeout();var $=!this.pTime||m.timeStamp-this.pTime<v.interval,be=!this.pCenter||zc(this.pCenter,m.center)<v.posThreshold;if(this.pTime=m.timeStamp,this.pCenter=m.center,be&&$?this.count+=1:this.count=1,this._input=m,0==this.count%v.taps)return this.hasRequireFailures()?(this._timer=La(function(){this.state=8,this.tryEmit()},v.interval,this),2):8}return 32},failTimeout:function(){return this._timer=La(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:Rd,enable:!0,inputTarget:null,inputClass:null,preset:[[Wr,{enable:!1}],[Gr,{enable:!1},["rotate"]],[Kc,{direction:6}],[Fe,{direction:6},["swipe"]],[Xo],[Xo,{event:"doubletap",taps:2},["tap"]],[ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},F.prototype={set:function(m){return Un(this.options,m),m.touchAction&&this.touchAction.update(),m.inputTarget&&(this.input.destroy(),this.input.target=m.inputTarget,this.input.init()),this},stop:function(m){this.session.stopped=m?2:1},recognize:function(m){var v=this.session;if(!v.stopped){this.touchAction.preventDefaults(m);var _,D=this.recognizers,I=v.curRecognizer;(!I||I&&8&I.state)&&(I=v.curRecognizer=null);for(var $=0;$<D.length;)_=D[$],2===v.stopped||I&&_!=I&&!_.canRecognizeWith(I)?_.reset():_.recognize(m),!I&&14&_.state&&(I=v.curRecognizer=_),$++}},get:function(m){if(m instanceof js)return m;for(var v=this.recognizers,_=0;_<v.length;_++)if(v[_].options.event==m)return v[_];return null},add:function(m){if(Gi(m,"add",this))return this;var v=this.get(m.options.event);return v&&this.remove(v),this.recognizers.push(m),m.manager=this,this.touchAction.update(),m},remove:function(m){if(Gi(m,"remove",this))return this;if(m=this.get(m)){var v=this.recognizers,_=jo(v,m);-1!==_&&(v.splice(_,1),this.touchAction.update())}return this},on:function(m,v){if(m!==lt&&v!==lt){var _=this.handlers;return rn(Ho(m),function(D){_[D]=_[D]||[],_[D].push(v)}),this}},off:function(m,v){if(m!==lt){var _=this.handlers;return rn(Ho(m),function(D){v?_[D]&&_[D].splice(jo(_[D],v),1):delete _[D]}),this}},emit:function(m,v){this.options.domEvents&&function ae(m,v){var _=Na.createEvent("Event");_.initEvent(m,!0,!0),_.gesture=v,v.target.dispatchEvent(_)}(m,v);var _=this.handlers[m]&&this.handlers[m].slice();if(_&&_.length){v.type=m,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var D=0;D<_.length;)_[D](v),D++}},destroy:function(){this.element&&qr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Un(Q,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:F,Input:$n,TouchAction:Ya,TouchInput:Ga,MouseInput:jc,PointerEventInput:$a,TouchMouseInput:Wa,SingleTouchInput:Wc,Recognizer:js,AttrRecognizer:vn,Tap:Xo,Pan:Fe,Swipe:Kc,Pinch:Gr,Rotate:Wr,Press:ze,on:Wi,off:Fa,each:rn,merge:zm,extend:Lc,assign:Un,inherit:yn,bindFn:Fc,prefixed:Va}),(typeof Yt<"u"?Yt:typeof self<"u"?self:{}).Hammer=Q,(vi=function(){return Q}.call(Nc,Rn,Nc,Ra))!==lt&&(Ra.exports=vi)}(window,document)}},Ra=>{Ra(Ra.s=538)}]);